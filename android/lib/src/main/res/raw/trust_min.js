(function(lt){typeof define=="function"&&define.amd?define(lt):lt()})(function(){"use strict";var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ni(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var se={},Mf={};Mf.byteLength=H6,Mf.toByteArray=z6,Mf.fromByteArray=V6;for(var Fi=[],ii=[],P6=typeof Uint8Array<"u"?Uint8Array:Array,Dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xa=0,F6=Dd.length;xa<F6;++xa)Fi[xa]=Dd[xa],ii[Dd.charCodeAt(xa)]=xa;ii["-".charCodeAt(0)]=62,ii["_".charCodeAt(0)]=63;function W1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function H6(e){var t=W1(e),r=t[0],n=t[1];return(r+n)*3/4-n}function D6(e,t,r){return(t+r)*3/4-r}function z6(e){var t,r=W1(e),n=r[0],i=r[1],s=new P6(D6(e,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=ii[e.charCodeAt(c)]<<18|ii[e.charCodeAt(c+1)]<<12|ii[e.charCodeAt(c+2)]<<6|ii[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=ii[e.charCodeAt(c)]<<2|ii[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=ii[e.charCodeAt(c)]<<10|ii[e.charCodeAt(c+1)]<<4|ii[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function j6(e){return Fi[e>>18&63]+Fi[e>>12&63]+Fi[e>>6&63]+Fi[e&63]}function q6(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(j6(n));return i.join("")}function V6(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(q6(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(Fi[t>>2]+Fi[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Fi[t>>10]+Fi[t>>4&63]+Fi[t<<2&63]+"=")),i.join("")}var zd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */zd.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,_=r?-1:1,w=e[t+h];for(h+=_,s=w&(1<<-l)-1,w>>=-l,l+=a;l>0;s=s*256+e[t+h],h+=_,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+h],h+=_,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(w?-1:1)*o*Math.pow(2,s-n)},zd.write=function(e,t,r,n,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,h=l>>1,_=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,A=n?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=_/c:t+=_*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+w]=a&255,w+=A,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+w]=o&255,w+=A,o/=256,u-=8);e[r+w-A]|=k*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Mf,r=zd,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=P,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const U=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(U,m),U.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(U){if(U>i)throw new RangeError('The value "'+U+'" is invalid for option "size"');const m=new Uint8Array(U);return Object.setPrototypeOf(m,a.prototype),m}function a(U,m,v){if(typeof U=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(U)}return c(U,m,v)}a.poolSize=8192;function c(U,m,v){if(typeof U=="string")return _(U,m);if(ArrayBuffer.isView(U))return A(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Jt(U,ArrayBuffer)||U&&Jt(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jt(U,SharedArrayBuffer)||U&&Jt(U.buffer,SharedArrayBuffer)))return k(U,m,v);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=U.valueOf&&U.valueOf();if(D!=null&&D!==U)return a.from(D,m,v);const K=I(U);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return a.from(U[Symbol.toPrimitive]("string"),m,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}a.from=function(U,m,v){return c(U,m,v)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function l(U,m,v){return u(U),U<=0?o(U):m!==void 0?typeof v=="string"?o(U).fill(m,v):o(U).fill(m):o(U)}a.alloc=function(U,m,v){return l(U,m,v)};function h(U){return u(U),o(U<0?0:H(U)|0)}a.allocUnsafe=function(U){return h(U)},a.allocUnsafeSlow=function(U){return h(U)};function _(U,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const v=C(U,m)|0;let D=o(v);const K=D.write(U,m);return K!==v&&(D=D.slice(0,K)),D}function w(U){const m=U.length<0?0:H(U.length)|0,v=o(m);for(let D=0;D<m;D+=1)v[D]=U[D]&255;return v}function A(U){if(Jt(U,Uint8Array)){const m=new Uint8Array(U);return k(m.buffer,m.byteOffset,m.byteLength)}return w(U)}function k(U,m,v){if(m<0||U.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<m+(v||0))throw new RangeError('"length" is outside of buffer bounds');let D;return m===void 0&&v===void 0?D=new Uint8Array(U):v===void 0?D=new Uint8Array(U,m):D=new Uint8Array(U,m,v),Object.setPrototypeOf(D,a.prototype),D}function I(U){if(a.isBuffer(U)){const m=H(U.length)|0,v=o(m);return v.length===0||U.copy(v,0,0,m),v}if(U.length!==void 0)return typeof U.length!="number"||Tt(U.length)?o(0):w(U);if(U.type==="Buffer"&&Array.isArray(U.data))return w(U.data)}function H(U){if(U>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return U|0}function P(U){return+U!=U&&(U=0),a.alloc(+U)}a.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==a.prototype},a.compare=function(m,v){if(Jt(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),Jt(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(m)||!a.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===v)return 0;let D=m.length,K=v.length;for(let J=0,ae=Math.min(D,K);J<ae;++J)if(m[J]!==v[J]){D=m[J],K=v[J];break}return D<K?-1:K<D?1:0},a.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(m,v){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return a.alloc(0);let D;if(v===void 0)for(v=0,D=0;D<m.length;++D)v+=m[D].length;const K=a.allocUnsafe(v);let J=0;for(D=0;D<m.length;++D){let ae=m[D];if(Jt(ae,Uint8Array))J+ae.length>K.length?(a.isBuffer(ae)||(ae=a.from(ae)),ae.copy(K,J)):Uint8Array.prototype.set.call(K,ae,J);else if(a.isBuffer(ae))ae.copy(K,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=ae.length}return K};function C(U,m){if(a.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Jt(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const v=U.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&v===0)return 0;let K=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return ze(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return ht(U).length;default:if(K)return D?-1:ze(U).length;m=(""+m).toLowerCase(),K=!0}}a.byteLength=C;function $(U,m,v){let D=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,m>>>=0,v<=m))return"";for(U||(U="utf8");;)switch(U){case"hex":return S(this,m,v);case"utf8":case"utf-8":return f(this,m,v);case"ascii":return x(this,m,v);case"latin1":case"binary":return E(this,m,v);case"base64":return y(this,m,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,m,v);default:if(D)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function q(U,m,v){const D=U[m];U[m]=U[v],U[v]=D}a.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<m;v+=2)q(this,v,v+1);return this},a.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<m;v+=4)q(this,v,v+3),q(this,v+1,v+2);return this},a.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<m;v+=8)q(this,v,v+7),q(this,v+1,v+6),q(this,v+2,v+5),q(this,v+3,v+4);return this},a.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?f(this,0,m):$.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(m){if(!a.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:a.compare(this,m)===0},a.prototype.inspect=function(){let m="";const v=e.INSPECT_MAX_BYTES;return m=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(m+=" ... "),"<Buffer "+m+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(m,v,D,K,J){if(Jt(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(v===void 0&&(v=0),D===void 0&&(D=m?m.length:0),K===void 0&&(K=0),J===void 0&&(J=this.length),v<0||D>m.length||K<0||J>this.length)throw new RangeError("out of range index");if(K>=J&&v>=D)return 0;if(K>=J)return-1;if(v>=D)return 1;if(v>>>=0,D>>>=0,K>>>=0,J>>>=0,this===m)return 0;let ae=J-K,Ye=D-v;const Xe=Math.min(ae,Ye),Ge=this.slice(K,J),Wt=m.slice(v,D);for(let Ve=0;Ve<Xe;++Ve)if(Ge[Ve]!==Wt[Ve]){ae=Ge[Ve],Ye=Wt[Ve];break}return ae<Ye?-1:Ye<ae?1:0};function W(U,m,v,D,K){if(U.length===0)return-1;if(typeof v=="string"?(D=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,Tt(v)&&(v=K?0:U.length-1),v<0&&(v=U.length+v),v>=U.length){if(K)return-1;v=U.length-1}else if(v<0)if(K)v=0;else return-1;if(typeof m=="string"&&(m=a.from(m,D)),a.isBuffer(m))return m.length===0?-1:V(U,m,v,D,K);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(U,m,v):Uint8Array.prototype.lastIndexOf.call(U,m,v):V(U,[m],v,D,K);throw new TypeError("val must be string, number or Buffer")}function V(U,m,v,D,K){let J=1,ae=U.length,Ye=m.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(U.length<2||m.length<2)return-1;J=2,ae/=2,Ye/=2,v/=2}function Xe(Wt,Ve){return J===1?Wt[Ve]:Wt.readUInt16BE(Ve*J)}let Ge;if(K){let Wt=-1;for(Ge=v;Ge<ae;Ge++)if(Xe(U,Ge)===Xe(m,Wt===-1?0:Ge-Wt)){if(Wt===-1&&(Wt=Ge),Ge-Wt+1===Ye)return Wt*J}else Wt!==-1&&(Ge-=Ge-Wt),Wt=-1}else for(v+Ye>ae&&(v=ae-Ye),Ge=v;Ge>=0;Ge--){let Wt=!0;for(let Ve=0;Ve<Ye;Ve++)if(Xe(U,Ge+Ve)!==Xe(m,Ve)){Wt=!1;break}if(Wt)return Ge}return-1}a.prototype.includes=function(m,v,D){return this.indexOf(m,v,D)!==-1},a.prototype.indexOf=function(m,v,D){return W(this,m,v,D,!0)},a.prototype.lastIndexOf=function(m,v,D){return W(this,m,v,D,!1)};function z(U,m,v,D){v=Number(v)||0;const K=U.length-v;D?(D=Number(D),D>K&&(D=K)):D=K;const J=m.length;D>J/2&&(D=J/2);let ae;for(ae=0;ae<D;++ae){const Ye=parseInt(m.substr(ae*2,2),16);if(Tt(Ye))return ae;U[v+ae]=Ye}return ae}function X(U,m,v,D){return wt(ze(m,U.length-v),U,v,D)}function re(U,m,v,D){return wt(ot(m),U,v,D)}function ee(U,m,v,D){return wt(ht(m),U,v,D)}function R(U,m,v,D){return wt(Kt(m,U.length-v),U,v,D)}a.prototype.write=function(m,v,D,K){if(v===void 0)K="utf8",D=this.length,v=0;else if(D===void 0&&typeof v=="string")K=v,D=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(D)?(D=D>>>0,K===void 0&&(K="utf8")):(K=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-v;if((D===void 0||D>J)&&(D=J),m.length>0&&(D<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let ae=!1;for(;;)switch(K){case"hex":return z(this,m,v,D);case"utf8":case"utf-8":return X(this,m,v,D);case"ascii":case"latin1":case"binary":return re(this,m,v,D);case"base64":return ee(this,m,v,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,m,v,D);default:if(ae)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function y(U,m,v){return m===0&&v===U.length?t.fromByteArray(U):t.fromByteArray(U.slice(m,v))}function f(U,m,v){v=Math.min(U.length,v);const D=[];let K=m;for(;K<v;){const J=U[K];let ae=null,Ye=J>239?4:J>223?3:J>191?2:1;if(K+Ye<=v){let Xe,Ge,Wt,Ve;switch(Ye){case 1:J<128&&(ae=J);break;case 2:Xe=U[K+1],(Xe&192)===128&&(Ve=(J&31)<<6|Xe&63,Ve>127&&(ae=Ve));break;case 3:Xe=U[K+1],Ge=U[K+2],(Xe&192)===128&&(Ge&192)===128&&(Ve=(J&15)<<12|(Xe&63)<<6|Ge&63,Ve>2047&&(Ve<55296||Ve>57343)&&(ae=Ve));break;case 4:Xe=U[K+1],Ge=U[K+2],Wt=U[K+3],(Xe&192)===128&&(Ge&192)===128&&(Wt&192)===128&&(Ve=(J&15)<<18|(Xe&63)<<12|(Ge&63)<<6|Wt&63,Ve>65535&&Ve<1114112&&(ae=Ve))}}ae===null?(ae=65533,Ye=1):ae>65535&&(ae-=65536,D.push(ae>>>10&1023|55296),ae=56320|ae&1023),D.push(ae),K+=Ye}return b(D)}const d=4096;function b(U){const m=U.length;if(m<=d)return String.fromCharCode.apply(String,U);let v="",D=0;for(;D<m;)v+=String.fromCharCode.apply(String,U.slice(D,D+=d));return v}function x(U,m,v){let D="";v=Math.min(U.length,v);for(let K=m;K<v;++K)D+=String.fromCharCode(U[K]&127);return D}function E(U,m,v){let D="";v=Math.min(U.length,v);for(let K=m;K<v;++K)D+=String.fromCharCode(U[K]);return D}function S(U,m,v){const D=U.length;(!m||m<0)&&(m=0),(!v||v<0||v>D)&&(v=D);let K="";for(let J=m;J<v;++J)K+=Rt[U[J]];return K}function L(U,m,v){const D=U.slice(m,v);let K="";for(let J=0;J<D.length-1;J+=2)K+=String.fromCharCode(D[J]+D[J+1]*256);return K}a.prototype.slice=function(m,v){const D=this.length;m=~~m,v=v===void 0?D:~~v,m<0?(m+=D,m<0&&(m=0)):m>D&&(m=D),v<0?(v+=D,v<0&&(v=0)):v>D&&(v=D),v<m&&(v=m);const K=this.subarray(m,v);return Object.setPrototypeOf(K,a.prototype),K};function T(U,m,v){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+m>v)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(m,v,D){m=m>>>0,v=v>>>0,D||T(m,v,this.length);let K=this[m],J=1,ae=0;for(;++ae<v&&(J*=256);)K+=this[m+ae]*J;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(m,v,D){m=m>>>0,v=v>>>0,D||T(m,v,this.length);let K=this[m+--v],J=1;for(;v>0&&(J*=256);)K+=this[m+--v]*J;return K},a.prototype.readUint8=a.prototype.readUInt8=function(m,v){return m=m>>>0,v||T(m,1,this.length),this[m]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(m,v){return m=m>>>0,v||T(m,2,this.length),this[m]|this[m+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(m,v){return m=m>>>0,v||T(m,2,this.length),this[m]<<8|this[m+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(m,v){return m=m>>>0,v||T(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(m,v){return m=m>>>0,v||T(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},a.prototype.readBigUInt64LE=nr(function(m){m=m>>>0,ge(m,"offset");const v=this[m],D=this[m+7];(v===void 0||D===void 0)&&me(m,this.length-8);const K=v+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,J=this[++m]+this[++m]*2**8+this[++m]*2**16+D*2**24;return BigInt(K)+(BigInt(J)<<BigInt(32))}),a.prototype.readBigUInt64BE=nr(function(m){m=m>>>0,ge(m,"offset");const v=this[m],D=this[m+7];(v===void 0||D===void 0)&&me(m,this.length-8);const K=v*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],J=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+D;return(BigInt(K)<<BigInt(32))+BigInt(J)}),a.prototype.readIntLE=function(m,v,D){m=m>>>0,v=v>>>0,D||T(m,v,this.length);let K=this[m],J=1,ae=0;for(;++ae<v&&(J*=256);)K+=this[m+ae]*J;return J*=128,K>=J&&(K-=Math.pow(2,8*v)),K},a.prototype.readIntBE=function(m,v,D){m=m>>>0,v=v>>>0,D||T(m,v,this.length);let K=v,J=1,ae=this[m+--K];for(;K>0&&(J*=256);)ae+=this[m+--K]*J;return J*=128,ae>=J&&(ae-=Math.pow(2,8*v)),ae},a.prototype.readInt8=function(m,v){return m=m>>>0,v||T(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},a.prototype.readInt16LE=function(m,v){m=m>>>0,v||T(m,2,this.length);const D=this[m]|this[m+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(m,v){m=m>>>0,v||T(m,2,this.length);const D=this[m+1]|this[m]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(m,v){return m=m>>>0,v||T(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},a.prototype.readInt32BE=function(m,v){return m=m>>>0,v||T(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},a.prototype.readBigInt64LE=nr(function(m){m=m>>>0,ge(m,"offset");const v=this[m],D=this[m+7];(v===void 0||D===void 0)&&me(m,this.length-8);const K=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(D<<24);return(BigInt(K)<<BigInt(32))+BigInt(v+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),a.prototype.readBigInt64BE=nr(function(m){m=m>>>0,ge(m,"offset");const v=this[m],D=this[m+7];(v===void 0||D===void 0)&&me(m,this.length-8);const K=(v<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(K)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+D)}),a.prototype.readFloatLE=function(m,v){return m=m>>>0,v||T(m,4,this.length),r.read(this,m,!0,23,4)},a.prototype.readFloatBE=function(m,v){return m=m>>>0,v||T(m,4,this.length),r.read(this,m,!1,23,4)},a.prototype.readDoubleLE=function(m,v){return m=m>>>0,v||T(m,8,this.length),r.read(this,m,!0,52,8)},a.prototype.readDoubleBE=function(m,v){return m=m>>>0,v||T(m,8,this.length),r.read(this,m,!1,52,8)};function p(U,m,v,D,K,J){if(!a.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>K||m<J)throw new RangeError('"value" argument is out of bounds');if(v+D>U.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(m,v,D,K){if(m=+m,v=v>>>0,D=D>>>0,!K){const Ye=Math.pow(2,8*D)-1;p(this,m,v,D,Ye,0)}let J=1,ae=0;for(this[v]=m&255;++ae<D&&(J*=256);)this[v+ae]=m/J&255;return v+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(m,v,D,K){if(m=+m,v=v>>>0,D=D>>>0,!K){const Ye=Math.pow(2,8*D)-1;p(this,m,v,D,Ye,0)}let J=D-1,ae=1;for(this[v+J]=m&255;--J>=0&&(ae*=256);)this[v+J]=m/ae&255;return v+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,1,255,0),this[v]=m&255,v+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,2,65535,0),this[v]=m&255,this[v+1]=m>>>8,v+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,2,65535,0),this[v]=m>>>8,this[v+1]=m&255,v+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,4,4294967295,0),this[v+3]=m>>>24,this[v+2]=m>>>16,this[v+1]=m>>>8,this[v]=m&255,v+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,4,4294967295,0),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255,v+4};function O(U,m,v,D,K){Pe(m,D,K,U,v,7);let J=Number(m&BigInt(4294967295));U[v++]=J,J=J>>8,U[v++]=J,J=J>>8,U[v++]=J,J=J>>8,U[v++]=J;let ae=Number(m>>BigInt(32)&BigInt(4294967295));return U[v++]=ae,ae=ae>>8,U[v++]=ae,ae=ae>>8,U[v++]=ae,ae=ae>>8,U[v++]=ae,v}function G(U,m,v,D,K){Pe(m,D,K,U,v,7);let J=Number(m&BigInt(4294967295));U[v+7]=J,J=J>>8,U[v+6]=J,J=J>>8,U[v+5]=J,J=J>>8,U[v+4]=J;let ae=Number(m>>BigInt(32)&BigInt(4294967295));return U[v+3]=ae,ae=ae>>8,U[v+2]=ae,ae=ae>>8,U[v+1]=ae,ae=ae>>8,U[v]=ae,v+8}a.prototype.writeBigUInt64LE=nr(function(m,v=0){return O(this,m,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=nr(function(m,v=0){return G(this,m,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(m,v,D,K){if(m=+m,v=v>>>0,!K){const Xe=Math.pow(2,8*D-1);p(this,m,v,D,Xe-1,-Xe)}let J=0,ae=1,Ye=0;for(this[v]=m&255;++J<D&&(ae*=256);)m<0&&Ye===0&&this[v+J-1]!==0&&(Ye=1),this[v+J]=(m/ae>>0)-Ye&255;return v+D},a.prototype.writeIntBE=function(m,v,D,K){if(m=+m,v=v>>>0,!K){const Xe=Math.pow(2,8*D-1);p(this,m,v,D,Xe-1,-Xe)}let J=D-1,ae=1,Ye=0;for(this[v+J]=m&255;--J>=0&&(ae*=256);)m<0&&Ye===0&&this[v+J+1]!==0&&(Ye=1),this[v+J]=(m/ae>>0)-Ye&255;return v+D},a.prototype.writeInt8=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,1,127,-128),m<0&&(m=255+m+1),this[v]=m&255,v+1},a.prototype.writeInt16LE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,2,32767,-32768),this[v]=m&255,this[v+1]=m>>>8,v+2},a.prototype.writeInt16BE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,2,32767,-32768),this[v]=m>>>8,this[v+1]=m&255,v+2},a.prototype.writeInt32LE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,4,2147483647,-2147483648),this[v]=m&255,this[v+1]=m>>>8,this[v+2]=m>>>16,this[v+3]=m>>>24,v+4},a.prototype.writeInt32BE=function(m,v,D){return m=+m,v=v>>>0,D||p(this,m,v,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[v]=m>>>24,this[v+1]=m>>>16,this[v+2]=m>>>8,this[v+3]=m&255,v+4},a.prototype.writeBigInt64LE=nr(function(m,v=0){return O(this,m,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=nr(function(m,v=0){return G(this,m,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(U,m,v,D,K,J){if(v+D>U.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function ne(U,m,v,D,K){return m=+m,v=v>>>0,K||Z(U,m,v,4),r.write(U,m,v,D,23,4),v+4}a.prototype.writeFloatLE=function(m,v,D){return ne(this,m,v,!0,D)},a.prototype.writeFloatBE=function(m,v,D){return ne(this,m,v,!1,D)};function Se(U,m,v,D,K){return m=+m,v=v>>>0,K||Z(U,m,v,8),r.write(U,m,v,D,52,8),v+8}a.prototype.writeDoubleLE=function(m,v,D){return Se(this,m,v,!0,D)},a.prototype.writeDoubleBE=function(m,v,D){return Se(this,m,v,!1,D)},a.prototype.copy=function(m,v,D,K){if(!a.isBuffer(m))throw new TypeError("argument should be a Buffer");if(D||(D=0),!K&&K!==0&&(K=this.length),v>=m.length&&(v=m.length),v||(v=0),K>0&&K<D&&(K=D),K===D||m.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),m.length-v<K-D&&(K=m.length-v+D);const J=K-D;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,D,K):Uint8Array.prototype.set.call(m,this.subarray(D,K),v),J},a.prototype.fill=function(m,v,D,K){if(typeof m=="string"){if(typeof v=="string"?(K=v,v=0,D=this.length):typeof D=="string"&&(K=D,D=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(m.length===1){const ae=m.charCodeAt(0);(K==="utf8"&&ae<128||K==="latin1")&&(m=ae)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(v<0||this.length<v||this.length<D)throw new RangeError("Out of range index");if(D<=v)return this;v=v>>>0,D=D===void 0?this.length:D>>>0,m||(m=0);let J;if(typeof m=="number")for(J=v;J<D;++J)this[J]=m;else{const ae=a.isBuffer(m)?m:a.from(m,K),Ye=ae.length;if(Ye===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(J=0;J<D-v;++J)this[J+v]=ae[J%Ye]}return this};const _e={};function ye(U,m,v){_e[U]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(U,m){return`The "${U}" argument must be of type number. Received type ${typeof m}`},TypeError),ye("ERR_OUT_OF_RANGE",function(U,m,v){let D=`The value of "${U}" is out of range.`,K=v;return Number.isInteger(v)&&Math.abs(v)>2**32?K=nt(String(v)):typeof v=="bigint"&&(K=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(K=nt(K)),K+="n"),D+=` It must be ${m}. Received ${K}`,D},RangeError);function nt(U){let m="",v=U.length;const D=U[0]==="-"?1:0;for(;v>=D+4;v-=3)m=`_${U.slice(v-3,v)}${m}`;return`${U.slice(0,v)}${m}`}function Fe(U,m,v){ge(m,"offset"),(U[m]===void 0||U[m+v]===void 0)&&me(m,U.length-(v+1))}function Pe(U,m,v,D,K,J){if(U>v||U<m){const ae=typeof m=="bigint"?"n":"";let Ye;throw J>3?m===0||m===BigInt(0)?Ye=`>= 0${ae} and < 2${ae} ** ${(J+1)*8}${ae}`:Ye=`>= -(2${ae} ** ${(J+1)*8-1}${ae}) and < 2 ** ${(J+1)*8-1}${ae}`:Ye=`>= ${m}${ae} and <= ${v}${ae}`,new _e.ERR_OUT_OF_RANGE("value",Ye,U)}Fe(D,K,J)}function ge(U,m){if(typeof U!="number")throw new _e.ERR_INVALID_ARG_TYPE(m,"number",U)}function me(U,m,v){throw Math.floor(U)!==U?(ge(U,v),new _e.ERR_OUT_OF_RANGE(v||"offset","an integer",U)):m<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${m}`,U)}const Ce=/[^+/0-9A-Za-z-_]/g;function St(U){if(U=U.split("=")[0],U=U.trim().replace(Ce,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function ze(U,m){m=m||1/0;let v;const D=U.length;let K=null;const J=[];for(let ae=0;ae<D;++ae){if(v=U.charCodeAt(ae),v>55295&&v<57344){if(!K){if(v>56319){(m-=3)>-1&&J.push(239,191,189);continue}else if(ae+1===D){(m-=3)>-1&&J.push(239,191,189);continue}K=v;continue}if(v<56320){(m-=3)>-1&&J.push(239,191,189),K=v;continue}v=(K-55296<<10|v-56320)+65536}else K&&(m-=3)>-1&&J.push(239,191,189);if(K=null,v<128){if((m-=1)<0)break;J.push(v)}else if(v<2048){if((m-=2)<0)break;J.push(v>>6|192,v&63|128)}else if(v<65536){if((m-=3)<0)break;J.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((m-=4)<0)break;J.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return J}function ot(U){const m=[];for(let v=0;v<U.length;++v)m.push(U.charCodeAt(v)&255);return m}function Kt(U,m){let v,D,K;const J=[];for(let ae=0;ae<U.length&&!((m-=2)<0);++ae)v=U.charCodeAt(ae),D=v>>8,K=v%256,J.push(K),J.push(D);return J}function ht(U){return t.toByteArray(St(U))}function wt(U,m,v,D){let K;for(K=0;K<D&&!(K+v>=m.length||K>=U.length);++K)m[K+v]=U[K];return K}function Jt(U,m){return U instanceof m||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===m.name}function Tt(U){return U!==U}const Rt=function(){const U="0123456789abcdef",m=new Array(256);for(let v=0;v<16;++v){const D=v*16;for(let K=0;K<16;++K)m[D+K]=U[v]+U[K]}return m}();function nr(U){return typeof BigInt>"u"?Lt:U}function Lt(){throw new Error("BigInt not supported")}})(se);var si={exports:{}},Ea=typeof Reflect=="object"?Reflect:null,G1=Ea&&typeof Ea.apply=="function"?Ea.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Nf;Ea&&typeof Ea.ownKeys=="function"?Nf=Ea.ownKeys:Object.getOwnPropertySymbols?Nf=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Nf=function(t){return Object.getOwnPropertyNames(t)};function K6(e){console&&console.warn&&console.warn(e)}var Z1=Number.isNaN||function(t){return t!==t};function er(){er.init.call(this)}si.exports=er,si.exports.once=Y6,er.EventEmitter=er,er.prototype._events=void 0,er.prototype._eventsCount=0,er.prototype._maxListeners=void 0;var Y1=10;function Pf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(er,"defaultMaxListeners",{enumerable:!0,get:function(){return Y1},set:function(e){if(typeof e!="number"||e<0||Z1(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Y1=e}}),er.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},er.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Z1(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function X1(e){return e._maxListeners===void 0?er.defaultMaxListeners:e._maxListeners}er.prototype.getMaxListeners=function(){return X1(this)},er.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")G1(c,this,r);else for(var u=c.length,l=rw(c,u),n=0;n<u;++n)G1(l[n],this,r);return!0};function J1(e,t,r,n){var i,s,o;if(Pf(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=X1(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,K6(a)}return e}er.prototype.addListener=function(t,r){return J1(this,t,r,!1)},er.prototype.on=er.prototype.addListener,er.prototype.prependListener=function(t,r){return J1(this,t,r,!0)};function W6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Q1(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=W6.bind(n);return i.listener=r,n.wrapFn=i,i}er.prototype.once=function(t,r){return Pf(r),this.on(t,Q1(this,t,r)),this},er.prototype.prependOnceListener=function(t,r){return Pf(r),this.prependListener(t,Q1(this,t,r)),this},er.prototype.removeListener=function(t,r){var n,i,s,o,a;if(Pf(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():G6(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this},er.prototype.off=er.prototype.removeListener,er.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function ew(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Z6(i):rw(i,i.length)}er.prototype.listeners=function(t){return ew(this,t,!0)},er.prototype.rawListeners=function(t){return ew(this,t,!1)},er.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):tw.call(e,t)},er.prototype.listenerCount=tw;function tw(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}er.prototype.eventNames=function(){return this._eventsCount>0?Nf(this._events):[]};function rw(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function G6(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Z6(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Y6(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}nw(e,t,s,{once:!0}),t!=="error"&&X6(e,i,{once:!0})})}function X6(e,t,r){typeof e.on=="function"&&nw(e,"error",t,r)}function nw(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var iw=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Ff=(e,t,r)=>(iw(e,t,"read from private field"),r?r.call(e):t.get(e)),sw=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ow=(e,t,r,n)=>(iw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Hf,Sa;const Zc={PROMISES:"PROMISES",CALLBACK:"CALLBACK"},aw=class{constructor(e){sw(this,Hf,void 0),sw(this,Sa,void 0),this.setStrategy(e)}static isCallbackAdapterRequest(e){return e.id!==void 0}setHandler(e){return ow(this,Sa,e),this}request(e,t){if(!Ff(this,Sa))throw new Error("No handler defined for Adapter");return aw.isCallbackAdapterRequest(e)?Ff(this,Sa).call(this,{network:t,id:e.id,name:e.method,params:e.params,object:e.params}):Ff(this,Sa).call(this,{name:e.method,network:t,params:e.params,object:e.params})}setStrategy(e){return ow(this,Hf,e),this}getStrategy(){return Ff(this,Hf)}};let cw=aw;Hf=new WeakMap,Sa=new WeakMap;var J6=Object.defineProperty,Q6=Object.defineProperties,eT=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,tT=Object.prototype.hasOwnProperty,rT=Object.prototype.propertyIsEnumerable,fw=(e,t,r)=>t in e?J6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nT=(e,t)=>{for(var r in t||(t={}))tT.call(t,r)&&fw(e,r,t[r]);if(uw)for(var r of uw(t))rT.call(t,r)&&fw(e,r,t[r]);return e},iT=(e,t)=>Q6(e,eT(t));class sT extends cw{constructor(){super(Zc.CALLBACK),this.callback=new Map}async request(t,r){return new Promise((n,i)=>{const s=new Date().getTime()+Math.floor(Math.random()*1e3);this.callback.set(s.toString(),{reject:i,resolve:n}),super.request(iT(nT({},t),{id:s}),r)})}sendResponse(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.resolve(r)}else console.error(`Unable to find callback for requestId: ${t}`)}sendError(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.reject(r)}else console.error(`Unable to find callback for requestId: ${t}`)}}class oT extends cw{constructor(){super(Zc.PROMISES)}request(t,r){return super.request(t,r)}}class jd extends si.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==Zc.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==Zc.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}var lw=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Aa=(e,t,r)=>(lw(e,t,"read from private field"),r?r.call(e):t.get(e)),aT=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},cT=(e,t,r,n)=>(lw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),cs;class uT{constructor(t){aT(this,cs,void 0);const r=t.strategy===Zc.CALLBACK?new sT:new oT;t.handler&&r.setHandler(t.handler),this.setAdapter(r)}setHandler(t){Aa(this,cs).setHandler(t)}setAdapter(t){return cT(this,cs,t),this}registerProvider(t){return t.setAdapter(Aa(this,cs)),this}registerProviders(t){return t.forEach(r=>this.registerProvider(r)),this}sendResponse(t,r){Aa(this,cs).getStrategy()==="CALLBACK"&&Aa(this,cs).sendResponse(t,r)}sendError(t,r){Aa(this,cs).getStrategy()==="CALLBACK"&&Aa(this,cs).sendError(t,r)}}cs=new WeakMap;function hw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function fT(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Df(e,...t){if(!fT(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function lT(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hw(e.outputLen),hw(e.blockLen)}function zf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function hT(e,t){Df(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const qd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vd=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Hi=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function dw(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Kd(e){return typeof e=="string"&&(e=dw(e)),Df(e),e}function pw(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Df(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class gw{clone(){return this._cloneInto()}}function yw(e){const t=n=>e().update(Kd(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ww(e=32){if(qd&&typeof qd.getRandomValues=="function")return qd.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function dT(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}const pT=(e,t,r)=>e&t^~e&r,gT=(e,t,r)=>e&t^e&r^t&r;class mw extends gw{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Vd(this.buffer)}update(t){zf(this);const{view:r,buffer:n,blockLen:i}=this;t=Kd(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Vd(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){zf(this),hT(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;dT(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Vd(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,l[h],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const jf=BigInt(2**32-1),Wd=BigInt(32);function bw(e,t=!1){return t?{h:Number(e&jf),l:Number(e>>Wd&jf)}:{h:Number(e>>Wd&jf)|0,l:Number(e&jf)|0}}function yT(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=bw(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const wT=(e,t)=>BigInt(e>>>0)<<Wd|BigInt(t>>>0),mT=(e,t,r)=>e>>>r,bT=(e,t,r)=>e<<32-r|t>>>r,_T=(e,t,r)=>e>>>r|t<<32-r,vT=(e,t,r)=>e<<32-r|t>>>r,xT=(e,t,r)=>e<<64-r|t>>>r-32,ET=(e,t,r)=>e>>>r-32|t<<64-r,ST=(e,t)=>t,AT=(e,t)=>e,BT=(e,t,r)=>e<<r|t>>>32-r,TT=(e,t,r)=>t<<r|e>>>32-r,IT=(e,t,r)=>t<<r-32|e>>>64-r,RT=(e,t,r)=>e<<r-32|t>>>64-r;function kT(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const vt={fromBig:bw,split:yT,toBig:wT,shrSH:mT,shrSL:bT,rotrSH:_T,rotrSL:vT,rotrBH:xT,rotrBL:ET,rotr32H:ST,rotr32L:AT,rotlSH:BT,rotlSL:TT,rotlBH:IT,rotlBL:RT,add:kT,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[CT,$T]=(()=>vt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Us=new Uint32Array(80),Ms=new Uint32Array(80);class LT extends mw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:h,Fl:_,Gh:w,Gl:A,Hh:k,Hl:I}=this;return[t,r,n,i,s,o,a,c,u,l,h,_,w,A,k,I]}set(t,r,n,i,s,o,a,c,u,l,h,_,w,A,k,I){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=h|0,this.Fl=_|0,this.Gh=w|0,this.Gl=A|0,this.Hh=k|0,this.Hl=I|0}process(t,r){for(let C=0;C<16;C++,r+=4)Us[C]=t.getUint32(r),Ms[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){const $=Us[C-15]|0,q=Ms[C-15]|0,W=vt.rotrSH($,q,1)^vt.rotrSH($,q,8)^vt.shrSH($,q,7),V=vt.rotrSL($,q,1)^vt.rotrSL($,q,8)^vt.shrSL($,q,7),z=Us[C-2]|0,X=Ms[C-2]|0,re=vt.rotrSH(z,X,19)^vt.rotrBH(z,X,61)^vt.shrSH(z,X,6),ee=vt.rotrSL(z,X,19)^vt.rotrBL(z,X,61)^vt.shrSL(z,X,6),R=vt.add4L(V,ee,Ms[C-7],Ms[C-16]),y=vt.add4H(R,W,re,Us[C-7],Us[C-16]);Us[C]=y|0,Ms[C]=R|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:h,El:_,Fh:w,Fl:A,Gh:k,Gl:I,Hh:H,Hl:P}=this;for(let C=0;C<80;C++){const $=vt.rotrSH(h,_,14)^vt.rotrSH(h,_,18)^vt.rotrBH(h,_,41),q=vt.rotrSL(h,_,14)^vt.rotrSL(h,_,18)^vt.rotrBL(h,_,41),W=h&w^~h&k,V=_&A^~_&I,z=vt.add5L(P,q,V,$T[C],Ms[C]),X=vt.add5H(z,H,$,W,CT[C],Us[C]),re=z|0,ee=vt.rotrSH(n,i,28)^vt.rotrBH(n,i,34)^vt.rotrBH(n,i,39),R=vt.rotrSL(n,i,28)^vt.rotrBL(n,i,34)^vt.rotrBL(n,i,39),y=n&s^n&a^s&a,f=i&o^i&c^o&c;H=k|0,P=I|0,k=w|0,I=A|0,w=h|0,A=_|0,{h,l:_}=vt.add(u|0,l|0,X|0,re|0),u=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const d=vt.add3L(re,R,f);n=vt.add3H(d,X,ee,y),i=d|0}({h:n,l:i}=vt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=vt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=vt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=vt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h,l:_}=vt.add(this.Eh|0,this.El|0,h|0,_|0),{h:w,l:A}=vt.add(this.Fh|0,this.Fl|0,w|0,A|0),{h:k,l:I}=vt.add(this.Gh|0,this.Gl|0,k|0,I|0),{h:H,l:P}=vt.add(this.Hh|0,this.Hl|0,H|0,P|0),this.set(n,i,s,o,a,c,u,l,h,_,w,A,k,I,H,P)}roundClean(){Us.fill(0),Ms.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const _w=yw(()=>new LT);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vw=BigInt(0),qf=BigInt(1),OT=BigInt(2);function $o(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Yc(e){if(!$o(e))throw new Error("Uint8Array expected")}const UT=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Lo(e){Yc(e);let t="";for(let r=0;r<e.length;r++)t+=UT[e[r]];return t}function xw(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Gd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const us={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ew(e){if(e>=us._0&&e<=us._9)return e-us._0;if(e>=us._A&&e<=us._F)return e-(us._A-10);if(e>=us._a&&e<=us._f)return e-(us._a-10)}function Ba(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=Ew(e.charCodeAt(s)),a=Ew(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Oo(e){return Gd(Lo(e))}function Ta(e){return Yc(e),Gd(Lo(Uint8Array.from(e).reverse()))}function Ia(e,t){return Ba(e.toString(16).padStart(t*2,"0"))}function Xc(e,t){return Ia(e,t).reverse()}function MT(e){return Ba(xw(e))}function jr(e,t,r){let n;if(typeof t=="string")try{n=Ba(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if($o(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Uo(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Yc(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function NT(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function PT(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function FT(e){let t;for(t=0;e>vw;e>>=qf,t+=1);return t}function HT(e,t){return e>>BigInt(t)&qf}function DT(e,t,r){return e|(r?qf:vw)<<BigInt(t)}const Zd=e=>(OT<<BigInt(e-1))-qf,Yd=e=>new Uint8Array(e),Sw=e=>Uint8Array.from(e);function Aw(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Yd(e),i=Yd(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),c=(h=Yd())=>{i=a(Sw([0]),h),n=a(),h.length!==0&&(i=a(Sw([1]),h),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const _=[];for(;h<t;){n=a();const w=n.slice();_.push(w),h+=n.length}return Uo(..._)};return(h,_)=>{o(),c(h);let w;for(;!(w=_(u()));)c();return o(),w}}const zT={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||$o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ra(e,t,r={}){const n=(i,s,o)=>{const a=zT[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}var jT=Object.freeze({__proto__:null,isBytes:$o,abytes:Yc,bytesToHex:Lo,numberToHexUnpadded:xw,hexToNumber:Gd,hexToBytes:Ba,bytesToNumberBE:Oo,bytesToNumberLE:Ta,numberToBytesBE:Ia,numberToBytesLE:Xc,numberToVarBytesBE:MT,ensureBytes:jr,concatBytes:Uo,equalBytes:NT,utf8ToBytes:PT,bitLen:FT,bitGet:HT,bitSet:DT,bitMask:Zd,createHmacDrbg:Aw,validateObject:Ra});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xr=BigInt(0),br=BigInt(1),Mo=BigInt(2),qT=BigInt(3),Xd=BigInt(4),Bw=BigInt(5),Tw=BigInt(8);BigInt(9),BigInt(16);function lr(e,t){const r=e%t;return r>=Xr?r:t+r}function VT(e,t,r){if(r<=Xr||t<Xr)throw new Error("Expected power/modulo > 0");if(r===br)return Xr;let n=br;for(;t>Xr;)t&br&&(n=n*e%r),e=e*e%r,t>>=br;return n}function Ar(e,t,r){let n=e;for(;t-- >Xr;)n*=n,n%=r;return n}function Jd(e,t){if(e===Xr||t<=Xr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=lr(e,t),n=t,i=Xr,s=br;for(;r!==Xr;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==br)throw new Error("invert: does not exist");return lr(i,t)}function KT(e){const t=(e-br)/Mo;let r,n,i;for(r=e-br,n=0;r%Mo===Xr;r/=Mo,n++);for(i=Mo;i<e&&VT(i,t,e)!==e-br;i++);if(n===1){const o=(e+br)/Xd;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+br)/Mo;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),h=a.pow(c,s),_=a.pow(c,r);for(;!a.eql(_,a.ONE);){if(a.eql(_,a.ZERO))return a.ZERO;let w=1;for(let k=a.sqr(_);w<u&&!a.eql(k,a.ONE);w++)k=a.sqr(k);const A=a.pow(l,br<<BigInt(u-w-1));l=a.sqr(A),h=a.mul(h,A),_=a.mul(_,l),u=w}return h}}function WT(e){if(e%Xd===qT){const t=(e+br)/Xd;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%Tw===Bw){const t=(e-Bw)/Tw;return function(n,i){const s=n.mul(i,Mo),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,Mo),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return KT(e)}const GT=(e,t)=>(lr(e,t)&br)===br,ZT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YT(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ZT.reduce((n,i)=>(n[i]="function",n),t);return Ra(e,r)}function XT(e,t,r){if(r<Xr)throw new Error("Expected power > 0");if(r===Xr)return e.ONE;if(r===br)return t;let n=e.ONE,i=t;for(;r>Xr;)r&br&&(n=e.mul(n,i)),i=e.sqr(i),r>>=br;return n}function JT(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function Iw(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Rw(e,t,r=!1,n={}){if(e<=Xr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Iw(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=WT(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Zd(i),ZERO:Xr,ONE:br,create:c=>lr(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Xr<=c&&c<e},is0:c=>c===Xr,isOdd:c=>(c&br)===br,neg:c=>lr(-c,e),eql:(c,u)=>c===u,sqr:c=>lr(c*c,e),add:(c,u)=>lr(c+u,e),sub:(c,u)=>lr(c-u,e),mul:(c,u)=>lr(c*u,e),pow:(c,u)=>XT(a,c,u),div:(c,u)=>lr(c*Jd(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Jd(c,e),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>JT(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?Xc(c,s):Ia(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?Ta(c):Oo(c)}});return Object.freeze(a)}function QT(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function kw(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Cw(e){const t=kw(e);return t+Math.ceil(t/2)}function e8(e,t,r=!1){const n=e.length,i=kw(t),s=Cw(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?Oo(e):Ta(e),a=lr(o,t-br)+br;return r?Xc(a,i):Ia(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t8=BigInt(0),Qd=BigInt(1);function $w(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>t8;)s&Qd&&(o=o.add(a)),a=a.double(),s>>=Qd;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let u=i,l=u;for(let h=0;h<o;h++){l=u,c.push(l);for(let _=1;_<a;_++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const h=BigInt(2**i-1),_=2**i,w=BigInt(i);for(let A=0;A<a;A++){const k=A*c;let I=Number(o&h);o>>=w,I>c&&(I-=_,o+=Qd);const H=k,P=k+Math.abs(I)-1,C=A%2!==0,$=I<0;I===0?l=l.add(r(C,s[H])):u=u.add(r($,s[P]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function e0(e){return YT(e.Fp),Ra(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Iw(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vi=BigInt(0),Vn=BigInt(1),Vf=BigInt(2),r8=BigInt(8),n8={zip215:!0};function i8(e){const t=e0(e);return Ra(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function t0(e){const t=i8(e),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=Vf<<BigInt(a*8)-Vn,l=r.create,h=t.uvRatio||((E,S)=>{try{return{isValid:!0,value:r.sqrt(E*r.inv(S))}}catch{return{isValid:!1,value:vi}}}),_=t.adjustScalarBytes||(E=>E),w=t.domain||((E,S,L)=>{if(S.length||L)throw new Error("Contexts/pre-hash are not supported");return E}),A=E=>typeof E=="bigint"&&vi<E,k=(E,S)=>A(E)&&A(S)&&E<S,I=E=>E===vi||k(E,u);function H(E,S){if(k(E,S))return E;throw new Error(`Expected valid scalar < ${S}, got ${typeof E} ${E}`)}function P(E){return E===vi?E:H(E,n)}const C=new Map;function $(E){if(!(E instanceof q))throw new Error("ExtendedPoint expected")}class q{constructor(S,L,T,p){if(this.ex=S,this.ey=L,this.ez=T,this.et=p,!I(S))throw new Error("x required");if(!I(L))throw new Error("y required");if(!I(T))throw new Error("z required");if(!I(p))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof q)throw new Error("extended point not allowed");const{x:L,y:T}=S||{};if(!I(L)||!I(T))throw new Error("invalid affine point");return new q(L,T,Vn,l(L*T))}static normalizeZ(S){const L=r.invertBatch(S.map(T=>T.ez));return S.map((T,p)=>T.toAffine(L[p])).map(q.fromAffine)}_setWindowSize(S){this._WINDOW_SIZE=S,C.delete(this)}assertValidity(){const{a:S,d:L}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:T,ey:p,ez:O,et:G}=this,Z=l(T*T),ne=l(p*p),Se=l(O*O),_e=l(Se*Se),ye=l(Z*S),nt=l(Se*l(ye+ne)),Fe=l(_e+l(L*l(Z*ne)));if(nt!==Fe)throw new Error("bad point: equation left != right (1)");const Pe=l(T*p),ge=l(O*G);if(Pe!==ge)throw new Error("bad point: equation left != right (2)")}equals(S){$(S);const{ex:L,ey:T,ez:p}=this,{ex:O,ey:G,ez:Z}=S,ne=l(L*Z),Se=l(O*p),_e=l(T*Z),ye=l(G*p);return ne===Se&&_e===ye}is0(){return this.equals(q.ZERO)}negate(){return new q(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:S}=t,{ex:L,ey:T,ez:p}=this,O=l(L*L),G=l(T*T),Z=l(Vf*l(p*p)),ne=l(S*O),Se=L+T,_e=l(l(Se*Se)-O-G),ye=ne+G,nt=ye-Z,Fe=ne-G,Pe=l(_e*nt),ge=l(ye*Fe),me=l(_e*Fe),Ce=l(nt*ye);return new q(Pe,ge,Ce,me)}add(S){$(S);const{a:L,d:T}=t,{ex:p,ey:O,ez:G,et:Z}=this,{ex:ne,ey:Se,ez:_e,et:ye}=S;if(L===BigInt(-1)){const Jt=l((O-p)*(Se+ne)),Tt=l((O+p)*(Se-ne)),Rt=l(Tt-Jt);if(Rt===vi)return this.double();const nr=l(G*Vf*ye),Lt=l(Z*Vf*_e),U=Lt+nr,m=Tt+Jt,v=Lt-nr,D=l(U*Rt),K=l(m*v),J=l(U*v),ae=l(Rt*m);return new q(D,K,ae,J)}const nt=l(p*ne),Fe=l(O*Se),Pe=l(Z*T*ye),ge=l(G*_e),me=l((p+O)*(ne+Se)-nt-Fe),Ce=ge-Pe,St=ge+Pe,ze=l(Fe-L*nt),ot=l(me*Ce),Kt=l(St*ze),ht=l(me*ze),wt=l(Ce*St);return new q(ot,Kt,wt,ht)}subtract(S){return this.add(S.negate())}wNAF(S){return z.wNAFCached(this,C,S,q.normalizeZ)}multiply(S){const{p:L,f:T}=this.wNAF(H(S,n));return q.normalizeZ([L,T])[0]}multiplyUnsafe(S){let L=P(S);return L===vi?V:this.equals(V)||L===Vn?this:this.equals(W)?this.wNAF(L).p:z.unsafeLadder(this,L)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return z.unsafeLadder(this,n).is0()}toAffine(S){const{ex:L,ey:T,ez:p}=this,O=this.is0();S==null&&(S=O?r8:r.inv(p));const G=l(L*S),Z=l(T*S),ne=l(p*S);if(O)return{x:vi,y:Vn};if(ne!==Vn)throw new Error("invZ was invalid");return{x:G,y:Z}}clearCofactor(){const{h:S}=t;return S===Vn?this:this.multiplyUnsafe(S)}static fromHex(S,L=!1){const{d:T,a:p}=t,O=r.BYTES;S=jr("pointHex",S,O);const G=S.slice(),Z=S[O-1];G[O-1]=Z&-129;const ne=Ta(G);ne===vi||(L?H(ne,u):H(ne,r.ORDER));const Se=l(ne*ne),_e=l(Se-Vn),ye=l(T*Se-p);let{isValid:nt,value:Fe}=h(_e,ye);if(!nt)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(Fe&Vn)===Vn,ge=(Z&128)!==0;if(!L&&Fe===vi&&ge)throw new Error("Point.fromHex: x=0 and x_0=1");return ge!==Pe&&(Fe=l(-Fe)),q.fromAffine({x:Fe,y:ne})}static fromPrivateKey(S){return ee(S).point}toRawBytes(){const{x:S,y:L}=this.toAffine(),T=Xc(L,r.BYTES);return T[T.length-1]|=S&Vn?128:0,T}toHex(){return Lo(this.toRawBytes())}}q.BASE=new q(t.Gx,t.Gy,Vn,l(t.Gx*t.Gy)),q.ZERO=new q(vi,Vn,Vn,vi);const{BASE:W,ZERO:V}=q,z=$w(q,a*8);function X(E){return lr(E,n)}function re(E){return X(Ta(E))}function ee(E){const S=a;E=jr("private key",E,S);const L=jr("hashed private key",s(E),2*S),T=_(L.slice(0,S)),p=L.slice(S,2*S),O=re(T),G=W.multiply(O),Z=G.toRawBytes();return{head:T,prefix:p,scalar:O,point:G,pointBytes:Z}}function R(E){return ee(E).pointBytes}function y(E=new Uint8Array,...S){const L=Uo(...S);return re(s(w(L,jr("context",E),!!i)))}function f(E,S,L={}){E=jr("message",E),i&&(E=i(E));const{prefix:T,scalar:p,pointBytes:O}=ee(S),G=y(L.context,T,E),Z=W.multiply(G).toRawBytes(),ne=y(L.context,Z,O,E),Se=X(G+ne*p);P(Se);const _e=Uo(Z,Xc(Se,r.BYTES));return jr("result",_e,a*2)}const d=n8;function b(E,S,L,T=d){const{context:p,zip215:O}=T,G=r.BYTES;E=jr("signature",E,2*G),S=jr("message",S),i&&(S=i(S));const Z=Ta(E.slice(G,2*G));let ne,Se,_e;try{ne=q.fromHex(L,O),Se=q.fromHex(E.slice(0,G),O),_e=W.multiplyUnsafe(Z)}catch{return!1}if(!O&&ne.isSmallOrder())return!1;const ye=y(p,Se.toRawBytes(),ne.toRawBytes(),S);return Se.add(ne.multiplyUnsafe(ye)).subtract(_e).clearCofactor().equals(q.ZERO)}return W._setWindowSize(8),{CURVE:t,getPublicKey:R,sign:f,verify:b,ExtendedPoint:q,utils:{getExtendedPublicKey:ee,randomPrivateKey:()=>o(r.BYTES),precompute(E=8,S=q.BASE){return S._setWindowSize(E),S.multiply(BigInt(3)),S}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0),BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Lw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const s8=BigInt(1),n0=BigInt(2),o8=BigInt(5),Ow=BigInt(10),a8=BigInt(20),c8=BigInt(40),Uw=BigInt(80);function u8(e){const t=r0,n=e*e%t*e%t,i=Ar(n,n0,t)*n%t,s=Ar(i,s8,t)*e%t,o=Ar(s,o8,t)*s%t,a=Ar(o,Ow,t)*o%t,c=Ar(a,a8,t)*a%t,u=Ar(c,c8,t)*c%t,l=Ar(u,Uw,t)*u%t,h=Ar(l,Uw,t)*u%t,_=Ar(h,Ow,t)*o%t;return{pow_p_5_8:Ar(_,n0,t)*e%t,b2:n}}function f8(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function l8(e,t){const r=r0,n=lr(t*t*t,r),i=lr(n*n*t,r),s=u8(e*i).pow_p_5_8;let o=lr(e*n*s,r);const a=lr(t*o*o,r),c=o,u=lr(o*Lw,r),l=a===e,h=a===lr(-e,r),_=a===lr(-e*Lw,r);return l&&(o=c),(h||_)&&(o=u),GT(o,r)&&(o=lr(-o,r)),{isValid:l||h,value:o}}const fs=Rw(r0,void 0,!0),i0={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:fs,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:_w,randomBytes:ww,adjustScalarBytes:f8,uvRatio:l8},Kf=t0(i0);function Mw(e,t,r){if(t.length>255)throw new Error("Context is too big");return pw(dw("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}({...i0},{...i0});const h8=(fs.ORDER+BigInt(3))/BigInt(8);fs.pow(n0,h8),fs.sqrt(fs.neg(fs.ONE)),(fs.ORDER-BigInt(5))/BigInt(8),BigInt(486662),QT(fs,fs.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var s0={exports:{}},d8={},p8=Object.freeze({__proto__:null,default:d8}),Nw=ni(p8);(function(e){(function(t,r){function n(y,f){if(!y)throw new Error(f||"Assertion failed")}function i(y,f){y.super_=f;var d=function(){};d.prototype=f.prototype,y.prototype=new d,y.prototype.constructor=y}function s(y,f,d){if(s.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(y||0,f||10,d||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Nw.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,d){return f.cmp(d)>0?f:d},s.min=function(f,d){return f.cmp(d)<0?f:d},s.prototype._init=function(f,d,b){if(typeof f=="number")return this._initNumber(f,d,b);if(typeof f=="object")return this._initArray(f,d,b);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var x=0;f[0]==="-"&&(x++,this.negative=1),x<f.length&&(d===16?this._parseHex(f,x,b):(this._parseBase(f,d,x),b==="le"&&this._initArray(this.toArray(),d,b)))},s.prototype._initNumber=function(f,d,b){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),d,b)},s.prototype._initArray=function(f,d,b){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E,S,L=0;if(b==="be")for(x=f.length-1,E=0;x>=0;x-=3)S=f[x]|f[x-1]<<8|f[x-2]<<16,this.words[E]|=S<<L&67108863,this.words[E+1]=S>>>26-L&67108863,L+=24,L>=26&&(L-=26,E++);else if(b==="le")for(x=0,E=0;x<f.length;x+=3)S=f[x]|f[x+1]<<8|f[x+2]<<16,this.words[E]|=S<<L&67108863,this.words[E+1]=S>>>26-L&67108863,L+=24,L>=26&&(L-=26,E++);return this._strip()};function a(y,f){var d=y.charCodeAt(f);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+y)}function c(y,f,d){var b=a(y,d);return d-1>=f&&(b|=a(y,d-1)<<4),b}s.prototype._parseHex=function(f,d,b){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var E=0,S=0,L;if(b==="be")for(x=f.length-1;x>=d;x-=2)L=c(f,d,x)<<E,this.words[S]|=L&67108863,E>=18?(E-=18,S+=1,this.words[S]|=L>>>26):E+=8;else{var T=f.length-d;for(x=T%2===0?d+1:d;x<f.length;x+=2)L=c(f,d,x)<<E,this.words[S]|=L&67108863,E>=18?(E-=18,S+=1,this.words[S]|=L>>>26):E+=8}this._strip()};function u(y,f,d,b){for(var x=0,E=0,S=Math.min(y.length,d),L=f;L<S;L++){var T=y.charCodeAt(L)-48;x*=b,T>=49?E=T-49+10:T>=17?E=T-17+10:E=T,n(T>=0&&E<b,"Invalid character"),x+=E}return x}s.prototype._parseBase=function(f,d,b){this.words=[0],this.length=1;for(var x=0,E=1;E<=67108863;E*=d)x++;x--,E=E/d|0;for(var S=f.length-b,L=S%x,T=Math.min(S,S-L)+b,p=0,O=b;O<T;O+=x)p=u(f,O,O+x,d),this.imuln(E),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(L!==0){var G=1;for(p=u(f,O,f.length,d),O=0;O<L;O++)G*=d;this.imuln(G),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(y,f){y.words=f.words,y.length=f.length,y.negative=f.negative,y.red=f.red}if(s.prototype._move=function(f){l(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,d){f=f||10,d=d|0||1;var b;if(f===16||f==="hex"){b="";for(var x=0,E=0,S=0;S<this.length;S++){var L=this.words[S],T=((L<<x|E)&16777215).toString(16);E=L>>>24-x&16777215,x+=2,x>=26&&(x-=26,S--),E!==0||S!==this.length-1?b=_[6-T.length]+T+b:b=T+b}for(E!==0&&(b=E.toString(16)+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(f===(f|0)&&f>=2&&f<=36){var p=w[f],O=A[f];b="";var G=this.clone();for(G.negative=0;!G.isZero();){var Z=G.modrn(O).toString(f);G=G.idivn(O),G.isZero()?b=Z+b:b=_[p-Z.length]+Z+b}for(this.isZero()&&(b="0"+b);b.length%d!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,d){return this.toArrayLike(o,f,d)}),s.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)};var k=function(f,d){return f.allocUnsafe?f.allocUnsafe(d):new f(d)};s.prototype.toArrayLike=function(f,d,b){this._strip();var x=this.byteLength(),E=b||Math.max(1,x);n(x<=E,"byte array longer than desired length"),n(E>0,"Requested array length <= 0");var S=k(f,E),L=d==="le"?"LE":"BE";return this["_toArrayLike"+L](S,x),S},s.prototype._toArrayLikeLE=function(f,d){for(var b=0,x=0,E=0,S=0;E<this.length;E++){var L=this.words[E]<<S|x;f[b++]=L&255,b<f.length&&(f[b++]=L>>8&255),b<f.length&&(f[b++]=L>>16&255),S===6?(b<f.length&&(f[b++]=L>>24&255),x=0,S=0):(x=L>>>24,S+=2)}if(b<f.length)for(f[b++]=x;b<f.length;)f[b++]=0},s.prototype._toArrayLikeBE=function(f,d){for(var b=f.length-1,x=0,E=0,S=0;E<this.length;E++){var L=this.words[E]<<S|x;f[b--]=L&255,b>=0&&(f[b--]=L>>8&255),b>=0&&(f[b--]=L>>16&255),S===6?(b>=0&&(f[b--]=L>>24&255),x=0,S=0):(x=L>>>24,S+=2)}if(b>=0)for(f[b--]=x;b>=0;)f[b--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var d=f,b=0;return d>=4096&&(b+=13,d>>>=13),d>=64&&(b+=7,d>>>=7),d>=8&&(b+=4,d>>>=4),d>=2&&(b+=2,d>>>=2),b+d},s.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,b=0;return d&8191||(b+=13,d>>>=13),d&127||(b+=7,d>>>=7),d&15||(b+=4,d>>>=4),d&3||(b+=2,d>>>=2),d&1||b++,b},s.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function I(y){for(var f=new Array(y.bitLength()),d=0;d<f.length;d++){var b=d/26|0,x=d%26;f[d]=y.words[b]>>>x&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var b=this._zeroBits(this.words[d]);if(f+=b,b!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this._strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var b=0;b<d.length;b++)this.words[b]=this.words[b]&f.words[b];return this.length=d.length,this._strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var d,b;this.length>f.length?(d=this,b=f):(d=f,b=this);for(var x=0;x<b.length;x++)this.words[x]=d.words[x]^b.words[x];if(this!==d)for(;x<d.length;x++)this.words[x]=d.words[x];return this.length=d.length,this._strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,b=f%26;this._expand(d),b>0&&d--;for(var x=0;x<d;x++)this.words[x]=~this.words[x]&67108863;return b>0&&(this.words[x]=~this.words[x]&67108863>>26-b),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,d){n(typeof f=="number"&&f>=0);var b=f/26|0,x=f%26;return this._expand(b+1),d?this.words[b]=this.words[b]|1<<x:this.words[b]=this.words[b]&~(1<<x),this._strip()},s.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var b,x;this.length>f.length?(b=this,x=f):(b=f,x=this);for(var E=0,S=0;S<x.length;S++)d=(b.words[S]|0)+(x.words[S]|0)+E,this.words[S]=d&67108863,E=d>>>26;for(;E!==0&&S<b.length;S++)d=(b.words[S]|0)+E,this.words[S]=d&67108863,E=d>>>26;if(this.length=b.length,E!==0)this.words[this.length]=E,this.length++;else if(b!==this)for(;S<b.length;S++)this.words[S]=b.words[S];return this},s.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var b=this.cmp(f);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,E;b>0?(x=this,E=f):(x=f,E=this);for(var S=0,L=0;L<E.length;L++)d=(x.words[L]|0)-(E.words[L]|0)+S,S=d>>26,this.words[L]=d&67108863;for(;S!==0&&L<x.length;L++)d=(x.words[L]|0)+S,S=d>>26,this.words[L]=d&67108863;if(S===0&&L<x.length&&x!==this)for(;L<x.length;L++)this.words[L]=x.words[L];return this.length=Math.max(this.length,L),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function H(y,f,d){d.negative=f.negative^y.negative;var b=y.length+f.length|0;d.length=b,b=b-1|0;var x=y.words[0]|0,E=f.words[0]|0,S=x*E,L=S&67108863,T=S/67108864|0;d.words[0]=L;for(var p=1;p<b;p++){for(var O=T>>>26,G=T&67108863,Z=Math.min(p,f.length-1),ne=Math.max(0,p-y.length+1);ne<=Z;ne++){var Se=p-ne|0;x=y.words[Se]|0,E=f.words[ne]|0,S=x*E+G,O+=S/67108864|0,G=S&67108863}d.words[p]=G|0,T=O|0}return T!==0?d.words[p]=T|0:d.length--,d._strip()}var P=function(f,d,b){var x=f.words,E=d.words,S=b.words,L=0,T,p,O,G=x[0]|0,Z=G&8191,ne=G>>>13,Se=x[1]|0,_e=Se&8191,ye=Se>>>13,nt=x[2]|0,Fe=nt&8191,Pe=nt>>>13,ge=x[3]|0,me=ge&8191,Ce=ge>>>13,St=x[4]|0,ze=St&8191,ot=St>>>13,Kt=x[5]|0,ht=Kt&8191,wt=Kt>>>13,Jt=x[6]|0,Tt=Jt&8191,Rt=Jt>>>13,nr=x[7]|0,Lt=nr&8191,U=nr>>>13,m=x[8]|0,v=m&8191,D=m>>>13,K=x[9]|0,J=K&8191,ae=K>>>13,Ye=E[0]|0,Xe=Ye&8191,Ge=Ye>>>13,Wt=E[1]|0,Ve=Wt&8191,ur=Wt>>>13,Kc=E[2]|0,Sr=Kc&8191,Rr=Kc>>>13,Ud=E[3]|0,Gt=Ud&8191,rr=Ud>>>13,Os=E[4]|0,wr=Os&8191,mr=Os>>>13,Lf=E[5]|0,kr=Lf&8191,Ot=Lf>>>13,Of=E[6]|0,B=Of&8191,M=Of>>>13,N=E[7]|0,g=N&8191,F=N>>>13,Q=E[8]|0,Y=Q&8191,fe=Q>>>13,xe=E[9]|0,Be=xe&8191,Ee=xe>>>13;b.negative=f.negative^d.negative,b.length=19,T=Math.imul(Z,Xe),p=Math.imul(Z,Ge),p=p+Math.imul(ne,Xe)|0,O=Math.imul(ne,Ge);var kt=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(kt>>>26)|0,kt&=67108863,T=Math.imul(_e,Xe),p=Math.imul(_e,Ge),p=p+Math.imul(ye,Xe)|0,O=Math.imul(ye,Ge),T=T+Math.imul(Z,Ve)|0,p=p+Math.imul(Z,ur)|0,p=p+Math.imul(ne,Ve)|0,O=O+Math.imul(ne,ur)|0;var Le=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Le>>>26)|0,Le&=67108863,T=Math.imul(Fe,Xe),p=Math.imul(Fe,Ge),p=p+Math.imul(Pe,Xe)|0,O=Math.imul(Pe,Ge),T=T+Math.imul(_e,Ve)|0,p=p+Math.imul(_e,ur)|0,p=p+Math.imul(ye,Ve)|0,O=O+Math.imul(ye,ur)|0,T=T+Math.imul(Z,Sr)|0,p=p+Math.imul(Z,Rr)|0,p=p+Math.imul(ne,Sr)|0,O=O+Math.imul(ne,Rr)|0;var Ze=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,T=Math.imul(me,Xe),p=Math.imul(me,Ge),p=p+Math.imul(Ce,Xe)|0,O=Math.imul(Ce,Ge),T=T+Math.imul(Fe,Ve)|0,p=p+Math.imul(Fe,ur)|0,p=p+Math.imul(Pe,Ve)|0,O=O+Math.imul(Pe,ur)|0,T=T+Math.imul(_e,Sr)|0,p=p+Math.imul(_e,Rr)|0,p=p+Math.imul(ye,Sr)|0,O=O+Math.imul(ye,Rr)|0,T=T+Math.imul(Z,Gt)|0,p=p+Math.imul(Z,rr)|0,p=p+Math.imul(ne,Gt)|0,O=O+Math.imul(ne,rr)|0;var Je=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Je>>>26)|0,Je&=67108863,T=Math.imul(ze,Xe),p=Math.imul(ze,Ge),p=p+Math.imul(ot,Xe)|0,O=Math.imul(ot,Ge),T=T+Math.imul(me,Ve)|0,p=p+Math.imul(me,ur)|0,p=p+Math.imul(Ce,Ve)|0,O=O+Math.imul(Ce,ur)|0,T=T+Math.imul(Fe,Sr)|0,p=p+Math.imul(Fe,Rr)|0,p=p+Math.imul(Pe,Sr)|0,O=O+Math.imul(Pe,Rr)|0,T=T+Math.imul(_e,Gt)|0,p=p+Math.imul(_e,rr)|0,p=p+Math.imul(ye,Gt)|0,O=O+Math.imul(ye,rr)|0,T=T+Math.imul(Z,wr)|0,p=p+Math.imul(Z,mr)|0,p=p+Math.imul(ne,wr)|0,O=O+Math.imul(ne,mr)|0;var dt=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(dt>>>26)|0,dt&=67108863,T=Math.imul(ht,Xe),p=Math.imul(ht,Ge),p=p+Math.imul(wt,Xe)|0,O=Math.imul(wt,Ge),T=T+Math.imul(ze,Ve)|0,p=p+Math.imul(ze,ur)|0,p=p+Math.imul(ot,Ve)|0,O=O+Math.imul(ot,ur)|0,T=T+Math.imul(me,Sr)|0,p=p+Math.imul(me,Rr)|0,p=p+Math.imul(Ce,Sr)|0,O=O+Math.imul(Ce,Rr)|0,T=T+Math.imul(Fe,Gt)|0,p=p+Math.imul(Fe,rr)|0,p=p+Math.imul(Pe,Gt)|0,O=O+Math.imul(Pe,rr)|0,T=T+Math.imul(_e,wr)|0,p=p+Math.imul(_e,mr)|0,p=p+Math.imul(ye,wr)|0,O=O+Math.imul(ye,mr)|0,T=T+Math.imul(Z,kr)|0,p=p+Math.imul(Z,Ot)|0,p=p+Math.imul(ne,kr)|0,O=O+Math.imul(ne,Ot)|0;var ft=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(ft>>>26)|0,ft&=67108863,T=Math.imul(Tt,Xe),p=Math.imul(Tt,Ge),p=p+Math.imul(Rt,Xe)|0,O=Math.imul(Rt,Ge),T=T+Math.imul(ht,Ve)|0,p=p+Math.imul(ht,ur)|0,p=p+Math.imul(wt,Ve)|0,O=O+Math.imul(wt,ur)|0,T=T+Math.imul(ze,Sr)|0,p=p+Math.imul(ze,Rr)|0,p=p+Math.imul(ot,Sr)|0,O=O+Math.imul(ot,Rr)|0,T=T+Math.imul(me,Gt)|0,p=p+Math.imul(me,rr)|0,p=p+Math.imul(Ce,Gt)|0,O=O+Math.imul(Ce,rr)|0,T=T+Math.imul(Fe,wr)|0,p=p+Math.imul(Fe,mr)|0,p=p+Math.imul(Pe,wr)|0,O=O+Math.imul(Pe,mr)|0,T=T+Math.imul(_e,kr)|0,p=p+Math.imul(_e,Ot)|0,p=p+Math.imul(ye,kr)|0,O=O+Math.imul(ye,Ot)|0,T=T+Math.imul(Z,B)|0,p=p+Math.imul(Z,M)|0,p=p+Math.imul(ne,B)|0,O=O+Math.imul(ne,M)|0;var Qe=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,T=Math.imul(Lt,Xe),p=Math.imul(Lt,Ge),p=p+Math.imul(U,Xe)|0,O=Math.imul(U,Ge),T=T+Math.imul(Tt,Ve)|0,p=p+Math.imul(Tt,ur)|0,p=p+Math.imul(Rt,Ve)|0,O=O+Math.imul(Rt,ur)|0,T=T+Math.imul(ht,Sr)|0,p=p+Math.imul(ht,Rr)|0,p=p+Math.imul(wt,Sr)|0,O=O+Math.imul(wt,Rr)|0,T=T+Math.imul(ze,Gt)|0,p=p+Math.imul(ze,rr)|0,p=p+Math.imul(ot,Gt)|0,O=O+Math.imul(ot,rr)|0,T=T+Math.imul(me,wr)|0,p=p+Math.imul(me,mr)|0,p=p+Math.imul(Ce,wr)|0,O=O+Math.imul(Ce,mr)|0,T=T+Math.imul(Fe,kr)|0,p=p+Math.imul(Fe,Ot)|0,p=p+Math.imul(Pe,kr)|0,O=O+Math.imul(Pe,Ot)|0,T=T+Math.imul(_e,B)|0,p=p+Math.imul(_e,M)|0,p=p+Math.imul(ye,B)|0,O=O+Math.imul(ye,M)|0,T=T+Math.imul(Z,g)|0,p=p+Math.imul(Z,F)|0,p=p+Math.imul(ne,g)|0,O=O+Math.imul(ne,F)|0;var it=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(it>>>26)|0,it&=67108863,T=Math.imul(v,Xe),p=Math.imul(v,Ge),p=p+Math.imul(D,Xe)|0,O=Math.imul(D,Ge),T=T+Math.imul(Lt,Ve)|0,p=p+Math.imul(Lt,ur)|0,p=p+Math.imul(U,Ve)|0,O=O+Math.imul(U,ur)|0,T=T+Math.imul(Tt,Sr)|0,p=p+Math.imul(Tt,Rr)|0,p=p+Math.imul(Rt,Sr)|0,O=O+Math.imul(Rt,Rr)|0,T=T+Math.imul(ht,Gt)|0,p=p+Math.imul(ht,rr)|0,p=p+Math.imul(wt,Gt)|0,O=O+Math.imul(wt,rr)|0,T=T+Math.imul(ze,wr)|0,p=p+Math.imul(ze,mr)|0,p=p+Math.imul(ot,wr)|0,O=O+Math.imul(ot,mr)|0,T=T+Math.imul(me,kr)|0,p=p+Math.imul(me,Ot)|0,p=p+Math.imul(Ce,kr)|0,O=O+Math.imul(Ce,Ot)|0,T=T+Math.imul(Fe,B)|0,p=p+Math.imul(Fe,M)|0,p=p+Math.imul(Pe,B)|0,O=O+Math.imul(Pe,M)|0,T=T+Math.imul(_e,g)|0,p=p+Math.imul(_e,F)|0,p=p+Math.imul(ye,g)|0,O=O+Math.imul(ye,F)|0,T=T+Math.imul(Z,Y)|0,p=p+Math.imul(Z,fe)|0,p=p+Math.imul(ne,Y)|0,O=O+Math.imul(ne,fe)|0;var et=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(et>>>26)|0,et&=67108863,T=Math.imul(J,Xe),p=Math.imul(J,Ge),p=p+Math.imul(ae,Xe)|0,O=Math.imul(ae,Ge),T=T+Math.imul(v,Ve)|0,p=p+Math.imul(v,ur)|0,p=p+Math.imul(D,Ve)|0,O=O+Math.imul(D,ur)|0,T=T+Math.imul(Lt,Sr)|0,p=p+Math.imul(Lt,Rr)|0,p=p+Math.imul(U,Sr)|0,O=O+Math.imul(U,Rr)|0,T=T+Math.imul(Tt,Gt)|0,p=p+Math.imul(Tt,rr)|0,p=p+Math.imul(Rt,Gt)|0,O=O+Math.imul(Rt,rr)|0,T=T+Math.imul(ht,wr)|0,p=p+Math.imul(ht,mr)|0,p=p+Math.imul(wt,wr)|0,O=O+Math.imul(wt,mr)|0,T=T+Math.imul(ze,kr)|0,p=p+Math.imul(ze,Ot)|0,p=p+Math.imul(ot,kr)|0,O=O+Math.imul(ot,Ot)|0,T=T+Math.imul(me,B)|0,p=p+Math.imul(me,M)|0,p=p+Math.imul(Ce,B)|0,O=O+Math.imul(Ce,M)|0,T=T+Math.imul(Fe,g)|0,p=p+Math.imul(Fe,F)|0,p=p+Math.imul(Pe,g)|0,O=O+Math.imul(Pe,F)|0,T=T+Math.imul(_e,Y)|0,p=p+Math.imul(_e,fe)|0,p=p+Math.imul(ye,Y)|0,O=O+Math.imul(ye,fe)|0,T=T+Math.imul(Z,Be)|0,p=p+Math.imul(Z,Ee)|0,p=p+Math.imul(ne,Be)|0,O=O+Math.imul(ne,Ee)|0;var Oe=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,T=Math.imul(J,Ve),p=Math.imul(J,ur),p=p+Math.imul(ae,Ve)|0,O=Math.imul(ae,ur),T=T+Math.imul(v,Sr)|0,p=p+Math.imul(v,Rr)|0,p=p+Math.imul(D,Sr)|0,O=O+Math.imul(D,Rr)|0,T=T+Math.imul(Lt,Gt)|0,p=p+Math.imul(Lt,rr)|0,p=p+Math.imul(U,Gt)|0,O=O+Math.imul(U,rr)|0,T=T+Math.imul(Tt,wr)|0,p=p+Math.imul(Tt,mr)|0,p=p+Math.imul(Rt,wr)|0,O=O+Math.imul(Rt,mr)|0,T=T+Math.imul(ht,kr)|0,p=p+Math.imul(ht,Ot)|0,p=p+Math.imul(wt,kr)|0,O=O+Math.imul(wt,Ot)|0,T=T+Math.imul(ze,B)|0,p=p+Math.imul(ze,M)|0,p=p+Math.imul(ot,B)|0,O=O+Math.imul(ot,M)|0,T=T+Math.imul(me,g)|0,p=p+Math.imul(me,F)|0,p=p+Math.imul(Ce,g)|0,O=O+Math.imul(Ce,F)|0,T=T+Math.imul(Fe,Y)|0,p=p+Math.imul(Fe,fe)|0,p=p+Math.imul(Pe,Y)|0,O=O+Math.imul(Pe,fe)|0,T=T+Math.imul(_e,Be)|0,p=p+Math.imul(_e,Ee)|0,p=p+Math.imul(ye,Be)|0,O=O+Math.imul(ye,Ee)|0;var De=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(De>>>26)|0,De&=67108863,T=Math.imul(J,Sr),p=Math.imul(J,Rr),p=p+Math.imul(ae,Sr)|0,O=Math.imul(ae,Rr),T=T+Math.imul(v,Gt)|0,p=p+Math.imul(v,rr)|0,p=p+Math.imul(D,Gt)|0,O=O+Math.imul(D,rr)|0,T=T+Math.imul(Lt,wr)|0,p=p+Math.imul(Lt,mr)|0,p=p+Math.imul(U,wr)|0,O=O+Math.imul(U,mr)|0,T=T+Math.imul(Tt,kr)|0,p=p+Math.imul(Tt,Ot)|0,p=p+Math.imul(Rt,kr)|0,O=O+Math.imul(Rt,Ot)|0,T=T+Math.imul(ht,B)|0,p=p+Math.imul(ht,M)|0,p=p+Math.imul(wt,B)|0,O=O+Math.imul(wt,M)|0,T=T+Math.imul(ze,g)|0,p=p+Math.imul(ze,F)|0,p=p+Math.imul(ot,g)|0,O=O+Math.imul(ot,F)|0,T=T+Math.imul(me,Y)|0,p=p+Math.imul(me,fe)|0,p=p+Math.imul(Ce,Y)|0,O=O+Math.imul(Ce,fe)|0,T=T+Math.imul(Fe,Be)|0,p=p+Math.imul(Fe,Ee)|0,p=p+Math.imul(Pe,Be)|0,O=O+Math.imul(Pe,Ee)|0;var Re=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Re>>>26)|0,Re&=67108863,T=Math.imul(J,Gt),p=Math.imul(J,rr),p=p+Math.imul(ae,Gt)|0,O=Math.imul(ae,rr),T=T+Math.imul(v,wr)|0,p=p+Math.imul(v,mr)|0,p=p+Math.imul(D,wr)|0,O=O+Math.imul(D,mr)|0,T=T+Math.imul(Lt,kr)|0,p=p+Math.imul(Lt,Ot)|0,p=p+Math.imul(U,kr)|0,O=O+Math.imul(U,Ot)|0,T=T+Math.imul(Tt,B)|0,p=p+Math.imul(Tt,M)|0,p=p+Math.imul(Rt,B)|0,O=O+Math.imul(Rt,M)|0,T=T+Math.imul(ht,g)|0,p=p+Math.imul(ht,F)|0,p=p+Math.imul(wt,g)|0,O=O+Math.imul(wt,F)|0,T=T+Math.imul(ze,Y)|0,p=p+Math.imul(ze,fe)|0,p=p+Math.imul(ot,Y)|0,O=O+Math.imul(ot,fe)|0,T=T+Math.imul(me,Be)|0,p=p+Math.imul(me,Ee)|0,p=p+Math.imul(Ce,Be)|0,O=O+Math.imul(Ce,Ee)|0;var Me=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Me>>>26)|0,Me&=67108863,T=Math.imul(J,wr),p=Math.imul(J,mr),p=p+Math.imul(ae,wr)|0,O=Math.imul(ae,mr),T=T+Math.imul(v,kr)|0,p=p+Math.imul(v,Ot)|0,p=p+Math.imul(D,kr)|0,O=O+Math.imul(D,Ot)|0,T=T+Math.imul(Lt,B)|0,p=p+Math.imul(Lt,M)|0,p=p+Math.imul(U,B)|0,O=O+Math.imul(U,M)|0,T=T+Math.imul(Tt,g)|0,p=p+Math.imul(Tt,F)|0,p=p+Math.imul(Rt,g)|0,O=O+Math.imul(Rt,F)|0,T=T+Math.imul(ht,Y)|0,p=p+Math.imul(ht,fe)|0,p=p+Math.imul(wt,Y)|0,O=O+Math.imul(wt,fe)|0,T=T+Math.imul(ze,Be)|0,p=p+Math.imul(ze,Ee)|0,p=p+Math.imul(ot,Be)|0,O=O+Math.imul(ot,Ee)|0;var Ne=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(J,kr),p=Math.imul(J,Ot),p=p+Math.imul(ae,kr)|0,O=Math.imul(ae,Ot),T=T+Math.imul(v,B)|0,p=p+Math.imul(v,M)|0,p=p+Math.imul(D,B)|0,O=O+Math.imul(D,M)|0,T=T+Math.imul(Lt,g)|0,p=p+Math.imul(Lt,F)|0,p=p+Math.imul(U,g)|0,O=O+Math.imul(U,F)|0,T=T+Math.imul(Tt,Y)|0,p=p+Math.imul(Tt,fe)|0,p=p+Math.imul(Rt,Y)|0,O=O+Math.imul(Rt,fe)|0,T=T+Math.imul(ht,Be)|0,p=p+Math.imul(ht,Ee)|0,p=p+Math.imul(wt,Be)|0,O=O+Math.imul(wt,Ee)|0;var Ie=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,T=Math.imul(J,B),p=Math.imul(J,M),p=p+Math.imul(ae,B)|0,O=Math.imul(ae,M),T=T+Math.imul(v,g)|0,p=p+Math.imul(v,F)|0,p=p+Math.imul(D,g)|0,O=O+Math.imul(D,F)|0,T=T+Math.imul(Lt,Y)|0,p=p+Math.imul(Lt,fe)|0,p=p+Math.imul(U,Y)|0,O=O+Math.imul(U,fe)|0,T=T+Math.imul(Tt,Be)|0,p=p+Math.imul(Tt,Ee)|0,p=p+Math.imul(Rt,Be)|0,O=O+Math.imul(Rt,Ee)|0;var ce=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(ce>>>26)|0,ce&=67108863,T=Math.imul(J,g),p=Math.imul(J,F),p=p+Math.imul(ae,g)|0,O=Math.imul(ae,F),T=T+Math.imul(v,Y)|0,p=p+Math.imul(v,fe)|0,p=p+Math.imul(D,Y)|0,O=O+Math.imul(D,fe)|0,T=T+Math.imul(Lt,Be)|0,p=p+Math.imul(Lt,Ee)|0,p=p+Math.imul(U,Be)|0,O=O+Math.imul(U,Ee)|0;var ue=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(ue>>>26)|0,ue&=67108863,T=Math.imul(J,Y),p=Math.imul(J,fe),p=p+Math.imul(ae,Y)|0,O=Math.imul(ae,fe),T=T+Math.imul(v,Be)|0,p=p+Math.imul(v,Ee)|0,p=p+Math.imul(D,Be)|0,O=O+Math.imul(D,Ee)|0;var we=(L+T|0)+((p&8191)<<13)|0;L=(O+(p>>>13)|0)+(we>>>26)|0,we&=67108863,T=Math.imul(J,Be),p=Math.imul(J,Ee),p=p+Math.imul(ae,Be)|0,O=Math.imul(ae,Ee);var de=(L+T|0)+((p&8191)<<13)|0;return L=(O+(p>>>13)|0)+(de>>>26)|0,de&=67108863,S[0]=kt,S[1]=Le,S[2]=Ze,S[3]=Je,S[4]=dt,S[5]=ft,S[6]=Qe,S[7]=it,S[8]=et,S[9]=Oe,S[10]=De,S[11]=Re,S[12]=Me,S[13]=Ne,S[14]=Ie,S[15]=ce,S[16]=ue,S[17]=we,S[18]=de,L!==0&&(S[19]=L,b.length++),b};Math.imul||(P=H);function C(y,f,d){d.negative=f.negative^y.negative,d.length=y.length+f.length;for(var b=0,x=0,E=0;E<d.length-1;E++){var S=x;x=0;for(var L=b&67108863,T=Math.min(E,f.length-1),p=Math.max(0,E-y.length+1);p<=T;p++){var O=E-p,G=y.words[O]|0,Z=f.words[p]|0,ne=G*Z,Se=ne&67108863;S=S+(ne/67108864|0)|0,Se=Se+L|0,L=Se&67108863,S=S+(Se>>>26)|0,x+=S>>>26,S&=67108863}d.words[E]=L,b=S,S=x}return b!==0?d.words[E]=b:d.length--,d._strip()}function $(y,f,d){return C(y,f,d)}s.prototype.mulTo=function(f,d){var b,x=this.length+f.length;return this.length===10&&f.length===10?b=P(this,f,d):x<63?b=H(this,f,d):x<1024?b=C(this,f,d):b=$(this,f,d),b},s.prototype.mul=function(f){var d=new s(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},s.prototype.mulf=function(f){var d=new s(null);return d.words=new Array(this.length+f.length),$(this,f,d)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var d=f<0;d&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var b=0,x=0;x<this.length;x++){var E=(this.words[x]|0)*f,S=(E&67108863)+(b&67108863);b>>=26,b+=E/67108864|0,b+=S>>>26,this.words[x]=S&67108863}return b!==0&&(this.words[x]=b,this.length++),d?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var d=I(f);if(d.length===0)return new s(1);for(var b=this,x=0;x<d.length&&d[x]===0;x++,b=b.sqr());if(++x<d.length)for(var E=b.sqr();x<d.length;x++,E=E.sqr())d[x]!==0&&(b=b.mul(E));return b},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=67108863>>>26-d<<26-d,E;if(d!==0){var S=0;for(E=0;E<this.length;E++){var L=this.words[E]&x,T=(this.words[E]|0)-L<<d;this.words[E]=T|S,S=L>>>26-d}S&&(this.words[E]=S,this.length++)}if(b!==0){for(E=this.length-1;E>=0;E--)this.words[E+b]=this.words[E];for(E=0;E<b;E++)this.words[E]=0;this.length+=b}return this._strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,d,b){n(typeof f=="number"&&f>=0);var x;d?x=(d-d%26)/26:x=0;var E=f%26,S=Math.min((f-E)/26,this.length),L=67108863^67108863>>>E<<E,T=b;if(x-=S,x=Math.max(0,x),T){for(var p=0;p<S;p++)T.words[p]=this.words[p];T.length=S}if(S!==0)if(this.length>S)for(this.length-=S,p=0;p<this.length;p++)this.words[p]=this.words[p+S];else this.words[0]=0,this.length=1;var O=0;for(p=this.length-1;p>=0&&(O!==0||p>=x);p--){var G=this.words[p]|0;this.words[p]=O<<26-E|G>>>E,O=G&L}return T&&O!==0&&(T.words[T.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,d,b){return n(this.negative===0),this.iushrn(f,d,b)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return!1;var E=this.words[b];return!!(E&x)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var d=f%26,b=(f-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(d!==0&&b++,this.length=Math.min(b,this.length),d!==0){var x=67108863^67108863>>>d<<d;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,d,b){var x=f.length+b,E;this._expand(x);var S,L=0;for(E=0;E<f.length;E++){S=(this.words[E+b]|0)+L;var T=(f.words[E]|0)*d;S-=T&67108863,L=(S>>26)-(T/67108864|0),this.words[E+b]=S&67108863}for(;E<this.length-b;E++)S=(this.words[E+b]|0)+L,L=S>>26,this.words[E+b]=S&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,E=0;E<this.length;E++)S=-(this.words[E]|0)+L,L=S>>26,this.words[E]=S&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,d){var b=this.length-f.length,x=this.clone(),E=f,S=E.words[E.length-1]|0,L=this._countBits(S);b=26-L,b!==0&&(E=E.ushln(b),x.iushln(b),S=E.words[E.length-1]|0);var T=x.length-E.length,p;if(d!=="mod"){p=new s(null),p.length=T+1,p.words=new Array(p.length);for(var O=0;O<p.length;O++)p.words[O]=0}var G=x.clone()._ishlnsubmul(E,1,T);G.negative===0&&(x=G,p&&(p.words[T]=1));for(var Z=T-1;Z>=0;Z--){var ne=(x.words[E.length+Z]|0)*67108864+(x.words[E.length+Z-1]|0);for(ne=Math.min(ne/S|0,67108863),x._ishlnsubmul(E,ne,Z);x.negative!==0;)ne--,x.negative=0,x._ishlnsubmul(E,1,Z),x.isZero()||(x.negative^=1);p&&(p.words[Z]=ne)}return p&&p._strip(),x._strip(),d!=="div"&&b!==0&&x.iushrn(b),{div:p||null,mod:x}},s.prototype.divmod=function(f,d,b){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,E,S;return this.negative!==0&&f.negative===0?(S=this.neg().divmod(f,d),d!=="mod"&&(x=S.div.neg()),d!=="div"&&(E=S.mod.neg(),b&&E.negative!==0&&E.iadd(f)),{div:x,mod:E}):this.negative===0&&f.negative!==0?(S=this.divmod(f.neg(),d),d!=="mod"&&(x=S.div.neg()),{div:x,mod:S.mod}):this.negative&f.negative?(S=this.neg().divmod(f.neg(),d),d!=="div"&&(E=S.mod.neg(),b&&E.negative!==0&&E.isub(f)),{div:S.div,mod:E}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,d)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var b=d.div.negative!==0?d.mod.isub(f):d.mod,x=f.ushrn(1),E=f.andln(1),S=b.cmp(x);return S<0||E===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(f){var d=f<0;d&&(f=-f),n(f<=67108863);for(var b=(1<<26)%f,x=0,E=this.length-1;E>=0;E--)x=(b*x+(this.words[E]|0))%f;return d?-x:x},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var d=f<0;d&&(f=-f),n(f<=67108863);for(var b=0,x=this.length-1;x>=0;x--){var E=(this.words[x]|0)+b*67108864;this.words[x]=E/f|0,b=E%f}return this._strip(),d?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new s(1),E=new s(0),S=new s(0),L=new s(1),T=0;d.isEven()&&b.isEven();)d.iushrn(1),b.iushrn(1),++T;for(var p=b.clone(),O=d.clone();!d.isZero();){for(var G=0,Z=1;!(d.words[0]&Z)&&G<26;++G,Z<<=1);if(G>0)for(d.iushrn(G);G-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(p),E.isub(O)),x.iushrn(1),E.iushrn(1);for(var ne=0,Se=1;!(b.words[0]&Se)&&ne<26;++ne,Se<<=1);if(ne>0)for(b.iushrn(ne);ne-- >0;)(S.isOdd()||L.isOdd())&&(S.iadd(p),L.isub(O)),S.iushrn(1),L.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(S),E.isub(L)):(b.isub(d),S.isub(x),L.isub(E))}return{a:S,b:L,gcd:b.iushln(T)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var d=this,b=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var x=new s(1),E=new s(0),S=b.clone();d.cmpn(1)>0&&b.cmpn(1)>0;){for(var L=0,T=1;!(d.words[0]&T)&&L<26;++L,T<<=1);if(L>0)for(d.iushrn(L);L-- >0;)x.isOdd()&&x.iadd(S),x.iushrn(1);for(var p=0,O=1;!(b.words[0]&O)&&p<26;++p,O<<=1);if(p>0)for(b.iushrn(p);p-- >0;)E.isOdd()&&E.iadd(S),E.iushrn(1);d.cmp(b)>=0?(d.isub(b),x.isub(E)):(b.isub(d),E.isub(x))}var G;return d.cmpn(1)===0?G=x:G=E,G.cmpn(0)<0&&G.iadd(f),G},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),b=f.clone();d.negative=0,b.negative=0;for(var x=0;d.isEven()&&b.isEven();x++)d.iushrn(1),b.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;b.isEven();)b.iushrn(1);var E=d.cmp(b);if(E<0){var S=d;d=b,b=S}else if(E===0||b.cmpn(1)===0)break;d.isub(b)}while(!0);return b.iushln(x)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var d=f%26,b=(f-d)/26,x=1<<d;if(this.length<=b)return this._expand(b+1),this.words[b]|=x,this;for(var E=x,S=b;E!==0&&S<this.length;S++){var L=this.words[S]|0;L+=E,E=L>>>26,L&=67108863,this.words[S]=L}return E!==0&&(this.words[S]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var b;if(this.length>1)b=1;else{d&&(f=-f),n(f<=67108863,"Number is too big");var x=this.words[0]|0;b=x===f?0:x<f?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,b=this.length-1;b>=0;b--){var x=this.words[b]|0,E=f.words[b]|0;if(x!==E){x<E?d=-1:x>E&&(d=1);break}}return d},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new ee(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var q={k256:null,p224:null,p192:null,p25519:null};function W(y,f){this.name=y,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},W.prototype.ireduce=function(f){var d=f,b;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),b=d.bitLength();while(b>this.n);var x=b<this.n?-1:d.ucmp(this.p);return x===0?(d.words[0]=0,d.length=1):x>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},W.prototype.split=function(f,d){f.iushrn(this.n,0,d)},W.prototype.imulK=function(f){return f.imul(this.k)};function V(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(V,W),V.prototype.split=function(f,d){for(var b=4194303,x=Math.min(f.length,9),E=0;E<x;E++)d.words[E]=f.words[E];if(d.length=x,f.length<=9){f.words[0]=0,f.length=1;return}var S=f.words[9];for(d.words[d.length++]=S&b,E=10;E<f.length;E++){var L=f.words[E]|0;f.words[E-10]=(L&b)<<4|S>>>22,S=L}S>>>=22,f.words[E-10]=S,S===0&&f.length>10?f.length-=10:f.length-=9},V.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,b=0;b<f.length;b++){var x=f.words[b]|0;d+=x*977,f.words[b]=d&67108863,d=x*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,W);function X(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(X,W);function re(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(re,W),re.prototype.imulK=function(f){for(var d=0,b=0;b<f.length;b++){var x=(f.words[b]|0)*19+d,E=x&67108863;x>>>=26,f.words[b]=E,d=x}return d!==0&&(f.words[f.length++]=d),f},s._prime=function(f){if(q[f])return q[f];var d;if(f==="k256")d=new V;else if(f==="p224")d=new z;else if(f==="p192")d=new X;else if(f==="p25519")d=new re;else throw new Error("Unknown prime "+f);return q[f]=d,d};function ee(y){if(typeof y=="string"){var f=s._prime(y);this.m=f.p,this.prime=f}else n(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}ee.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},ee.prototype._verify2=function(f,d){n((f.negative|d.negative)===0,"red works only with positives"),n(f.red&&f.red===d.red,"red works only with red numbers")},ee.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},ee.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},ee.prototype.add=function(f,d){this._verify2(f,d);var b=f.add(d);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},ee.prototype.iadd=function(f,d){this._verify2(f,d);var b=f.iadd(d);return b.cmp(this.m)>=0&&b.isub(this.m),b},ee.prototype.sub=function(f,d){this._verify2(f,d);var b=f.sub(d);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},ee.prototype.isub=function(f,d){this._verify2(f,d);var b=f.isub(d);return b.cmpn(0)<0&&b.iadd(this.m),b},ee.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},ee.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},ee.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},ee.prototype.isqr=function(f){return this.imul(f,f.clone())},ee.prototype.sqr=function(f){return this.mul(f,f)},ee.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(f,b)}for(var x=this.m.subn(1),E=0;!x.isZero()&&x.andln(1)===0;)E++,x.iushrn(1);n(!x.isZero());var S=new s(1).toRed(this),L=S.redNeg(),T=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new s(2*p*p).toRed(this);this.pow(p,T).cmp(L)!==0;)p.redIAdd(L);for(var O=this.pow(p,x),G=this.pow(f,x.addn(1).iushrn(1)),Z=this.pow(f,x),ne=E;Z.cmp(S)!==0;){for(var Se=Z,_e=0;Se.cmp(S)!==0;_e++)Se=Se.redSqr();n(_e<ne);var ye=this.pow(O,new s(1).iushln(ne-_e-1));G=G.redMul(ye),O=ye.redSqr(),Z=Z.redMul(O),ne=_e}return G},ee.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ee.prototype.pow=function(f,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var b=4,x=new Array(1<<b);x[0]=new s(1).toRed(this),x[1]=f;for(var E=2;E<x.length;E++)x[E]=this.mul(x[E-1],f);var S=x[0],L=0,T=0,p=d.bitLength()%26;for(p===0&&(p=26),E=d.length-1;E>=0;E--){for(var O=d.words[E],G=p-1;G>=0;G--){var Z=O>>G&1;if(S!==x[0]&&(S=this.sqr(S)),Z===0&&L===0){T=0;continue}L<<=1,L|=Z,T++,!(T!==b&&(E!==0||G!==0))&&(S=this.mul(S,x[L]),T=0,L=0)}p=26}return S},ee.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},ee.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},s.mont=function(f){return new R(f)};function R(y){ee.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(R,ee),R.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},R.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},R.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var b=f.imul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),S=E;return E.cmp(this.m)>=0?S=E.isub(this.m):E.cmpn(0)<0&&(S=E.iadd(this.m)),S._forceRed(this)},R.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new s(0)._forceRed(this);var b=f.mul(d),x=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=b.isub(x).iushrn(this.shift),S=E;return E.cmp(this.m)>=0?S=E.isub(this.m):E.cmpn(0)<0&&(S=E.iadd(this.m)),S._forceRed(this)},R.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,lt)})(s0);var Pw=s0.exports,Wf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=se,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Wf,Wf.exports);var Gf=Wf.exports.Buffer;function g8(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=Gf.from(w)),!Gf.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var A=0,k=0,I=0,H=w.length;I!==H&&w[I]===0;)I++,A++;for(var P=(H-I)*u+1>>>0,C=new Uint8Array(P);I!==H;){for(var $=w[I],q=0,W=P-1;($!==0||q<k)&&W!==-1;W--,q++)$+=256*C[W]>>>0,C[W]=$%o>>>0,$=$/o>>>0;if($!==0)throw new Error("Non-zero carry");k=q,I++}for(var V=P-k;V!==P&&C[V]===0;)V++;for(var z=a.repeat(A);V<P;++V)z+=e.charAt(C[V]);return z}function h(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return Gf.alloc(0);for(var A=0,k=0,I=0;w[A]===a;)k++,A++;for(var H=(w.length-A)*c+1>>>0,P=new Uint8Array(H);w[A];){var C=t[w.charCodeAt(A)];if(C===255)return;for(var $=0,q=H-1;(C!==0||$<I)&&q!==-1;q--,$++)C+=o*P[q]>>>0,P[q]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");I=$,A++}for(var W=H-I;W!==H&&P[W]===0;)W++;var V=Gf.allocUnsafe(k+(H-W));V.fill(0,0,k);for(var z=k;W!==H;)V[z++]=P[W++];return V}function _(w){var A=h(w);if(A)return A;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:h,decode:_}}var y8=g8,w8=y8,m8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Fr=w8(m8);function b8(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Fw(e,...t){if(!b8(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Hw(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _8(e,t){Fw(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o0=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Di=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function v8(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Dw(e){return typeof e=="string"&&(e=v8(e)),Fw(e),e}class x8{clone(){return this._cloneInto()}}function E8(e){const t=n=>e().update(Dw(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function S8(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}const A8=(e,t,r)=>e&t^~e&r,B8=(e,t,r)=>e&t^e&r^t&r;class T8 extends x8{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=o0(this.buffer)}update(t){Hw(this);const{view:r,buffer:n,blockLen:i}=this;t=Dw(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=o0(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Hw(this),_8(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;S8(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=o0(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,l[h],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const I8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ns=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ps=new Uint32Array(64);class R8 extends T8{constructor(){super(64,32,8,!1),this.A=Ns[0]|0,this.B=Ns[1]|0,this.C=Ns[2]|0,this.D=Ns[3]|0,this.E=Ns[4]|0,this.F=Ns[5]|0,this.G=Ns[6]|0,this.H=Ns[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let h=0;h<16;h++,r+=4)Ps[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){const _=Ps[h-15],w=Ps[h-2],A=Di(_,7)^Di(_,18)^_>>>3,k=Di(w,17)^Di(w,19)^w>>>10;Ps[h]=k+Ps[h-7]+A+Ps[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let h=0;h<64;h++){const _=Di(a,6)^Di(a,11)^Di(a,25),w=l+_+A8(a,c,u)+I8[h]+Ps[h]|0,k=(Di(n,2)^Di(n,13)^Di(n,22))+B8(n,i,s)|0;l=u,u=c,c=a,a=o+w|0,o=s,s=i,i=n,n=w+k|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){Ps.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const zw=E8(()=>new R8);var an={};function ls(e,t,r){return t<=e&&e<=r}function Zf(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function k8(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function C8(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Yf=-1;function a0(e){this.tokens=[].slice.call(e)}a0.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Yf},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var ka=-1;function c0(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Xf="utf-8";function Jf(e,t){if(!(this instanceof Jf))return new Jf(e,t);if(e=e!==void 0?String(e).toLowerCase():Xf,e!==Xf)throw new Error("Encoding not supported. Only utf-8 is supported");t=Zf(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Jf.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=Zf(r),this._streaming||(this._decoder=new $8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new a0(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==ka);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===ka)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),C8(s)}};function Qf(e,t){if(!(this instanceof Qf))return new Qf(e,t);if(e=e!==void 0?String(e).toLowerCase():Xf,e!==Xf)throw new Error("Encoding not supported. Only utf-8 is supported");t=Zf(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Qf.prototype={encode:function(t,r){t=t?String(t):"",r=Zf(r),this._streaming||(this._encoder=new L8(this._options)),this._streaming=!!r.stream;for(var n=[],i=new a0(k8(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==ka);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==ka;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function $8(e){var t=e.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===Yf&&i!==0)return i=0,c0(t);if(c===Yf)return ka;if(i===0){if(ls(c,0,127))return c;if(ls(c,194,223))i=1,r=c-192;else if(ls(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,r=c-224;else if(ls(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,r=c-240;else return c0(t);return r=r<<6*i,null}if(!ls(c,s,o))return r=i=n=0,s=128,o=191,a.prepend(c),c0(t);if(s=128,o=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var u=r;return r=i=n=0,u}}function L8(e){e.fatal,this.handler=function(t,r){if(r===Yf)return ka;if(ls(r,0,127))return r;var n,i;ls(r,128,2047)?(n=1,i=192):ls(r,2048,65535)?(n=2,i=224):ls(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}var O8=Object.freeze({__proto__:null,TextEncoder:Qf,TextDecoder:Jf}),U8=ni(O8),M8=lt&&lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N8=lt&&lt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zi=lt&&lt.__decorate||function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},P8=lt&&lt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&M8(t,e,r);return N8(t,e),t},jw=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(an,"__esModule",{value:!0});var qw=an.deserializeUnchecked=Yw=an.deserialize=Zw=an.serialize=an.BinaryReader=an.BinaryWriter=an.BorshError=an.baseDecode=an.baseEncode=void 0;const Fs=jw(s0.exports),Vw=jw(Fr),F8=P8(U8),H8=typeof TextDecoder!="function"?F8.TextDecoder:TextDecoder,D8=new H8("utf-8",{fatal:!0});function z8(e){return typeof e=="string"&&(e=se.Buffer.from(e,"utf8")),Vw.default.encode(se.Buffer.from(e))}an.baseEncode=z8;function j8(e){return se.Buffer.from(Vw.default.decode(e))}an.baseDecode=j8;const u0=1024;class Tn extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}an.BorshError=Tn;class Kw{constructor(){this.buf=se.Buffer.alloc(u0),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=se.Buffer.concat([this.buf,se.Buffer.alloc(u0)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(se.Buffer.from(new Fs.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(se.Buffer.from(new Fs.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(se.Buffer.from(new Fs.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(se.Buffer.from(new Fs.default(t).toArray("le",64)))}writeBuffer(t){this.buf=se.Buffer.concat([se.Buffer.from(this.buf.subarray(0,this.length)),t,se.Buffer.alloc(u0)]),this.length+=t.length}writeString(t){this.maybeResize();const r=se.Buffer.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(t){this.writeBuffer(se.Buffer.from(t))}writeArray(t,r){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}an.BinaryWriter=Kw;function ji(e,t,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Tn("Reached the end of buffer when deserializing")}throw s}}}class Kn{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Fs.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Fs.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Fs.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Fs.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Tn(`Expected buffer length ${t} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,r}readString(){const t=this.readU32(),r=this.readBuffer(t);try{return D8.decode(r)}catch(n){throw new Tn(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(t());return n}}zi([ji],Kn.prototype,"readU8",null),zi([ji],Kn.prototype,"readU16",null),zi([ji],Kn.prototype,"readU32",null),zi([ji],Kn.prototype,"readU64",null),zi([ji],Kn.prototype,"readU128",null),zi([ji],Kn.prototype,"readU256",null),zi([ji],Kn.prototype,"readU512",null),zi([ji],Kn.prototype,"readString",null),zi([ji],Kn.prototype,"readFixedArray",null),zi([ji],Kn.prototype,"readArray",null),an.BinaryReader=Kn;function Ww(e){return e.charAt(0).toUpperCase()+e.slice(1)}function No(e,t,r,n,i){try{if(typeof n=="string")i[`write${Ww(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Tn(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Tn(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)No(e,null,r[s],n[0],i)}else i.writeArray(r,s=>{No(e,t,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),No(e,t,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{No(e,t,o,n.key,i),No(e,t,s,n.value,i)});break}default:throw new Tn(`FieldType ${n} unrecognized`)}else Gw(e,r,i)}catch(s){throw s instanceof Tn&&s.addToFieldPath(t),s}}function Gw(e,t,r){if(typeof t.borshSerialize=="function"){t.borshSerialize(r);return}const n=e.get(t.constructor);if(!n)throw new Tn(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{No(e,i,t[i],s,r)});else if(n.kind==="enum"){const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),No(e,o,t[o],a,r);break}}}else throw new Tn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function q8(e,t,r=Kw){const n=new r;return Gw(e,t,n),n.toArray()}var Zw=an.serialize=q8;function Po(e,t,r,n){try{if(typeof r=="string")return n[`read${Ww(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(Po(e,null,r[0],n));return i}else return n.readArray(()=>Po(e,t,r[0],n))}if(r.kind==="option")return n.readU8()?Po(e,t,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=Po(e,t,r.key,n),c=Po(e,t,r.value,n);i.set(a,c)}return i}return f0(e,r,n)}catch(i){throw i instanceof Tn&&i.addToFieldPath(t),i}}function f0(e,t,r){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new Tn(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of e.get(t).fields)i[s]=Po(e,s,o,r);return new t(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new Tn(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=Po(e,s,o,r);return new t({[s]:a})}throw new Tn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function V8(e,t,r,n=Kn){const i=new n(r),s=f0(e,t,i);if(i.offset<r.length)throw new Tn(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var Yw=an.deserialize=V8;function K8(e,t,r,n=Kn){const i=new n(r);return f0(e,t,i)}qw=an.deserializeUnchecked=K8;var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.s16=ie.s8=ie.nu64be=ie.u48be=ie.u40be=ie.u32be=ie.u24be=ie.u16be=cn=ie.nu64=ie.u48=ie.u40=Ke=ie.u32=ie.u24=ai=ie.u16=zt=ie.u8=Ho=ie.offset=ie.greedy=ie.Constant=ie.UTF8=ie.CString=ie.Blob=ie.Boolean=ie.BitField=ie.BitStructure=ie.VariantLayout=ie.Union=ie.UnionLayoutDiscriminator=ie.UnionDiscriminator=ie.Structure=ie.Sequence=ie.DoubleBE=ie.Double=ie.FloatBE=ie.Float=ie.NearInt64BE=ie.NearInt64=ie.NearUInt64BE=ie.NearUInt64=ie.IntBE=ie.Int=ie.UIntBE=ie.UInt=ie.OffsetLayout=ie.GreedyCount=ie.ExternalLayout=ie.bindConstructorLayout=ie.nameWithProperty=ie.Layout=ie.uint8ArrayToBuffer=ie.checkUint8Array=void 0,ie.constant=ie.utf8=ie.cstr=fr=ie.blob=ie.unionLayoutDiscriminator=ie.union=gn=ie.seq=ie.bits=He=ie.struct=ie.f64be=ie.f64=ie.f32be=ie.f32=ie.ns64be=ie.s48be=ie.s40be=ie.s32be=ie.s24be=ie.s16be=Wn=ie.ns64=ie.s48=ie.s40=ie.s32=ie.s24=void 0;const l0=se;function Ca(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ie.checkUint8Array=Ca;function Ht(e){return Ca(e),l0.Buffer.from(e.buffer,e.byteOffset,e.length)}ie.uint8ArrayToBuffer=Ht;class Zt{constructor(t,r){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}makeDestinationObject(){return{}}getSpan(t,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=t,r}fromArray(t){}}ie.Layout=Zt;function h0(e,t){return t.property?e+"["+t.property+"]":e}ie.nameWithProperty=h0;function W8(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Zt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(r,n){return t.encode(this,r,n)},writable:!0}),Object.defineProperty(e,"decode",{value(r,n){return t.decode(r,n)},writable:!0})}ie.bindConstructorLayout=W8;class On extends Zt{isCount(){throw new Error("ExternalLayout is abstract")}}ie.ExternalLayout=On;class Xw extends On{constructor(t=1,r){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=t}isCount(){return!0}decode(t,r=0){Ca(t);const n=t.length-r;return Math.floor(n/this.elementSpan)}encode(t,r,n){return 0}}ie.GreedyCount=Xw;class d0 extends On{constructor(t,r=0,n){if(!(t instanceof Zt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof oi||this.layout instanceof xi}decode(t,r=0){return this.layout.decode(t,r+this.offset)}encode(t,r,n=0){return this.layout.encode(t,r,n+this.offset)}}ie.OffsetLayout=d0;class oi extends Zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ht(t).readUIntLE(r,this.span)}encode(t,r,n=0){return Ht(r).writeUIntLE(t,n,this.span),this.span}}ie.UInt=oi;class xi extends Zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ht(t).readUIntBE(r,this.span)}encode(t,r,n=0){return Ht(r).writeUIntBE(t,n,this.span),this.span}}ie.UIntBE=xi;class Fo extends Zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ht(t).readIntLE(r,this.span)}encode(t,r,n=0){return Ht(r).writeIntLE(t,n,this.span),this.span}}ie.Int=Fo;class $a extends Zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Ht(t).readIntBE(r,this.span)}encode(t,r,n=0){return Ht(r).writeIntBE(t,n,this.span),this.span}}ie.IntBE=$a;const p0=Math.pow(2,32);function el(e){const t=Math.floor(e/p0),r=e-t*p0;return{hi32:t,lo32:r}}function tl(e,t){return e*p0+t}class Jw extends Zt{constructor(t){super(8,t)}decode(t,r=0){const n=Ht(t),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return tl(s,i)}encode(t,r,n=0){const i=el(t),s=Ht(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}ie.NearUInt64=Jw;class Qw extends Zt{constructor(t){super(8,t)}decode(t,r=0){const n=Ht(t),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return tl(i,s)}encode(t,r,n=0){const i=el(t),s=Ht(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}ie.NearUInt64BE=Qw;class em extends Zt{constructor(t){super(8,t)}decode(t,r=0){const n=Ht(t),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return tl(s,i)}encode(t,r,n=0){const i=el(t),s=Ht(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}ie.NearInt64=em;class tm extends Zt{constructor(t){super(8,t)}decode(t,r=0){const n=Ht(t),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return tl(i,s)}encode(t,r,n=0){const i=el(t),s=Ht(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}ie.NearInt64BE=tm;class rm extends Zt{constructor(t){super(4,t)}decode(t,r=0){return Ht(t).readFloatLE(r)}encode(t,r,n=0){return Ht(r).writeFloatLE(t,n),4}}ie.Float=rm;class nm extends Zt{constructor(t){super(4,t)}decode(t,r=0){return Ht(t).readFloatBE(r)}encode(t,r,n=0){return Ht(r).writeFloatBE(t,n),4}}ie.FloatBE=nm;class im extends Zt{constructor(t){super(8,t)}decode(t,r=0){return Ht(t).readDoubleLE(r)}encode(t,r,n=0){return Ht(r).writeDoubleLE(t,n),8}}ie.Double=im;class sm extends Zt{constructor(t){super(8,t)}decode(t,r=0){return Ht(t).readDoubleBE(r)}encode(t,r,n=0){return Ht(r).writeDoubleBE(t,n),8}}ie.DoubleBE=sm;class om extends Zt{constructor(t,r,n){if(!(t instanceof Zt))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof On&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof On)&&0<t.span&&(i=r*t.span),super(i,n),this.elementLayout=t,this.count=r}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof On&&(i=i.decode(t,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(t,r+n),++s}return n}decode(t,r=0){const n=[];let i=0,s=this.count;for(s instanceof On&&(s=s.decode(t,r));i<s;)n.push(this.elementLayout.decode(t,r)),r+=this.elementLayout.getSpan(t,r),i+=1;return n}encode(t,r,n=0){const i=this.elementLayout,s=t.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof On&&this.count.encode(t.length,r,n),s}}ie.Sequence=om;class am extends Zt{constructor(t,r,n){if(!(Array.isArray(t)&&t.reduce((s,o)=>s&&o instanceof Zt,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=t,this.decodePrefixes=!!n}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(t,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,r=0){Ca(t);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,r)),r+=i.getSpan(t,r),this.decodePrefixes&&t.length===r)break;return n}encode(t,r,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=t[a.property];u!==void 0&&(o=a.encode(u,r,n),0>c&&(c=a.getSpan(r,n)))}s=n,n+=c}return s+o-i}fromArray(t){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(r[n.property]=t.shift());return r}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===t)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}ie.Structure=am;class g0{constructor(t){this.property=t}decode(t,r){throw new Error("UnionDiscriminator is abstract")}encode(t,r,n){throw new Error("UnionDiscriminator is abstract")}}ie.UnionDiscriminator=g0;class rl extends g0{constructor(t,r){if(!(t instanceof On&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||t.property||"variant"),this.layout=t}decode(t,r){return this.layout.decode(t,r)}encode(t,r,n){return this.layout.encode(t,r,n)}}ie.UnionLayoutDiscriminator=rl;class y0 extends Zt{constructor(t,r,n){let i;if(t instanceof oi||t instanceof xi)i=new rl(new d0(t));else if(t instanceof On&&t.isCount())i=new rl(t);else if(t instanceof g0)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Zt))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(t instanceof oi||t instanceof xi)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof oi||t instanceof xi,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,r=0){if(0<=this.span)return this.span;const n=this.getVariant(t,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,r)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const r=this.registry[t[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(t,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,r=0){let n;const i=this.discriminator,s=i.decode(t,r),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(t,r+c)}else n=o.decode(t,r);return n}encode(t,r,n=0){const i=this.getSourceVariant(t);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(t[s.property],r,n),a+o.encode(t[o.property],r,n+a)}return i.encode(t,r,n)}addVariant(t,r,n){const i=new cm(this,t,r,n);return this.registry[t]=i,i}getVariant(t,r=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,r):n=t,this.registry[n]}}ie.Union=y0;class cm extends Zt{constructor(t,r,n,i){if(!(t instanceof y0))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Zt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=r,this.layout=n||null}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,r+n)),n+i}decode(t,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(t[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}ie.VariantLayout=cm;function La(e){return 0>e&&(e+=4294967296),e}class w0 extends Zt{constructor(t,r,n){if(!(t instanceof oi||t instanceof xi))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=La(s),this},this._packedGetValue=function(){return i}}decode(t,r=0){const n=this.makeDestinationObject(),i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=t[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(t,r){const n=new m0(this,t,r);return this.fields.push(n),n}addBoolean(t){const r=new um(this,t);return this.fields.push(r),r}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}}ie.BitStructure=w0;class m0{constructor(t,r,n){if(!(t instanceof w0))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*t.span,s=t.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=La(this.valueMask<<this.start),this.property=n}decode(t,r){const n=this.container._packedGetValue();return La(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==La(t&this.valueMask))throw new TypeError(h0("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=La(t<<this.start);this.container._packedSetValue(La(r&~this.wordMask)|n)}}ie.BitField=m0;class um extends m0{constructor(t,r){super(t,1,r)}decode(t,r){return!!super.decode(t,r)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}}ie.Boolean=um;class fm extends Zt{constructor(t,r){if(!(t instanceof On&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof On||(n=t),super(n,r),this.length=t}getSpan(t,r){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),n}decode(t,r=0){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),Ht(t).slice(r,r+n)}encode(t,r,n){let i=this.length;if(this.length instanceof On&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(h0("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Ht(t);return Ht(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof On&&this.length.encode(i,r,n),i}}ie.Blob=fm;class lm extends Zt{constructor(t){super(-1,t)}getSpan(t,r=0){Ca(t);let n=r;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-r}decode(t,r=0){const n=this.getSpan(t,r);return Ht(t).slice(r,r+n-1).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=l0.Buffer.from(t,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=Ht(r);return i.copy(o,n),o[n+s]=0,s+1}}ie.CString=lm;class hm extends Zt{constructor(t,r){if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=t}getSpan(t,r=0){return Ca(t),t.length-r}decode(t,r=0){const n=this.getSpan(t,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ht(t).slice(r,r+n).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=l0.Buffer.from(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ht(r),n),s}}ie.UTF8=hm;class dm extends Zt{constructor(t,r){super(0,r),this.value=t}decode(t,r){return this.value}encode(t,r,n){return 0}}ie.Constant=dm,ie.greedy=(e,t)=>new Xw(e,t);var Ho=ie.offset=(e,t,r)=>new d0(e,t,r),zt=ie.u8=e=>new oi(1,e),ai=ie.u16=e=>new oi(2,e);ie.u24=e=>new oi(3,e);var Ke=ie.u32=e=>new oi(4,e);ie.u40=e=>new oi(5,e),ie.u48=e=>new oi(6,e);var cn=ie.nu64=e=>new Jw(e);ie.u16be=e=>new xi(2,e),ie.u24be=e=>new xi(3,e),ie.u32be=e=>new xi(4,e),ie.u40be=e=>new xi(5,e),ie.u48be=e=>new xi(6,e),ie.nu64be=e=>new Qw(e),ie.s8=e=>new Fo(1,e),ie.s16=e=>new Fo(2,e),ie.s24=e=>new Fo(3,e),ie.s32=e=>new Fo(4,e),ie.s40=e=>new Fo(5,e),ie.s48=e=>new Fo(6,e);var Wn=ie.ns64=e=>new em(e);ie.s16be=e=>new $a(2,e),ie.s24be=e=>new $a(3,e),ie.s32be=e=>new $a(4,e),ie.s40be=e=>new $a(5,e),ie.s48be=e=>new $a(6,e),ie.ns64be=e=>new tm(e),ie.f32=e=>new rm(e),ie.f32be=e=>new nm(e),ie.f64=e=>new im(e),ie.f64be=e=>new sm(e);var He=ie.struct=(e,t,r)=>new am(e,t,r);ie.bits=(e,t,r)=>new w0(e,t,r);var gn=ie.seq=(e,t,r)=>new om(e,t,r);ie.union=(e,t,r)=>new y0(e,t,r),ie.unionLayoutDiscriminator=(e,t)=>new rl(e,t);var fr=ie.blob=(e,t)=>new fm(e,t);ie.cstr=e=>new lm(e),ie.utf8=(e,t)=>new hm(e,t),ie.constant=(e,t)=>new dm(e,t);var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});function G8(e){{const t=se.Buffer.from(e);t.reverse();const r=t.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var Z8=Jc.toBigIntLE=G8;function Y8(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Jc.toBigIntBE=Y8;function X8(e,t){{const r=e.toString(16),n=se.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var J8=Jc.toBufferLE=X8;function Q8(e,t){{const r=e.toString(16);return se.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex")}}Jc.toBufferBE=Q8;class eI extends TypeError{constructor(t,r){let n;const{message:i,...s}=t,{path:o}=t,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[t,...r()]}}}function tI(e){return Hs(e)&&typeof e[Symbol.iterator]=="function"}function Hs(e){return typeof e=="object"&&e!=null}function Ei(e){return typeof e=="string"?JSON.stringify(e):""+e}function rI(e){const{done:t,value:r}=e.next();return t?void 0:r}function nI(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Ei(n)+"`"}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*pm(e,t,r,n){tI(e)||(e=[e]);for(const i of e){const s=nI(i,t,r,n);s&&(yield s)}}function*b0(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&Hs(t.schema)&&Hs(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c=!0;for(const u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,h]of t.entries(e,a)){const _=b0(l,h,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o});for(const w of _)w[0]?(c=!1,yield[w[0],void 0]):s&&(l=w[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Hs(e)&&(e[u]=l))}if(c)for(const u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}class qi{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return pm(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return pm(l,u,this,c)}:this.refiner=()=>[]}assert(t){return iI(t,this)}create(t){return Te(t,this)}is(t){return gm(t,this)}mask(t){return sI(t,this)}validate(t,r={}){return Qc(t,this,r)}}function iI(e,t){const r=Qc(e,t);if(r[0])throw r[0]}function Te(e,t){const r=Qc(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function sI(e,t){const r=Qc(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function gm(e,t){return!Qc(e,t)[0]}function Qc(e,t,r={}){const n=b0(e,t,r),i=rI(n);return i[0]?[new eI(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Do(e,t){return new qi({type:e,schema:null,validator:t})}function oI(){return Do("any",()=>!0)}function $e(e){return new qi({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+Ei(t)}})}function Vi(){return Do("boolean",e=>typeof e=="boolean")}function _0(e){return Do("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+Ei(t))}function _r(e){const t=Ei(e),r=typeof e;return new qi({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||"Expected the literal `"+t+"`, but received: "+Ei(n)}})}function aI(){return Do("never",()=>!1)}function ke(e){return new qi({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function te(){return Do("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+Ei(e))}function tt(e){return new qi({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function ym(e,t){return new qi({type:"record",schema:null,*entries(r){if(Hs(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return Hs(r)||"Expected an object, but received: "+Ei(r)}})}function Ae(){return Do("string",e=>typeof e=="string"||"Expected a string, but received: "+Ei(e))}function v0(e){const t=aI();return new qi({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+Ei(r)}})}function be(e){const t=Object.keys(e);return new qi({type:"type",schema:e,*entries(r){if(Hs(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Hs(r)||"Expected an object, but received: "+Ei(r)}})}function Un(e){const t=e.map(r=>r.type).join(" | ");return new qi({type:"union",schema:null,validator(r,n){const i=[];for(const s of e){const[...o]=b0(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+Ei(r),...i]}})}function eu(){return Do("unknown",()=>!0)}function tu(e,t,r){return new qi({...e,coercer:(n,i)=>gm(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var nl,cI=new Uint8Array(16);function wm(){if(!nl&&(nl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!nl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nl(cI)}var uI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function il(e){return typeof e=="string"&&uI.test(e)}for(var un=[],x0=0;x0<256;++x0)un.push((x0+256).toString(16).substr(1));function sl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(un[e[t+0]]+un[e[t+1]]+un[e[t+2]]+un[e[t+3]]+"-"+un[e[t+4]]+un[e[t+5]]+"-"+un[e[t+6]]+un[e[t+7]]+"-"+un[e[t+8]]+un[e[t+9]]+"-"+un[e[t+10]]+un[e[t+11]]+un[e[t+12]]+un[e[t+13]]+un[e[t+14]]+un[e[t+15]]).toLowerCase();if(!il(r))throw TypeError("Stringified UUID is invalid");return r}var mm,E0,S0=0,A0=0;function fI(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var s=e.node||mm,o=e.clockseq!==void 0?e.clockseq:E0;if(s==null||o==null){var a=e.random||(e.rng||wm)();s==null&&(s=mm=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=E0=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:A0+1,l=c-S0+(u-A0)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>S0)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");S0=c,A0=u,E0=o,c+=122192928e5;var h=((c&268435455)*1e4+u)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;var _=c/4294967296*1e4&268435455;i[n++]=_>>>8&255,i[n++]=_&255,i[n++]=_>>>24&15|16,i[n++]=_>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var w=0;w<6;++w)i[n+w]=s[w];return t||sl(i)}function bm(e){if(!il(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function lI(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var hI="6ba7b810-9dad-11d1-80b4-00c04fd430c8",dI="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function _m(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=lI(i)),typeof s=="string"&&(s=bm(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return sl(c)}try{n.name=e}catch{}return n.DNS=hI,n.URL=dI,n}function pI(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return gI(yI(wI(e),e.length*8))}function gI(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(o)}return t}function vm(e){return(e+64>>>9<<4)+14+1}function yI(e,t){e[t>>5]|=128<<t%32,e[vm(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=r,c=n,u=i,l=s;r=yn(r,n,i,s,e[o],7,-680876936),s=yn(s,r,n,i,e[o+1],12,-389564586),i=yn(i,s,r,n,e[o+2],17,606105819),n=yn(n,i,s,r,e[o+3],22,-1044525330),r=yn(r,n,i,s,e[o+4],7,-176418897),s=yn(s,r,n,i,e[o+5],12,1200080426),i=yn(i,s,r,n,e[o+6],17,-1473231341),n=yn(n,i,s,r,e[o+7],22,-45705983),r=yn(r,n,i,s,e[o+8],7,1770035416),s=yn(s,r,n,i,e[o+9],12,-1958414417),i=yn(i,s,r,n,e[o+10],17,-42063),n=yn(n,i,s,r,e[o+11],22,-1990404162),r=yn(r,n,i,s,e[o+12],7,1804603682),s=yn(s,r,n,i,e[o+13],12,-40341101),i=yn(i,s,r,n,e[o+14],17,-1502002290),n=yn(n,i,s,r,e[o+15],22,1236535329),r=wn(r,n,i,s,e[o+1],5,-165796510),s=wn(s,r,n,i,e[o+6],9,-1069501632),i=wn(i,s,r,n,e[o+11],14,643717713),n=wn(n,i,s,r,e[o],20,-373897302),r=wn(r,n,i,s,e[o+5],5,-701558691),s=wn(s,r,n,i,e[o+10],9,38016083),i=wn(i,s,r,n,e[o+15],14,-660478335),n=wn(n,i,s,r,e[o+4],20,-405537848),r=wn(r,n,i,s,e[o+9],5,568446438),s=wn(s,r,n,i,e[o+14],9,-1019803690),i=wn(i,s,r,n,e[o+3],14,-187363961),n=wn(n,i,s,r,e[o+8],20,1163531501),r=wn(r,n,i,s,e[o+13],5,-1444681467),s=wn(s,r,n,i,e[o+2],9,-51403784),i=wn(i,s,r,n,e[o+7],14,1735328473),n=wn(n,i,s,r,e[o+12],20,-1926607734),r=mn(r,n,i,s,e[o+5],4,-378558),s=mn(s,r,n,i,e[o+8],11,-2022574463),i=mn(i,s,r,n,e[o+11],16,1839030562),n=mn(n,i,s,r,e[o+14],23,-35309556),r=mn(r,n,i,s,e[o+1],4,-1530992060),s=mn(s,r,n,i,e[o+4],11,1272893353),i=mn(i,s,r,n,e[o+7],16,-155497632),n=mn(n,i,s,r,e[o+10],23,-1094730640),r=mn(r,n,i,s,e[o+13],4,681279174),s=mn(s,r,n,i,e[o],11,-358537222),i=mn(i,s,r,n,e[o+3],16,-722521979),n=mn(n,i,s,r,e[o+6],23,76029189),r=mn(r,n,i,s,e[o+9],4,-640364487),s=mn(s,r,n,i,e[o+12],11,-421815835),i=mn(i,s,r,n,e[o+15],16,530742520),n=mn(n,i,s,r,e[o+2],23,-995338651),r=bn(r,n,i,s,e[o],6,-198630844),s=bn(s,r,n,i,e[o+7],10,1126891415),i=bn(i,s,r,n,e[o+14],15,-1416354905),n=bn(n,i,s,r,e[o+5],21,-57434055),r=bn(r,n,i,s,e[o+12],6,1700485571),s=bn(s,r,n,i,e[o+3],10,-1894986606),i=bn(i,s,r,n,e[o+10],15,-1051523),n=bn(n,i,s,r,e[o+1],21,-2054922799),r=bn(r,n,i,s,e[o+8],6,1873313359),s=bn(s,r,n,i,e[o+15],10,-30611744),i=bn(i,s,r,n,e[o+6],15,-1560198380),n=bn(n,i,s,r,e[o+13],21,1309151649),r=bn(r,n,i,s,e[o+4],6,-145523070),s=bn(s,r,n,i,e[o+11],10,-1120210379),i=bn(i,s,r,n,e[o+2],15,718787259),n=bn(n,i,s,r,e[o+9],21,-343485551),r=Ds(r,a),n=Ds(n,c),i=Ds(i,u),s=Ds(s,l)}return[r,n,i,s]}function wI(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(vm(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function Ds(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function mI(e,t){return e<<t|e>>>32-t}function ol(e,t,r,n,i,s){return Ds(mI(Ds(Ds(t,e),Ds(n,s)),i),r)}function yn(e,t,r,n,i,s,o){return ol(t&r|~t&n,e,t,i,s,o)}function wn(e,t,r,n,i,s,o){return ol(t&n|r&~n,e,t,i,s,o)}function mn(e,t,r,n,i,s,o){return ol(t^r^n,e,t,i,s,o)}function bn(e,t,r,n,i,s,o){return ol(r^(t|~n),e,t,i,s,o)}var bI=_m("v3",48,pI),_I=bI;function vI(e,t,r){e=e||{};var n=e.random||(e.rng||wm)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return sl(n)}function xI(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function B0(e,t){return e<<t|e>>>32-t}function EI(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(var h=0;h<o;++h){for(var _=new Uint32Array(80),w=0;w<16;++w)_[w]=a[h][w];for(var A=16;A<80;++A)_[A]=B0(_[A-3]^_[A-8]^_[A-14]^_[A-16],1);for(var k=r[0],I=r[1],H=r[2],P=r[3],C=r[4],$=0;$<80;++$){var q=Math.floor($/20),W=B0(k,5)+xI(q,I,H,P)+C+t[q]+_[$]>>>0;C=P,P=H,H=B0(I,30)>>>0,I=k,k=W}r[0]=r[0]+k>>>0,r[1]=r[1]+I>>>0,r[2]=r[2]+H>>>0,r[3]=r[3]+P>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var SI=_m("v5",80,EI),AI=SI,BI="00000000-0000-0000-0000-000000000000";function TI(e){if(!il(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var II=Object.freeze({__proto__:null,v1:fI,v3:_I,v4:vI,v5:AI,NIL:BI,version:TI,validate:il,stringify:sl,parse:bm}),xm=ni(II);const RI=xm.v4;var kI=function(e,t,r,n){if(typeof e!="string")throw new TypeError(e+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:e};if(i===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return RI()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};const CI=xm.v4,$I=kI,ru=function(e,t){if(!(this instanceof ru))return new ru(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return CI()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var LI=ru;ru.prototype.request=function(e,t,r,n){const i=this;let s=null;const o=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&typeof e=="object"&&typeof t=="function")n=t,s=e;else{typeof r=="function"&&(n=r,r=void 0);const u=typeof n=="function";try{s=$I(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return n(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,n)}),s},ru.prototype._parseResponse=function(e,t,r){if(e){r(e);return}if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};var Em={},T0={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,h,_){if(typeof l!="function")throw new TypeError("The listener must be a function");var w=new i(l,h||c,_),A=r?r+u:u;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],w]:c._events[A].push(w):(c._events[A]=w,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,h;if(this._eventsCount===0)return u;for(h in l=this._events)t.call(l,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,h=this._events[l];if(!h)return[];if(h.fn)return[h.fn];for(var _=0,w=h.length,A=new Array(w);_<w;_++)A[_]=h[_].fn;return A},a.prototype.listenerCount=function(u){var l=r?r+u:u,h=this._events[l];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,l,h,_,w,A){var k=r?r+u:u;if(!this._events[k])return!1;var I=this._events[k],H=arguments.length,P,C;if(I.fn){switch(I.once&&this.removeListener(u,I.fn,void 0,!0),H){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,l),!0;case 3:return I.fn.call(I.context,l,h),!0;case 4:return I.fn.call(I.context,l,h,_),!0;case 5:return I.fn.call(I.context,l,h,_,w),!0;case 6:return I.fn.call(I.context,l,h,_,w,A),!0}for(C=1,P=new Array(H-1);C<H;C++)P[C-1]=arguments[C];I.fn.apply(I.context,P)}else{var $=I.length,q;for(C=0;C<$;C++)switch(I[C].once&&this.removeListener(u,I[C].fn,void 0,!0),H){case 1:I[C].fn.call(I[C].context);break;case 2:I[C].fn.call(I[C].context,l);break;case 3:I[C].fn.call(I[C].context,l,h);break;case 4:I[C].fn.call(I[C].context,l,h,_);break;default:if(!P)for(q=1,P=new Array(H-1);q<H;q++)P[q-1]=arguments[q];I[C].fn.apply(I[C].context,P)}}return!0},a.prototype.on=function(u,l,h){return s(this,u,l,h,!1)},a.prototype.once=function(u,l,h){return s(this,u,l,h,!0)},a.prototype.removeListener=function(u,l,h,_){var w=r?r+u:u;if(!this._events[w])return this;if(!l)return o(this,w),this;var A=this._events[w];if(A.fn)A.fn===l&&(!_||A.once)&&(!h||A.context===h)&&o(this,w);else{for(var k=0,I=[],H=A.length;k<H;k++)(A[k].fn!==l||_&&!A[k].once||h&&A[k].context!==h)&&I.push(A[k]);I.length?this._events[w]=I.length===1?I[0]:I:o(this,w)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(T0);var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.createError=Oa.DefaultDataPack=void 0;const OI=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class UI{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}}Oa.DefaultDataPack=UI;function MI(e,t){const r={code:e,message:OI.get(e)||"Internal Server Error"};return t&&(r.data=t),r}Oa.createError=MI,Object.defineProperty(Em,"__esModule",{value:!0});const NI=T0.exports,PI=Oa;class FI extends NI.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),u?this.dataPack=u:this.dataPack=new PI.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(t,r),c={jsonrpc:"2.0",method:t,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,u=>{if(u)return o(u);this.queue[a]={promise:[s,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=se.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}}var HI=Em.default=FI,Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});const DI=T0.exports;class zI extends DI.EventEmitter{socket;constructor(t,r,n){super(),this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(t,r,n){const i=n||r;try{this.socket.send(t),i()}catch(s){i(s)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,n){this.socket.addEventListener(t,r,n)}}function jI(e,t){return new zI(e,t)}var qI=Sm.default=jI;const VI=[],KI=BigInt(0),nu=BigInt(1),WI=BigInt(2),GI=BigInt(7),ZI=BigInt(256),YI=BigInt(113);for(let e=0,t=nu,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5];let i=KI;for(let s=0;s<7;s++)t=(t<<nu^(t>>GI)*YI)%ZI,t&WI&&(i^=nu<<(nu<<BigInt(s))-nu);VI.push(i)}const XI=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),js=new Uint32Array(64);class JI extends mw{constructor(){super(64,32,8,!1),this.A=zs[0]|0,this.B=zs[1]|0,this.C=zs[2]|0,this.D=zs[3]|0,this.E=zs[4]|0,this.F=zs[5]|0,this.G=zs[6]|0,this.H=zs[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let h=0;h<16;h++,r+=4)js[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){const _=js[h-15],w=js[h-2],A=Hi(_,7)^Hi(_,18)^_>>>3,k=Hi(w,17)^Hi(w,19)^w>>>10;js[h]=k+js[h-7]+A+js[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let h=0;h<64;h++){const _=Hi(a,6)^Hi(a,11)^Hi(a,25),w=l+_+pT(a,c,u)+XI[h]+js[h]|0,k=(Hi(n,2)^Hi(n,13)^Hi(n,22))+gT(n,i,s)|0;l=u,u=c,c=a,a=o+w|0,o=s,s=i,i=n,n=w+k|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){js.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const QI=yw(()=>new JI);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eR(e){const t=e0(e);Ra(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:tR,hexToBytes:rR}=jT,zo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=zo;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:tR(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=zo,r=typeof e=="string"?rR(e):e;Yc(r);let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=zo._parseInt(r.subarray(2)),{d:o,l:a}=zo._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},hs=BigInt(0),ci=BigInt(1);BigInt(2);const Am=BigInt(3);BigInt(4);function nR(e){const t=eR(e),{Fp:r}=t,n=t.toBytes||((A,k,I)=>{const H=k.toAffine();return Uo(Uint8Array.from([4]),r.toBytes(H.x),r.toBytes(H.y))}),i=t.fromBytes||(A=>{const k=A.subarray(1),I=r.fromBytes(k.subarray(0,r.BYTES)),H=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:I,y:H}});function s(A){const{a:k,b:I}=t,H=r.sqr(A),P=r.mul(H,A);return r.add(r.add(P,r.mul(A,k)),I)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return typeof A=="bigint"&&hs<A&&A<t.n}function a(A){if(!o(A))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(A){const{allowedPrivateKeyLengths:k,nByteLength:I,wrapPrivateKey:H,n:P}=t;if(k&&typeof A!="bigint"){if($o(A)&&(A=Lo(A)),typeof A!="string"||!k.includes(A.length))throw new Error("Invalid key");A=A.padStart(I*2,"0")}let C;try{C=typeof A=="bigint"?A:Oo(jr("private key",A,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof A}`)}return H&&(C=lr(C,P)),a(C),C}const u=new Map;function l(A){if(!(A instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(k,I,H){if(this.px=k,this.py=I,this.pz=H,k==null||!r.isValid(k))throw new Error("x required");if(I==null||!r.isValid(I))throw new Error("y required");if(H==null||!r.isValid(H))throw new Error("z required")}static fromAffine(k){const{x:I,y:H}=k||{};if(!k||!r.isValid(I)||!r.isValid(H))throw new Error("invalid affine point");if(k instanceof h)throw new Error("projective point not allowed");const P=C=>r.eql(C,r.ZERO);return P(I)&&P(H)?h.ZERO:new h(I,H,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(k){const I=r.invertBatch(k.map(H=>H.pz));return k.map((H,P)=>H.toAffine(I[P])).map(h.fromAffine)}static fromHex(k){const I=h.fromAffine(i(jr("pointHex",k)));return I.assertValidity(),I}static fromPrivateKey(k){return h.BASE.multiply(c(k))}_setWindowSize(k){this._WINDOW_SIZE=k,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:k,y:I}=this.toAffine();if(!r.isValid(k)||!r.isValid(I))throw new Error("bad point: x or y not FE");const H=r.sqr(I),P=s(k);if(!r.eql(H,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:k}=this.toAffine();if(r.isOdd)return!r.isOdd(k);throw new Error("Field doesn't support isOdd")}equals(k){l(k);const{px:I,py:H,pz:P}=this,{px:C,py:$,pz:q}=k,W=r.eql(r.mul(I,q),r.mul(C,P)),V=r.eql(r.mul(H,q),r.mul($,P));return W&&V}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:k,b:I}=t,H=r.mul(I,Am),{px:P,py:C,pz:$}=this;let q=r.ZERO,W=r.ZERO,V=r.ZERO,z=r.mul(P,P),X=r.mul(C,C),re=r.mul($,$),ee=r.mul(P,C);return ee=r.add(ee,ee),V=r.mul(P,$),V=r.add(V,V),q=r.mul(k,V),W=r.mul(H,re),W=r.add(q,W),q=r.sub(X,W),W=r.add(X,W),W=r.mul(q,W),q=r.mul(ee,q),V=r.mul(H,V),re=r.mul(k,re),ee=r.sub(z,re),ee=r.mul(k,ee),ee=r.add(ee,V),V=r.add(z,z),z=r.add(V,z),z=r.add(z,re),z=r.mul(z,ee),W=r.add(W,z),re=r.mul(C,$),re=r.add(re,re),z=r.mul(re,ee),q=r.sub(q,z),V=r.mul(re,X),V=r.add(V,V),V=r.add(V,V),new h(q,W,V)}add(k){l(k);const{px:I,py:H,pz:P}=this,{px:C,py:$,pz:q}=k;let W=r.ZERO,V=r.ZERO,z=r.ZERO;const X=t.a,re=r.mul(t.b,Am);let ee=r.mul(I,C),R=r.mul(H,$),y=r.mul(P,q),f=r.add(I,H),d=r.add(C,$);f=r.mul(f,d),d=r.add(ee,R),f=r.sub(f,d),d=r.add(I,P);let b=r.add(C,q);return d=r.mul(d,b),b=r.add(ee,y),d=r.sub(d,b),b=r.add(H,P),W=r.add($,q),b=r.mul(b,W),W=r.add(R,y),b=r.sub(b,W),z=r.mul(X,d),W=r.mul(re,y),z=r.add(W,z),W=r.sub(R,z),z=r.add(R,z),V=r.mul(W,z),R=r.add(ee,ee),R=r.add(R,ee),y=r.mul(X,y),d=r.mul(re,d),R=r.add(R,y),y=r.sub(ee,y),y=r.mul(X,y),d=r.add(d,y),ee=r.mul(R,d),V=r.add(V,ee),ee=r.mul(b,d),W=r.mul(f,W),W=r.sub(W,ee),ee=r.mul(f,R),z=r.mul(b,z),z=r.add(z,ee),new h(W,V,z)}subtract(k){return this.add(k.negate())}is0(){return this.equals(h.ZERO)}wNAF(k){return w.wNAFCached(this,u,k,I=>{const H=r.invertBatch(I.map(P=>P.pz));return I.map((P,C)=>P.toAffine(H[C])).map(h.fromAffine)})}multiplyUnsafe(k){const I=h.ZERO;if(k===hs)return I;if(a(k),k===ci)return this;const{endo:H}=t;if(!H)return w.unsafeLadder(this,k);let{k1neg:P,k1:C,k2neg:$,k2:q}=H.splitScalar(k),W=I,V=I,z=this;for(;C>hs||q>hs;)C&ci&&(W=W.add(z)),q&ci&&(V=V.add(z)),z=z.double(),C>>=ci,q>>=ci;return P&&(W=W.negate()),$&&(V=V.negate()),V=new h(r.mul(V.px,H.beta),V.py,V.pz),W.add(V)}multiply(k){a(k);let I=k,H,P;const{endo:C}=t;if(C){const{k1neg:$,k1:q,k2neg:W,k2:V}=C.splitScalar(I);let{p:z,f:X}=this.wNAF(q),{p:re,f:ee}=this.wNAF(V);z=w.constTimeNegate($,z),re=w.constTimeNegate(W,re),re=new h(r.mul(re.px,C.beta),re.py,re.pz),H=z.add(re),P=X.add(ee)}else{const{p:$,f:q}=this.wNAF(I);H=$,P=q}return h.normalizeZ([H,P])[0]}multiplyAndAddUnsafe(k,I,H){const P=h.BASE,C=(q,W)=>W===hs||W===ci||!q.equals(P)?q.multiplyUnsafe(W):q.multiply(W),$=C(this,I).add(C(k,H));return $.is0()?void 0:$}toAffine(k){const{px:I,py:H,pz:P}=this,C=this.is0();k==null&&(k=C?r.ONE:r.inv(P));const $=r.mul(I,k),q=r.mul(H,k),W=r.mul(P,k);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql(W,r.ONE))throw new Error("invZ was invalid");return{x:$,y:q}}isTorsionFree(){const{h:k,isTorsionFree:I}=t;if(k===ci)return!0;if(I)return I(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:k,clearCofactor:I}=t;return k===ci?this:I?I(h,this):this.multiplyUnsafe(t.h)}toRawBytes(k=!0){return this.assertValidity(),n(h,this,k)}toHex(k=!0){return Lo(this.toRawBytes(k))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const _=t.nBitLength,w=$w(h,t.endo?Math.ceil(_/2):_);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function iR(e){const t=e0(e);return Ra(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function sR(e){const t=iR(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(d){return hs<d&&d<r.ORDER}function a(d){return lr(d,n)}function c(d){return Jd(d,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:h,isWithinCurveOrder:_}=nR({...t,toBytes(d,b,x){const E=b.toAffine(),S=r.toBytes(E.x),L=Uo;return x?L(Uint8Array.from([b.hasEvenY()?2:3]),S):L(Uint8Array.from([4]),S,r.toBytes(E.y))},fromBytes(d){const b=d.length,x=d[0],E=d.subarray(1);if(b===i&&(x===2||x===3)){const S=Oo(E);if(!o(S))throw new Error("Point is not on curve");const L=h(S);let T;try{T=r.sqrt(L)}catch(G){const Z=G instanceof Error?": "+G.message:"";throw new Error("Point is not on curve"+Z)}const p=(T&ci)===ci;return(x&1)===1!==p&&(T=r.neg(T)),{x:S,y:T}}else if(b===s&&x===4){const S=r.fromBytes(E.subarray(0,r.BYTES)),L=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:S,y:L}}else throw new Error(`Point of length ${b} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=d=>Lo(Ia(d,t.nByteLength));function A(d){const b=n>>ci;return d>b}function k(d){return A(d)?a(-d):d}const I=(d,b,x)=>Oo(d.slice(b,x));class H{constructor(b,x,E){this.r=b,this.s=x,this.recovery=E,this.assertValidity()}static fromCompact(b){const x=t.nByteLength;return b=jr("compactSignature",b,x*2),new H(I(b,0,x),I(b,x,2*x))}static fromDER(b){const{r:x,s:E}=zo.toSig(jr("DER",b));return new H(x,E)}assertValidity(){if(!_(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(b){return new H(this.r,this.s,b)}recoverPublicKey(b){const{r:x,s:E,recovery:S}=this,L=V(jr("msgHash",b));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const T=S===2||S===3?x+t.n:x;if(T>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const p=S&1?"03":"02",O=u.fromHex(p+w(T)),G=c(T),Z=a(-L*G),ne=a(E*G),Se=u.BASE.multiplyAndAddUnsafe(O,Z,ne);if(!Se)throw new Error("point at infinify");return Se.assertValidity(),Se}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new H(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ba(this.toDERHex())}toDERHex(){return zo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ba(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const P={isValidPrivateKey(d){try{return l(d),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const d=Cw(t.n);return e8(t.randomBytes(d),t.n)},precompute(d=8,b=u.BASE){return b._setWindowSize(d),b.multiply(BigInt(3)),b}};function C(d,b=!0){return u.fromPrivateKey(d).toRawBytes(b)}function $(d){const b=$o(d),x=typeof d=="string",E=(b||x)&&d.length;return b?E===i||E===s:x?E===2*i||E===2*s:d instanceof u}function q(d,b,x=!0){if($(d))throw new Error("first arg must be private key");if(!$(b))throw new Error("second arg must be public key");return u.fromHex(b).multiply(l(d)).toRawBytes(x)}const W=t.bits2int||function(d){const b=Oo(d),x=d.length*8-t.nBitLength;return x>0?b>>BigInt(x):b},V=t.bits2int_modN||function(d){return a(W(d))},z=Zd(t.nBitLength);function X(d){if(typeof d!="bigint")throw new Error("bigint expected");if(!(hs<=d&&d<z))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ia(d,t.nByteLength)}function re(d,b,x=ee){if(["recovered","canonical"].some(ye=>ye in x))throw new Error("sign() legacy options not supported");const{hash:E,randomBytes:S}=t;let{lowS:L,prehash:T,extraEntropy:p}=x;L==null&&(L=!0),d=jr("msgHash",d),T&&(d=jr("prehashed msgHash",E(d)));const O=V(d),G=l(b),Z=[X(G),X(O)];if(p!=null&&p!==!1){const ye=p===!0?S(r.BYTES):p;Z.push(jr("extraEntropy",ye))}const ne=Uo(...Z),Se=O;function _e(ye){const nt=W(ye);if(!_(nt))return;const Fe=c(nt),Pe=u.BASE.multiply(nt).toAffine(),ge=a(Pe.x);if(ge===hs)return;const me=a(Fe*a(Se+ge*G));if(me===hs)return;let Ce=(Pe.x===ge?0:2)|Number(Pe.y&ci),St=me;return L&&A(me)&&(St=k(me),Ce^=1),new H(ge,St,Ce)}return{seed:ne,k2sig:_e}}const ee={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function y(d,b,x=ee){const{seed:E,k2sig:S}=re(d,b,x),L=t;return Aw(L.hash.outputLen,L.nByteLength,L.hmac)(E,S)}u.BASE._setWindowSize(8);function f(d,b,x,E=R){const S=d;if(b=jr("msgHash",b),x=jr("publicKey",x),"strict"in E)throw new Error("options.strict was renamed to lowS");const{lowS:L,prehash:T}=E;let p,O;try{if(typeof S=="string"||$o(S))try{p=H.fromDER(S)}catch(Pe){if(!(Pe instanceof zo.Err))throw Pe;p=H.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:Pe,s:ge}=S;p=new H(Pe,ge)}else throw new Error("PARSE");O=u.fromHex(x)}catch(Pe){if(Pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(L&&p.hasHighS())return!1;T&&(b=t.hash(b));const{r:G,s:Z}=p,ne=V(b),Se=c(Z),_e=a(ne*Se),ye=a(G*Se),nt=u.BASE.multiplyAndAddUnsafe(O,_e,ye)?.toAffine();return nt?a(nt.x)===G:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:q,sign:y,verify:f,ProjectivePoint:u,Signature:H,utils:P}}class Bm extends gw{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,lT(t);const n=Kd(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return zf(this),this.iHash.update(t),this}digestInto(t){zf(this),Df(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Tm=(e,t,r)=>new Bm(e,t).update(r).digest();Tm.create=(e,t)=>new Bm(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oR(e){return{hash:e,hmac:(t,...r)=>Tm(e,t,pw(...r)),randomBytes:ww}}function aR(e,t){const r=n=>sR({...e,...oR(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Im=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Rm=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cR=BigInt(1),I0=BigInt(2),km=(e,t)=>(e+t/I0)/t;function uR(e){const t=Im,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,h=Ar(l,r,t)*l%t,_=Ar(h,r,t)*l%t,w=Ar(_,I0,t)*u%t,A=Ar(w,i,t)*w%t,k=Ar(A,s,t)*A%t,I=Ar(k,a,t)*k%t,H=Ar(I,c,t)*I%t,P=Ar(H,a,t)*k%t,C=Ar(P,r,t)*l%t,$=Ar(C,o,t)*A%t,q=Ar($,n,t)*u%t,W=Ar(q,I0,t);if(!R0.eql(R0.sqr(W),e))throw new Error("Cannot find square root");return W}const R0=Rw(Im,void 0,void 0,{sqrt:uR}),k0=aR({a:BigInt(0),b:BigInt(7),Fp:R0,n:Rm,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Rm,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-cR*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=km(s*e,t),c=km(-n*e,t);let u=lr(e-a*r-c*i,t),l=lr(-a*n-c*s,t);const h=u>o,_=l>o;if(h&&(u=t-u),_&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:_,k2:l}}}},QI);BigInt(0),k0.ProjectivePoint,Kf.utils.randomPrivateKey;function Cm(e){try{return Kf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const $m=(e,t)=>Kf.sign(e,t.slice(0,32)),fR=Kf.verify,Ua=e=>se.Buffer.isBuffer(e)?e:e instanceof Uint8Array?se.Buffer.from(e.buffer,e.byteOffset,e.byteLength):se.Buffer.from(e);class lR{constructor(t){Object.assign(this,t)}encode(){return se.Buffer.from(Zw(al,this))}static decode(t){return Yw(al,this,t)}static decodeUnchecked(t){return qw(al,this,t)}}const al=new Map;var Lm;const hR=32,qs=32;function dR(e){return e._bn!==void 0}let Om=1;class rt extends lR{constructor(t){if(super({}),this._bn=void 0,dR(t))this._bn=t._bn;else{if(typeof t=="string"){const r=Fr.decode(t);if(r.length!=qs)throw new Error("Invalid public key input");this._bn=new Pw(r)}else this._bn=new Pw(t);if(this._bn.byteLength()>qs)throw new Error("Invalid public key input")}}static unique(){const t=new rt(Om);return Om+=1,new rt(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Fr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(se.Buffer);if(t.length===qs)return t;const r=se.Buffer.alloc(32);return t.copy(r,32-t.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const i=se.Buffer.concat([t.toBuffer(),se.Buffer.from(r),n.toBuffer()]),s=zw(i);return new rt(s)}static createProgramAddressSync(t,r){let n=se.Buffer.alloc(0);t.forEach(function(s){if(s.length>hR)throw new TypeError("Max seed length exceeded");n=se.Buffer.concat([n,Ua(s)])}),n=se.Buffer.concat([n,r.toBuffer(),se.Buffer.from("ProgramDerivedAddress")]);const i=zw(n);if(Cm(i))throw new Error("Invalid seeds, address must fall off the curve");return new rt(i)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,i;for(;n!=0;){try{const s=t.concat(se.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){const r=new rt(t);return Cm(r.toBytes())}}Lm=rt,rt.default=new Lm("11111111111111111111111111111111"),al.set(rt,{kind:"struct",fields:[["_bn","u256"]]}),new rt("BPFLoader1111111111111111111111111111111111");const Ma=1280-40-8,C0=127,cl=64;class Um extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Um.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Mm extends Error{constructor(t,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Mm.prototype,"name",{value:"TransactionExpiredTimeoutError"});class iu extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(iu.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ul{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const It=(e="publicKey")=>fr(32,e),pR=(e="signature")=>fr(64,e),Na=(e="string")=>{const t=He([Ke("length"),Ke("lengthPadding"),fr(Ho(Ke(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:se.Buffer.from(s,"utf8")};return n(c,o,a)},i.alloc=s=>Ke().span+Ke().span+se.Buffer.from(s,"utf8").length,i},gR=(e="authorized")=>He([It("staker"),It("withdrawer")],e),yR=(e="lockup")=>He([Wn("unixTimestamp"),Wn("epoch"),It("custodian")],e),wR=(e="voteInit")=>He([It("nodePubkey"),It("authorizedVoter"),It("authorizedWithdrawer"),zt("commission")],e),mR=(e="voteAuthorizeWithSeedArgs")=>He([Ke("voteAuthorizationType"),It("currentAuthorityDerivedKeyOwnerPubkey"),Na("currentAuthorityDerivedKeySeed"),It("newAuthorized")],e);function Gn(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,!(n&128))break}return t}function Zn(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function hr(e,t){if(!e)throw new Error(t||"Assertion failed")}class fl{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){const n=new Map,i=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of t){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new fl(r,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];hr(t.length<=256,"Max static account keys length exceeded");const r=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),s=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{hr(r.length>0,"Expected at least one writable signer key");const[c]=r[0];hr(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([c])=>new rt(c)),...n.map(([c])=>new rt(c)),...i.map(([c])=>new rt(c)),...s.map(([c])=>new rt(c))];return[o,a]}extractTableLookup(t){const[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new rt(s),c=t.findIndex(u=>u.equals(a));c>=0&&(hr(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const Nm="Reached end of buffer unexpectedly";function ds(e){if(e.length===0)throw new Error(Nm);return e.shift()}function Yn(e,...t){const[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(Nm);return e.splice(...t)}class ps{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new rt(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Fr.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ul(this.staticAccountKeys)}static compile(t){const r=fl.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),o=new ul(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Fr.encode(a.data)}));return new ps({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){const t=this.accountKeys.length;let r=[];Zn(r,t);const n=this.instructions.map(h=>{const{accounts:_,programIdIndex:w}=h,A=Array.from(Fr.decode(h.data));let k=[];Zn(k,_.length);let I=[];return Zn(I,A.length),{programIdIndex:w,keyIndicesCount:se.Buffer.from(k),keyIndices:_,dataLength:se.Buffer.from(I),data:A}});let i=[];Zn(i,n.length);let s=se.Buffer.alloc(Ma);se.Buffer.from(i).copy(s);let o=i.length;n.forEach(h=>{const w=He([zt("programIdIndex"),fr(h.keyIndicesCount.length,"keyIndicesCount"),gn(zt("keyIndex"),h.keyIndices.length,"keyIndices"),fr(h.dataLength.length,"dataLength"),gn(zt("userdatum"),h.data.length,"data")]).encode(h,s,o);o+=w}),s=s.slice(0,o);const a=He([fr(1,"numRequiredSignatures"),fr(1,"numReadonlySignedAccounts"),fr(1,"numReadonlyUnsignedAccounts"),fr(r.length,"keyCount"),gn(It("key"),t,"keys"),It("recentBlockhash")]),c={numRequiredSignatures:se.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:se.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:se.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:se.Buffer.from(r),keys:this.accountKeys.map(h=>Ua(h.toBytes())),recentBlockhash:Fr.decode(this.recentBlockhash)};let u=se.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(t){let r=[...t];const n=ds(r);if(n!==(n&C0))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=ds(r),s=ds(r),o=Gn(r);let a=[];for(let _=0;_<o;_++){const w=Yn(r,0,qs);a.push(new rt(se.Buffer.from(w)))}const c=Yn(r,0,qs),u=Gn(r);let l=[];for(let _=0;_<u;_++){const w=ds(r),A=Gn(r),k=Yn(r,0,A),I=Gn(r),H=Yn(r,0,I),P=Fr.encode(se.Buffer.from(H));l.push({programIdIndex:w,accounts:k,data:P})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Fr.encode(se.Buffer.from(c)),accountKeys:a,instructions:l};return new ps(h)}}class su{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ul(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const i=t-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){const i=t-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=t.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){const r=fl.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const l of s){const h=r.extractTableLookup(l);if(h!==void 0){const[_,{writable:w,readonly:A}]=h;n.push(_),i.writable.push(...w),i.readonly.push(...A)}}const[o,a]=r.getMessageComponents(),u=new ul(a,i).compileInstructions(t.instructions);return new su({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){const t=Array();Zn(t,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Zn(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Zn(s,this.addressTableLookups.length);const o=He([zt("prefix"),He([zt("numRequiredSignatures"),zt("numReadonlySignedAccounts"),zt("numReadonlyUnsignedAccounts")],"header"),fr(t.length,"staticAccountKeysLength"),gn(It(),this.staticAccountKeys.length,"staticAccountKeys"),It("recentBlockhash"),fr(n.length,"instructionsLength"),fr(r.length,"serializedInstructions"),fr(s.length,"addressTableLookupsLength"),fr(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ma),c=128,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Fr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let t=0;const r=new Uint8Array(Ma);for(const n of this.compiledInstructions){const i=Array();Zn(i,n.accountKeyIndexes.length);const s=Array();Zn(s,n.data.length);const o=He([zt("programIdIndex"),fr(i.length,"encodedAccountKeyIndexesLength"),gn(zt(),n.accountKeyIndexes.length,"accountKeyIndexes"),fr(s.length,"encodedDataLength"),fr(n.data.length,"data")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0;const r=new Uint8Array(Ma);for(const n of this.addressTableLookups){const i=Array();Zn(i,n.writableIndexes.length);const s=Array();Zn(s,n.readonlyIndexes.length);const o=He([It("accountKey"),fr(i.length,"encodedWritableIndexesLength"),gn(zt(),n.writableIndexes.length,"writableIndexes"),fr(s.length,"encodedReadonlyIndexesLength"),gn(zt(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t];const n=ds(r),i=n&C0;hr(n!==i,"Expected versioned message but received legacy message");const s=i;hr(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:ds(r),numReadonlySignedAccounts:ds(r),numReadonlyUnsignedAccounts:ds(r)},a=[],c=Gn(r);for(let A=0;A<c;A++)a.push(new rt(Yn(r,0,qs)));const u=Fr.encode(Yn(r,0,qs)),l=Gn(r),h=[];for(let A=0;A<l;A++){const k=ds(r),I=Gn(r),H=Yn(r,0,I),P=Gn(r),C=new Uint8Array(Yn(r,0,P));h.push({programIdIndex:k,accountKeyIndexes:H,data:C})}const _=Gn(r),w=[];for(let A=0;A<_;A++){const k=new rt(Yn(r,0,qs)),I=Gn(r),H=Yn(r,0,I),P=Gn(r),C=Yn(r,0,P);w.push({accountKey:k,writableIndexes:H,readonlyIndexes:C})}return new su({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:h,addressTableLookups:w})}}const Pm={deserializeMessageVersion(e){const t=e[0],r=t&C0;return r===t?"legacy":r},deserialize:e=>{const t=Pm.deserializeMessageVersion(e);if(t==="legacy")return ps.from(e);if(t===0)return su.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Vs=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const bR=se.Buffer.alloc(cl).fill(0);class Fm{constructor(t){this.keys=void 0,this.programId=void 0,this.data=se.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ks{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Fm(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let k=0;k<r.length;k++)if(r[k].programId===void 0)throw new Error(`Transaction instruction index ${k} has undefined program id`);const i=[],s=[];r.forEach(k=>{k.keys.forEach(H=>{s.push({...H})});const I=k.programId.toString();i.includes(I)||i.push(I)}),i.forEach(k=>{s.push({pubkey:new rt(k),isSigner:!1,isWritable:!1})});const o=[];s.forEach(k=>{const I=k.pubkey.toString(),H=o.findIndex(P=>P.pubkey.toString()===I);H>-1?(o[H].isWritable=o[H].isWritable||k.isWritable,o[H].isSigner=o[H].isSigner||k.isSigner):o.push(k)}),o.sort(function(k,I){if(k.isSigner!==I.isSigner)return k.isSigner?-1:1;if(k.isWritable!==I.isWritable)return k.isWritable?-1:1;const H={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return k.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",H)});const a=o.findIndex(k=>k.pubkey.equals(n));if(a>-1){const[k]=o.splice(a,1);k.isSigner=!0,k.isWritable=!0,o.unshift(k)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const k of this.signatures){const I=o.findIndex(H=>H.pubkey.equals(k.publicKey));if(I>-1)o[I].isSigner||(o[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${k.publicKey.toString()}`)}let c=0,u=0,l=0;const h=[],_=[];o.forEach(({pubkey:k,isSigner:I,isWritable:H})=>{I?(h.push(k.toString()),c+=1,H||(u+=1)):(_.push(k.toString()),H||(l+=1))});const w=h.concat(_),A=r.map(k=>{const{data:I,programId:H}=k;return{programIdIndex:w.indexOf(H.toString()),accounts:k.keys.map(P=>w.indexOf(P.pubkey.toString())),data:Fr.encode(I)}});return A.forEach(k=>{hr(k.programIdIndex>=0),k.accounts.forEach(I=>hr(I>=0))}),new ps({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:w,recentBlockhash:t,instructions:A})}_compile(){const t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const r=new Set;this.signatures=t.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(t,...r){const n=t.serialize();r.forEach(i=>{const s=$m(n,i.secretKey);this._addSignature(i.publicKey,Ua(s))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){hr(r.length===64);const n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=se.Buffer.from(r)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):fR(i,t,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(t){const{signatures:r}=this,n=[];Zn(n,r.length);const i=n.length+r.length*64+t.length,s=se.Buffer.alloc(i);return hr(r.length<256),se.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(hr(o.length===64,"signature has invalid length"),se.Buffer.from(o).copy(s,n.length+a*64))}),t.copy(s,n.length+r.length*64),hr(s.length<=Ma,`Transaction too large: ${s.length} > ${Ma}`),s}get keys(){return hr(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return hr(this.instructions.length===1),this.instructions[0].programId}get data(){return hr(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t];const n=Gn(r);let i=[];for(let s=0;s<n;s++){const o=Yn(r,0,cl);i.push(Fr.encode(se.Buffer.from(o)))}return Ks.populate(ps.from(r),i)}static populate(t,r=[]){const n=new Ks;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==Fr.encode(bR)?null:Fr.decode(i),publicKey:t.accountKeys[s]};n.signatures.push(o)}),t.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new Fm({keys:s,programId:t.accountKeys[i.programIdIndex],data:Fr.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}}class ou{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)hr(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array(cl));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),r=Array();Zn(r,this.signatures.length);const n=He([fr(r.length,"encodedSignaturesLength"),gn(pR(),this.signatures.length,"signatures"),fr(t.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let r=[...t];const n=[],i=Gn(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Yn(r,0,cl)));const s=Pm.deserialize(new Uint8Array(r));return new ou(s,n)}sign(t){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const s=n.findIndex(o=>o.equals(i.publicKey));hr(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=$m(r,i.secretKey)}}addSignature(t,r){hr(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));hr(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const _R=1e3/(160/64);new rt("SysvarC1ock11111111111111111111111111111111"),new rt("SysvarEpochSchedu1e111111111111111111111111"),new rt("Sysvar1nstructions1111111111111111111111111"),new rt("SysvarRecentB1ockHashes11111111111111111111"),new rt("SysvarRent111111111111111111111111111111111"),new rt("SysvarRewards111111111111111111111111111111"),new rt("SysvarS1otHashes111111111111111111111111111"),new rt("SysvarS1otHistory11111111111111111111111111"),new rt("SysvarStakeHistory1111111111111111111111111");function Pa(e){return new Promise(t=>setTimeout(t,e))}const vR=cn("lamportsPerSignature"),Hm=He([Ke("version"),Ke("state"),It("authorizedPubkey"),It("nonce"),He([vR],"feeCalculator")]);Hm.span;class $0{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const r=Hm.decode(Ua(t),0);return new $0({authorizedPubkey:new rt(r.authorizedPubkey),nonce:new rt(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const xR=e=>{const t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},Fa=(e=>t=>{const r=fr(e,t),{encode:n,decode:i}=xR(r),s=r;return s.decode=(o,a)=>{const c=i(o,a);return Z8(se.Buffer.from(c))},s.encode=(o,a,c)=>{const u=J8(o,e);return n(u,a,c)},s})(8);Object.freeze({Create:{index:0,layout:He([Ke("instruction"),Wn("lamports"),Wn("space"),It("programId")])},Assign:{index:1,layout:He([Ke("instruction"),It("programId")])},Transfer:{index:2,layout:He([Ke("instruction"),Fa("lamports")])},CreateWithSeed:{index:3,layout:He([Ke("instruction"),It("base"),Na("seed"),Wn("lamports"),Wn("space"),It("programId")])},AdvanceNonceAccount:{index:4,layout:He([Ke("instruction")])},WithdrawNonceAccount:{index:5,layout:He([Ke("instruction"),Wn("lamports")])},InitializeNonceAccount:{index:6,layout:He([Ke("instruction"),It("authorized")])},AuthorizeNonceAccount:{index:7,layout:He([Ke("instruction"),It("authorized")])},Allocate:{index:8,layout:He([Ke("instruction"),Wn("space")])},AllocateWithSeed:{index:9,layout:He([Ke("instruction"),It("base"),Na("seed"),Wn("space"),It("programId")])},AssignWithSeed:{index:10,layout:He([Ke("instruction"),It("base"),Na("seed"),It("programId")])},TransferWithSeed:{index:11,layout:He([Ke("instruction"),Fa("lamports"),Na("seed"),It("programId")])},UpgradeNonceAccount:{index:12,layout:He([Ke("instruction")])}}),new rt("11111111111111111111111111111111"),new rt("BPFLoader2111111111111111111111111111111111");function ER(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var SR=Object.prototype.toString,AR=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function au(e,t){var r,n,i,s,o,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return au(e.toJSON(),t);if(c=SR.call(e),c==="[object Array]"){for(i="[",n=e.length-1,r=0;r<n;r++)i+=au(e[r],!0)+",";return n>-1&&(i+=au(e[r],!0)),i+"]"}else if(c==="[object Object]"){for(s=AR(e).sort(),n=s.length,i="",r=0;r<n;)o=s[r],a=au(e[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var BR=function(e){var t=au(e,!1);if(t!==void 0)return""+t},Dm=ER(BR);const cu=32;function L0(e){let t=0;for(;e>1;)e/=2,t++;return t}function TR(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class IR{constructor(t,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=L0(TR(t+cu+1))-L0(cu)-1,n=this.getSlotsInEpoch(r),i=t-(n-cu);return[r,i]}else{const r=t-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*cu:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+L0(cu)):this.slotsPerEpoch}}class zm extends Error{constructor(t,r){super(t),this.logs=void 0,this.logs=r}}class je extends Error{constructor({code:t,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var RR=globalThis.fetch;class kR extends HI{constructor(t,r,n){const i=s=>{const o=qI(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,t,r,n),this.underlyingSocket=void 0}call(...t){const r=this.underlyingSocket?.readyState;return r===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...t){const r=this.underlyingSocket?.readyState;return r===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function CR(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}const jm=56;class qm{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const r=CR($R,t),n=t.length-jm;hr(n>=0,"lookup table is invalid"),hr(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=He([gn(It(),i,"addresses")]).decode(t.slice(jm));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new rt(r.authority[0]):void 0,addresses:s.map(o=>new rt(o))}}}const $R={index:1,layout:He([Ke("typeIndex"),Fa("deactivationSlot"),cn("lastExtendedSlot"),zt("lastExtendedStartIndex"),zt(),gn(It(),Ho(zt(),-1),"authority")])},LR=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function OR(e){const t=e.match(LR);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${s}`}const Hr=tu(_0(rt),Ae(),e=>new rt(e)),Vm=v0([Ae(),_r("base64")]),O0=tu(_0(se.Buffer),Vm,e=>se.Buffer.from(e[0],"base64")),UR=30*1e3;function MR(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function dr(e){let t,r;if(typeof e=="string")t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function Km(e){return Un([be({jsonrpc:_r("2.0"),id:Ae(),result:e}),be({jsonrpc:_r("2.0"),id:Ae(),error:be({code:eu(),message:Ae(),data:tt(oI())})})])}const NR=Km(eu());function xt(e){return tu(Km(e),NR,t=>"error"in t?t:{...t,result:Te(t.result,e)})}function Br(e){return xt(be({context:be({slot:te()}),value:e}))}function ll(e){return be({context:be({slot:te()}),value:e})}function U0(e,t){return e===0?new su({header:t.header,staticAccountKeys:t.accountKeys.map(r=>new rt(r)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Fr.decode(r.data)})),addressTableLookups:t.addressTableLookups}):new ps(t)}const PR=be({foundation:te(),foundationTerm:te(),initial:te(),taper:te(),terminal:te()}),FR=xt($e(ke(be({epoch:te(),effectiveSlot:te(),amount:te(),postBalance:te(),commission:tt(ke(te()))})))),HR=$e(be({slot:te(),prioritizationFee:te()})),DR=be({total:te(),validator:te(),foundation:te(),epoch:te()}),zR=be({epoch:te(),slotIndex:te(),slotsInEpoch:te(),absoluteSlot:te(),blockHeight:tt(te()),transactionCount:tt(te())}),jR=be({slotsPerEpoch:te(),leaderScheduleSlotOffset:te(),warmup:Vi(),firstNormalEpoch:te(),firstNormalSlot:te()}),qR=ym(Ae(),$e(te())),jo=ke(Un([be({}),Ae()])),VR=be({err:jo}),KR=_r("receivedSignature"),WR=be({"solana-core":Ae(),"feature-set":tt(te())}),Wm=Br(be({err:ke(Un([be({}),Ae()])),logs:ke($e(Ae())),accounts:tt(ke($e(ke(be({executable:Vi(),owner:Ae(),lamports:te(),data:$e(Ae()),rentEpoch:tt(te())}))))),unitsConsumed:tt(te()),returnData:tt(ke(be({programId:Ae(),data:v0([Ae(),_r("base64")])})))})),GR=Br(be({byIdentity:ym(Ae(),$e(te())),range:be({firstSlot:te(),lastSlot:te()})}));function ZR(e,t,r,n,i,s){const o=r||RR;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(l,h)=>{const _=await new Promise((w,A)=>{try{n(l,h,(k,I)=>w([k,I]))}catch(k){A(k)}});return await o(..._)}),new LI(async(l,h)=>{const _={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},Y5)};try{let w=5,A,k=500;for(;c?A=await c(e,_):A=await o(e,_),!(A.status!==429||i===!0||(w-=1,w===0));)console.error(`Server responded with ${A.status} ${A.statusText}.  Retrying after ${k}ms delay...`),await Pa(k),k*=2;const I=await A.text();A.ok?h(null,I):h(new Error(`${A.status} ${A.statusText}: ${I}`))}catch(w){w instanceof Error&&h(w)}},{})}function YR(e){return(t,r)=>new Promise((n,i)=>{e.request(t,r,(s,o)=>{if(s){i(s);return}n(o)})})}function XR(e){return t=>new Promise((r,n)=>{t.length===0&&r([]);const i=t.map(s=>e.request(s.methodName,s.args));e.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const JR=xt(PR),QR=xt(DR),e5=xt(HR),t5=xt(zR),r5=xt(jR),n5=xt(qR),i5=xt(te()),s5=Br(be({total:te(),circulating:te(),nonCirculating:te(),nonCirculatingAccounts:$e(Hr)})),M0=be({amount:Ae(),uiAmount:ke(te()),decimals:te(),uiAmountString:tt(Ae())}),o5=Br($e(be({address:Hr,amount:Ae(),uiAmount:ke(te()),decimals:te(),uiAmountString:tt(Ae())}))),a5=Br($e(be({pubkey:Hr,account:be({executable:Vi(),owner:Hr,lamports:te(),data:O0,rentEpoch:te()})}))),N0=be({program:Ae(),parsed:eu(),space:te()}),c5=Br($e(be({pubkey:Hr,account:be({executable:Vi(),owner:Hr,lamports:te(),data:N0,rentEpoch:te()})}))),u5=Br($e(be({lamports:te(),address:Hr}))),uu=be({executable:Vi(),owner:Hr,lamports:te(),data:O0,rentEpoch:te()}),f5=be({pubkey:Hr,account:uu}),l5=tu(Un([_0(se.Buffer),N0]),Un([Vm,N0]),e=>Array.isArray(e)?Te(e,O0):e),P0=be({executable:Vi(),owner:Hr,lamports:te(),data:l5,rentEpoch:te()}),h5=be({pubkey:Hr,account:P0}),d5=be({state:Un([_r("active"),_r("inactive"),_r("activating"),_r("deactivating")]),active:te(),inactive:te()}),p5=xt($e(be({signature:Ae(),slot:te(),err:jo,memo:ke(Ae()),blockTime:tt(ke(te()))}))),g5=xt($e(be({signature:Ae(),slot:te(),err:jo,memo:ke(Ae()),blockTime:tt(ke(te()))}))),y5=be({subscription:te(),result:ll(uu)}),w5=be({pubkey:Hr,account:uu}),m5=be({subscription:te(),result:ll(w5)}),b5=be({parent:te(),slot:te(),root:te()}),_5=be({subscription:te(),result:b5}),v5=Un([be({type:Un([_r("firstShredReceived"),_r("completed"),_r("optimisticConfirmation"),_r("root")]),slot:te(),timestamp:te()}),be({type:_r("createdBank"),parent:te(),slot:te(),timestamp:te()}),be({type:_r("frozen"),slot:te(),timestamp:te(),stats:be({numTransactionEntries:te(),numSuccessfulTransactions:te(),numFailedTransactions:te(),maxTransactionsPerEntry:te()})}),be({type:_r("dead"),slot:te(),timestamp:te(),err:Ae()})]),x5=be({subscription:te(),result:v5}),E5=be({subscription:te(),result:ll(Un([VR,KR]))}),S5=be({subscription:te(),result:te()}),A5=be({pubkey:Ae(),gossip:ke(Ae()),tpu:ke(Ae()),rpc:ke(Ae()),version:ke(Ae())}),Gm=be({votePubkey:Ae(),nodePubkey:Ae(),activatedStake:te(),epochVoteAccount:Vi(),epochCredits:$e(v0([te(),te(),te()])),commission:te(),lastVote:te(),rootSlot:ke(te())}),B5=xt(be({current:$e(Gm),delinquent:$e(Gm)})),T5=Un([_r("processed"),_r("confirmed"),_r("finalized")]),I5=be({slot:te(),confirmations:ke(te()),err:jo,confirmationStatus:tt(T5)}),R5=Br($e(ke(I5))),k5=xt(te()),Zm=be({accountKey:Hr,writableIndexes:$e(te()),readonlyIndexes:$e(te())}),F0=be({signatures:$e(Ae()),message:be({accountKeys:$e(Ae()),header:be({numRequiredSignatures:te(),numReadonlySignedAccounts:te(),numReadonlyUnsignedAccounts:te()}),instructions:$e(be({accounts:$e(te()),data:Ae(),programIdIndex:te()})),recentBlockhash:Ae(),addressTableLookups:tt($e(Zm))})}),Ym=be({pubkey:Hr,signer:Vi(),writable:Vi(),source:tt(Un([_r("transaction"),_r("lookupTable")]))}),Xm=be({accountKeys:$e(Ym),signatures:$e(Ae())}),Jm=be({parsed:eu(),program:Ae(),programId:Hr}),Qm=be({accounts:$e(Hr),data:Ae(),programId:Hr}),C5=Un([Qm,Jm]),$5=Un([be({parsed:eu(),program:Ae(),programId:Ae()}),be({accounts:$e(Ae()),data:Ae(),programId:Ae()})]),eb=tu(C5,$5,e=>"accounts"in e?Te(e,Qm):Te(e,Jm)),tb=be({signatures:$e(Ae()),message:be({accountKeys:$e(Ym),instructions:$e(eb),recentBlockhash:Ae(),addressTableLookups:tt(ke($e(Zm)))})}),hl=be({accountIndex:te(),mint:Ae(),owner:tt(Ae()),uiTokenAmount:M0}),rb=be({writable:$e(Hr),readonly:$e(Hr)}),dl=be({err:jo,fee:te(),innerInstructions:tt(ke($e(be({index:te(),instructions:$e(be({accounts:$e(te()),data:Ae(),programIdIndex:te()}))})))),preBalances:$e(te()),postBalances:$e(te()),logMessages:tt(ke($e(Ae()))),preTokenBalances:tt(ke($e(hl))),postTokenBalances:tt(ke($e(hl))),loadedAddresses:tt(rb),computeUnitsConsumed:tt(te())}),H0=be({err:jo,fee:te(),innerInstructions:tt(ke($e(be({index:te(),instructions:$e(eb)})))),preBalances:$e(te()),postBalances:$e(te()),logMessages:tt(ke($e(Ae()))),preTokenBalances:tt(ke($e(hl))),postTokenBalances:tt(ke($e(hl))),loadedAddresses:tt(rb),computeUnitsConsumed:tt(te())}),Ha=Un([_r(0),_r("legacy")]),qo=be({pubkey:Ae(),lamports:te(),postBalance:ke(te()),rewardType:ke(Ae()),commission:tt(ke(te()))}),L5=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),transactions:$e(be({transaction:F0,meta:ke(dl),version:tt(Ha)})),rewards:tt($e(qo)),blockTime:ke(te()),blockHeight:ke(te())}))),O5=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),rewards:tt($e(qo)),blockTime:ke(te()),blockHeight:ke(te())}))),U5=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),transactions:$e(be({transaction:Xm,meta:ke(dl),version:tt(Ha)})),rewards:tt($e(qo)),blockTime:ke(te()),blockHeight:ke(te())}))),M5=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),transactions:$e(be({transaction:tb,meta:ke(H0),version:tt(Ha)})),rewards:tt($e(qo)),blockTime:ke(te()),blockHeight:ke(te())}))),N5=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),transactions:$e(be({transaction:Xm,meta:ke(H0),version:tt(Ha)})),rewards:tt($e(qo)),blockTime:ke(te()),blockHeight:ke(te())}))),P5=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),rewards:tt($e(qo)),blockTime:ke(te()),blockHeight:ke(te())}))),F5=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),transactions:$e(be({transaction:F0,meta:ke(dl)})),rewards:tt($e(qo)),blockTime:ke(te())}))),nb=xt(ke(be({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:te(),signatures:$e(Ae()),blockTime:ke(te())}))),D0=xt(ke(be({slot:te(),meta:ke(dl),blockTime:tt(ke(te())),transaction:F0,version:tt(Ha)}))),pl=xt(ke(be({slot:te(),transaction:tb,meta:ke(H0),blockTime:tt(ke(te())),version:tt(Ha)}))),H5=Br(be({blockhash:Ae(),feeCalculator:be({lamportsPerSignature:te()})})),D5=Br(be({blockhash:Ae(),lastValidBlockHeight:te()})),z5=Br(Vi()),j5=be({slot:te(),numTransactions:te(),numSlots:te(),samplePeriodSecs:te()}),q5=xt($e(j5)),V5=Br(ke(be({feeCalculator:be({lamportsPerSignature:te()})}))),K5=xt(Ae()),W5=xt(Ae()),G5=be({err:jo,logs:$e(Ae()),signature:Ae()}),Z5=be({result:ll(G5),subscription:te()}),Y5={"solana-client":"js/0.0.0-development"};class X5{constructor(t,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:h,config:_}=dr(l),w=this._buildArgs([],h,void 0,_),A=Dm(w);return u[A]=u[A]??(async()=>{try{const k=await this._rpcRequest("getBlockHeight",w),I=Te(k,xt(te()));if("error"in I)throw new je(I.error,"failed to get block height information");return I.result}finally{delete u[A]}})(),await u[A]}})();let n,i,s,o,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=MR(t),this._rpcWsEndpoint=n||OR(t),this._rpcClient=ZR(t,i,s,o,a,c),this._rpcRequest=YR(this._rpcClient),this._rpcBatchRequest=XR(this._rpcClient),this._rpcWebSocket=new kR(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgs([t.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Te(o,Br(te()));if("error"in a)throw new je(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,r){return await this.getBalanceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const r=await this._rpcRequest("getBlockTime",[t]),n=Te(r,xt(ke(te())));if("error"in n)throw new je(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),r=Te(t,xt(te()));if("error"in r)throw new je(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),r=Te(t,i5);if("error"in r)throw new je(r.error,"failed to get first available block");return r.result}async getSupply(t){let r={};typeof t=="string"?r={commitment:t}:t?r={...t,commitment:t&&t.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Te(n,s5);if("error"in i)throw new je(i.error,"failed to get supply");return i.result}async getTokenSupply(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Te(i,Br(M0));if("error"in s)throw new je(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Te(i,Br(M0));if("error"in s)throw new je(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(t,r,n){const{commitment:i,config:s}=dr(n);let o=[t.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Te(c,a5);if("error"in u)throw new je(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,r,n){let i=[t.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Te(o,c5);if("error"in a)throw new je(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const r={...t,commitment:t&&t.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Te(i,u5);if("error"in s)throw new je(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Te(i,o5);if("error"in s)throw new je(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgs([t.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Te(o,Br(ke(uu)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Te(o,Br(ke(P0)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,r){try{return(await this.getAccountInfoAndContext(t,r)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,r){const{commitment:n,config:i}=dr(r),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Te(a,Br($e(ke(P0))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(t,r){const{commitment:n,config:i}=dr(r),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Te(a,Br($e(ke(uu))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(t,r){return(await this.getMultipleAccountsInfoAndContext(t,r)).value}async getStakeActivation(t,r,n){const{commitment:i,config:s}=dr(r),o=this._buildArgs([t.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=Te(a,xt(d5));if("error"in c)throw new je(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,r){const{commitment:n,config:i}=dr(r),{encoding:s,...o}=i||{},a=this._buildArgs([t.toBase58()],n,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=$e(f5),l=o.withContext===!0?Te(c,Br(u)):Te(c,xt(u));if("error"in l)throw new je(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Te(o,xt($e(h5)));if("error"in a)throw new je(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,r){let n;if(typeof t=="string")n=t;else{const s=t;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=Fr.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return hr(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((r,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:r}){let n,i,s=!1;const o=new Promise((c,u)=>{try{n=this.onSignature(r,(h,_)=>{n=void 0;const w={context:_,value:h};c({__type:Vs.PROCESSED,response:w})},t);const l=new Promise(h=>{n==null?h():i=this._onSubscriptionStateChange(n,_=>{_==="subscribed"&&h()})});(async()=>{if(await l,s)return;const h=await this.getSignatureStatus(r);if(s||h==null)return;const{context:_,value:w}=h;if(w!=null)if(w?.err)u(w.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(w.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(w.confirmationStatus==="processed"||w.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Vs.PROCESSED,response:{context:_,value:w}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(h=>{const _=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let w=await _();if(!s){for(;w<=n;)if(await Pa(1e3),s||(w=await _(),s))return;h({__type:Vs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(r);let l;try{const h=await Promise.race([u,c,o]);if(h.__type===Vs.PROCESSED)l=h.response;else throw new Um(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(w=>{let A=s,k=null;const I=async()=>{try{const{context:H,value:P}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return k=H.slot,P?.nonce}catch{return A}};(async()=>{if(A=await I(),!a)for(;;){if(s!==A){w({__type:Vs.NONCE_INVALID,slotInWhichNonceDidAdvance:k});return}if(await Pa(2e3),a||(A=await I(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),h=this.getCancellationPromise(r);let _;try{const w=await Promise.race([h,l,c]);if(w.__type===Vs.PROCESSED)_=w.response;else{let A;for(;;){const k=await this.getSignatureStatus(o);if(k==null)break;if(k.context.slot<(w.slotInWhichNonceDidAdvance??n)){await Pa(400);continue}A=k;break}if(A?.value){const k=t||"finalized",{confirmationStatus:I}=A.value;switch(k){case"processed":case"recent":if(I!=="processed"&&I!=="confirmed"&&I!=="finalized")throw new iu(o);break;case"confirmed":case"single":case"singleGossip":if(I!=="confirmed"&&I!=="finalized")throw new iu(o);break;case"finalized":case"max":case"root":if(I!=="finalized")throw new iu(o);break;default:(H=>{})(k)}_={context:A.context,value:{err:A.value.err}}}else throw new iu(o)}}finally{a=!0,u()}return _}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:r}){let n;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Vs.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:r});let a;try{const c=await Promise.race([o,i]);if(c.__type===Vs.PROCESSED)a=c.response;else throw new Mm(r,c.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),r=Te(t,xt($e(A5)));if("error"in r)throw new je(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",r),i=Te(n,B5);if("error"in i)throw new je(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:r,config:n}=dr(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Te(s,xt(te()));if("error"in o)throw new je(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:r,config:n}=dr(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Te(s,xt(Ae()));if("error"in o)throw new je(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,r){const n=[t,r],i=await this._rpcRequest("getSlotLeaders",n),s=Te(i,xt($e(Hr)));if("error"in s)throw new je(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(t,r){const{context:n,value:i}=await this.getSignatureStatuses([t],r);hr(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(t,r){const n=[t];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Te(i,R5);if("error"in s)throw new je(s.error,"failed to get signature status");return s.result}async getTransactionCount(t){const{commitment:r,config:n}=dr(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Te(s,xt(te()));if("error"in o)throw new je(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",r),i=Te(n,JR);if("error"in i)throw new je(i.error,"failed to get inflation");return i.result}async getInflationReward(t,r,n){const{commitment:i,config:s}=dr(n),o=this._buildArgs([t.map(u=>u.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=Te(a,FR);if("error"in c)throw new je(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),r=Te(t,QR);if("error"in r)throw new je(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(t){const{commitment:r,config:n}=dr(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Te(s,t5);if("error"in o)throw new je(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),r=Te(t,r5);if("error"in r)throw new je(r.error,"failed to get epoch schedule");const n=r.result;return new IR(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),r=Te(t,n5);if("error"in r)throw new je(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Te(i,k5);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",r),i=Te(n,H5);if("error"in i)throw new je(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const r=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=Te(r,q5);if("error"in n)throw new je(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Te(i,V5);if("error"in s)throw new je(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,r){const n=Ua(t.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Te(s,Br(ke(te())));if("error"in o)throw new je(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){const r=t?.lockedWritableAccounts?.map(o=>o.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Te(i,e5);if("error"in s)throw new je(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(t){const{commitment:r,config:n}=dr(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Te(s,D5);if("error"in o)throw new je(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgs([t],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Te(o,z5);if("error"in a)throw new je(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),r=Te(t,xt(WR));if("error"in r)throw new je(r.error,"failed to get version");return r.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),r=Te(t,xt(Ae()));if("error"in r)throw new je(r.error,"failed to get genesis hash");return r.result}async getBlock(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Te(o,U5);if("error"in a)throw a.error;return a.result}case"none":{const a=Te(o,O5);if("error"in a)throw a.error;return a.result}default:{const a=Te(o,L5);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:h})=>({meta:l,transaction:{...u,message:U0(h,u.message)},version:h}))}:null}}}catch(a){throw new je(a,"failed to get confirmed block")}}async getParsedBlock(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Te(o,N5);if("error"in a)throw a.error;return a.result}case"none":{const a=Te(o,P5);if("error"in a)throw a.error;return a.result}default:{const a=Te(o,M5);if("error"in a)throw a.error;return a.result}}}catch(a){throw new je(a,"failed to get block")}}async getBlockProduction(t){let r,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...c}=t;n=a,r=c}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Te(s,GR);if("error"in o)throw new je(o.error,"failed to get block production information");return o.result}async getTransaction(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Te(o,D0);if("error"in a)throw new je(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:U0(c.version,c.transaction.message)}}}async getParsedTransaction(t,r){const{commitment:n,config:i}=dr(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Te(o,pl);if("error"in a)throw new je(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,r){const{commitment:n,config:i}=dr(r),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Te(c,pl);if("error"in u)throw new je(u.error,"failed to get transactions");return u.result})}async getTransactions(t,r){const{commitment:n,config:i}=dr(r),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Te(c,D0);if("error"in u)throw new je(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:U0(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedBlock",n),s=Te(i,F5);if("error"in s)throw new je(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new ps(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Ks.populate(c.message,c.signatures)}))}}async getBlocks(t,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[t,r]:[t],n),s=await this._rpcRequest("getBlocks",i),o=Te(s,xt($e(te())));if("error"in o)throw new je(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Te(i,nb);if("error"in s)throw new je(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=Te(i,nb);if("error"in s)throw new je(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=Te(i,D0);if("error"in s)throw new je(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ps(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Ks.populate(a,c)}}async getParsedConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=Te(i,pl);if("error"in s)throw new je(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(t,r){const n=t.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Te(o,pl);if("error"in a)throw new je(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Te(s,p5);if("error"in o)throw new je(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Te(s,g5);if("error"in o)throw new je(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=new qm({key:t,state:qm.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=$0.fromAccountData(i.data)),{context:n,value:s}}async getNonce(t,r){return await this.getNonceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,r){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),r]),i=Te(n,K5);if("error"in i)throw new je(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Pa(100);const n=Date.now()-this._blockhashInfo.lastFetch>=UR;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Pa(_R/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:r,config:n}=dr(t),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Te(s,Br(te()));if("error"in o)throw new je(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,r,n){if("message"in t){const k=t.serialize(),I=se.Buffer.from(k).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const H=r||{};H.encoding="base64","commitment"in H||(H.commitment=this.commitment);const P=[I,H],C=await this._rpcRequest("simulateTransaction",P),$=Te(C,Wm);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let i;if(t instanceof Ks){let A=t;i=new Ks,i.feePayer=A.feePayer,i.instructions=t.instructions,i.nonceInfo=A.nonceInfo,i.signatures=A.signatures}else i=Ks.populate(t),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let A=this._disableBlockhashCaching;for(;;){const k=await this._blockhashWithExpiryBlockHeight(A);if(i.lastValidBlockHeight=k.lastValidBlockHeight,i.recentBlockhash=k.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const I=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(I)&&!this._blockhashInfo.transactionSignatures.includes(I)){this._blockhashInfo.simulatedSignatures.push(I);break}else A=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const A=(Array.isArray(n)?n:o.nonProgramIds()).map(k=>k.toBase58());l.accounts={encoding:"base64",addresses:A}}s&&(l.sigVerify=!0);const h=[u,l],_=await this._rpcRequest("simulateTransaction",h),w=Te(_,Wm);if("error"in w){let A;if("data"in w.error&&(A=w.error.data.logs,A&&Array.isArray(A))){const k=`
    `,I=k+A.join(k);console.error(w.error.message,I)}throw new zm("failed to simulate transaction: "+w.error.message,A)}return w.result}async sendTransaction(t,r,n){if("version"in t){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(t.nonceInfo)t.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=t.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(t,r){const n=Ua(t).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(t,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[t,n],a=await this._rpcRequest("sendTransaction",o),c=Te(a,W5);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new zm("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(t,r){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=r,n!==r.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(t,r){const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,r=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,r){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){const{result:r,subscription:n}=Te(t,y5);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(t,r){const n=this._nextClientSubscriptionId++,i=Dm([t.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...t,args:r,callbacks:new Set([t.callback]),state:"pending"}:s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];hr(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,r,n){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:r,subscription:n}=Te(t,m5);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(t,r,n,i){const s=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,r,n){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:r,subscription:n}=Te(t,Z5);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(t){const{result:r,subscription:n}=Te(t,_5);this._handleServerNotification(n,[r])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:r,subscription:n}=Te(t,x5);this._handleServerNotification(n,[r])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${r}' events could not be found.`)}_buildArgs(t,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,r,n,i)}_wsOnSignatureNotification(t){const{result:r,subscription:n}=Te(t,E5);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(t,r,n){const i=this._buildArgs([t],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(t,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{r(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:r,subscription:n}=Te(t,S5);this._handleServerNotification(n,[r])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:He([Ke("instruction"),Fa("recentSlot"),zt("bumpSeed")])},FreezeLookupTable:{index:1,layout:He([Ke("instruction")])},ExtendLookupTable:{index:2,layout:He([Ke("instruction"),Fa(),gn(It(),Ho(Ke(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:He([Ke("instruction")])},CloseLookupTable:{index:4,layout:He([Ke("instruction")])}}),new rt("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:He([zt("instruction"),Ke("units"),Ke("additionalFee")])},RequestHeapFrame:{index:1,layout:He([zt("instruction"),Ke("bytes")])},SetComputeUnitLimit:{index:2,layout:He([zt("instruction"),Ke("units")])},SetComputeUnitPrice:{index:3,layout:He([zt("instruction"),Fa("microLamports")])}}),new rt("ComputeBudget111111111111111111111111111111"),He([zt("numSignatures"),zt("padding"),ai("signatureOffset"),ai("signatureInstructionIndex"),ai("publicKeyOffset"),ai("publicKeyInstructionIndex"),ai("messageDataOffset"),ai("messageDataSize"),ai("messageInstructionIndex")]),new rt("Ed25519SigVerify111111111111111111111111111"),k0.utils.isValidPrivateKey,k0.getPublicKey,He([zt("numSignatures"),ai("signatureOffset"),zt("signatureInstructionIndex"),ai("ethAddressOffset"),zt("ethAddressInstructionIndex"),ai("messageDataOffset"),ai("messageDataSize"),zt("messageInstructionIndex"),fr(20,"ethAddress"),fr(64,"signature"),zt("recoveryId")]),new rt("KeccakSecp256k11111111111111111111111111111");var ib;new rt("StakeConfig11111111111111111111111111111111");class sb{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}}ib=sb,sb.default=new ib(0,0,rt.default),Object.freeze({Initialize:{index:0,layout:He([Ke("instruction"),gR(),yR()])},Authorize:{index:1,layout:He([Ke("instruction"),It("newAuthorized"),Ke("stakeAuthorizationType")])},Delegate:{index:2,layout:He([Ke("instruction")])},Split:{index:3,layout:He([Ke("instruction"),Wn("lamports")])},Withdraw:{index:4,layout:He([Ke("instruction"),Wn("lamports")])},Deactivate:{index:5,layout:He([Ke("instruction")])},Merge:{index:7,layout:He([Ke("instruction")])},AuthorizeWithSeed:{index:8,layout:He([Ke("instruction"),It("newAuthorized"),Ke("stakeAuthorizationType"),Na("authoritySeed"),It("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new rt("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:He([Ke("instruction"),wR()])},Authorize:{index:1,layout:He([Ke("instruction"),It("newAuthorized"),Ke("voteAuthorizationType")])},Withdraw:{index:3,layout:He([Ke("instruction"),Wn("lamports")])},UpdateValidatorIdentity:{index:4,layout:He([Ke("instruction")])},AuthorizeWithSeed:{index:10,layout:He([Ke("instruction"),mR()])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new rt("Vote111111111111111111111111111111111111111"),new rt("Va1idator1nfo111111111111111111111111111111"),be({name:Ae(),website:tt(Ae()),details:tt(Ae()),keybaseUsername:tt(Ae())}),new rt("Vote111111111111111111111111111111111111111"),He([It("nodePubkey"),It("authorizedWithdrawer"),zt("commission"),cn(),gn(He([cn("slot"),Ke("confirmationCount")]),Ho(Ke(),-8),"votes"),zt("rootSlotValid"),cn("rootSlot"),cn(),gn(He([cn("epoch"),It("authorizedVoter")]),Ho(Ke(),-8),"authorizedVoters"),He([gn(He([It("authorizedPubkey"),cn("epochOfLastAuthorizedSwitch"),cn("targetEpoch")]),32,"buf"),cn("idx"),zt("isEmpty")],"priorVoters"),cn(),gn(He([cn("epoch"),cn("credits"),cn("prevCredits")]),Ho(Ke(),-8),"epochCredits"),He([cn("slot"),cn("timestamp")],"lastTimestamp")]);const ob="solana:signAndSendTransaction",J5="solana:signIn",ab="solana:signMessage",cb="solana:signTransaction",Q5="standard:connect",e4="standard:disconnect",t4="standard:events";var ub=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},r4=(e,t,r)=>(ub(e,t,"read from private field"),r?r.call(e):t.get(e)),n4=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},i4=(e,t,r,n)=>(ub(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),gl;function s4(e){const t=({register:r})=>r(e);try{window.dispatchEvent(new o4(t))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>t(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class o4 extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),n4(this,gl,void 0),i4(this,gl,t)}get detail(){return r4(this,gl)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}gl=new WeakMap;const a4="solana:mainnet",c4="solana:devnet",u4="solana:testnet",f4="solana:localnet",z0=[a4,c4,u4,f4];function j0(e){return z0.includes(e)}function yl(e){return"version"in e}var fb=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Da=(e,t,r)=>(fb(e,t,"read from private field"),r?r.call(e):t.get(e)),za=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ja=(e,t,r,n)=>(fb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),wl,ml,bl,_l,vl,xl;const l4=z0,h4=[ob,cb,ab],lb=class{constructor({address:e,publicKey:t,label:r,icon:n}){za(this,wl,void 0),za(this,ml,void 0),za(this,bl,void 0),za(this,_l,void 0),za(this,vl,void 0),za(this,xl,void 0),new.target===lb&&Object.freeze(this),ja(this,wl,e),ja(this,ml,t),ja(this,bl,l4),ja(this,_l,h4),ja(this,vl,r),ja(this,xl,n)}get address(){return Da(this,wl)}get publicKey(){return Da(this,ml).slice()}get chains(){return Da(this,bl).slice()}get features(){return Da(this,_l).slice()}get label(){return Da(this,vl)}get icon(){return Da(this,xl)}};let d4=lb;wl=new WeakMap,ml=new WeakMap,bl=new WeakMap,_l=new WeakMap,vl=new WeakMap,xl=new WeakMap;const p4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAAEH5aXCAAAIpklEQVR4nO2d/7WiOhDHv3PPKwA6wA6wgsUKVjvADtwKnlagHWAH3leBbgWwFehWAB3k/SHxIiYhCRDQ6+ecnOMPwmSYZJIMIQAlTI8YAIhngAFkmgEAPmR/nE4nea56oQEw/nOSJExwCBNegPqBnufdfZfqRETgf1U/C3VaLBa82CAioUoPkupn5Rmrv/0juDB3EkQSre20NM1kXI2oouRBp7YCFvpI65xWhul0evucZZk4h6xy8u95nt/p8WBI4KsGcCMq61i1MgLAarWS61DP5Ps+PM+7l66qkFaVMQzDu/+FSqtsaWw48wpYZggBpKbStAQQ0Qdj7NCXAOCqsVUrN0VpECLCdDrFZrMBEQmTDkpN6icRHSqqrHUaqxZviPyEMsEqrbTrr0rYer1W5m0UIip5VZjv+1olVJKm6c3xeZ7H0jRlx+Px9ls1SZ17kxBdwjCU/ueknViNp6yElII8AHlH570Q0eROSI+aFETku7DJZHgH+RpCZA5POYCXIXUFFVcBgQsBwIIg0PIGjUJ4iuNY+n9nQkRw51mfjdRRzk7Ky6ns/XzfR1EU7QddTNH75fnVE0kHy+UJlJer6Tf+exRF0stl1E5UGqmQCqmPr9sIkgrh15rPONsIarxcn5+fwlZuIkgphJ9oNpuBiLDZbAAAv379MrOLshWVrNdroVs5n89atauz0YpKyLvTMhay61MA8YgFYywFEDYcb8OEiC53lZ11O8Drmx0R/eJf+NV6JgXqZEQ0pSdX4oYTn+ICJy7FBVaKVOOSo8Gm/0PZ8Ypm7dvtVjr+50nVf9pi1UZMh45N5HkuHUXq0nkbYWX0qCltt9tbHt/3218cGzOiNvGCoProcjgchONEU1pXrWp20VXVOX1RFHdxP4sidVu1WCUoydEJGnuehyAIbt/5lMGEXvoRG4XiOL59tgmntFZENWW3tZANVookSXL7rNM5yhTSiodrYqVIHMd3VYGI1MGUkrpCRVF0p5CVryvJ8/zB7api9Kp81WTT8wtvQuried5DtCPLMqM2wO+K6lhURWdei1V67fP5jPl8/nCM53lYr9d3x6ZpijRNwRh7uNVrWoDRsV6vjfO81MTqMnQhusDJfTgH7Kv3+nIA7SYFwzAhosvNaxGRXwbTJopMY2FPX1ykRzHGYsbYuUNH1BUHdg1fPVCPNG4BrEQHjhCfiAr+5dnbyJSIMuDLa/UVYHaBT0QFMcYCAOehS9MGIqJX6dmdrLRwweerKPLNg9hj5PsqMpvNUBRF84GOsZqz+76vFUGvBtqiKLIRpY/pqC2Kolu0o76GPM9zFgRB4/2RJElajRxFtFKkqozneY0K1NPxeOxMkdaNnd/bsGk3s9mss9t4vXgtHt4RpXpbybKsG2XaVq1qWq1W2uep560vBzSllSKidmHSkOv5687DhFZVKwzDu8g8ACyXS+z3e638fIUbp1Uw21TzqkV4sJk/bwYLy9QD2rZW6UQRxtopU80zn89Ni3Q9h2kGmSKM2StTv7NrQ6eKMGavzOgUYcxOmVEqwpi5Ms4VWa1W2rfITJRxrki9cKbHy5RxroiNUJEyaZq2OudDmawyWYyRmpQZRJE4jq0Eq5QZRJG64C6UGUyR+pK/podiqoiUaauI9eh3tVrd3RfnyzF0Vvb8/fvXVqwcK/UrhGEovKrz+fxuTn44HKTH1pMNnSwYqHaSpkn0YOtginBMIilVt12fk9jQyxKO7XYrjG9FUfTQEXKqytgwqtsKfJGmTZFGFcT2PO9hHq/LqCzShlFZpA1vRUbG5VXayPIDwH7oUrSFiPYfRGS8fdLI2AFfa1ECPOcyjoKIfKBs7OXirWdYcFYl40oAFa9FRJdyBd1+iFIZMiGiu7tDjUumy2r3L4C4nzJ9G/YANsqli5AYpDTCAc+7Fm3sZAAWIuPUl2YGuG4i9mwrG5+VAtdVmRf+w833sus62TPexnCJB+BcXnsAX8OTBO8+Ymj2RLQkdt1SNhm6NG8AAEtijJ0BBEOX5A2AF5qsvwyvEgZ6Gd4GGRlODLLZbEa5+HyMODHI6XSC7/uYTqdvwzTg1GVlWWZtmCzLsNvtsFgsbkvXVWkymWCxWGC/3+NyufSjUB9Y3f41RLbyPAxD4dLePM8fFh11lYIg6OVJj64Y1CBVw6Rpqr06pctk8iiCC5zMQ2azmd3G0AKCIEAURfjx4weCILgl4Oshrt+/fyPLMpxOJ23XGIYhjsdj663WWuPC6k0tRJXiOLbe9azK8XjUaoEyN+qK0RukD3+fpmnjUrLDQetlPZ0zqEGiKGpcXzqkYdo+rmbD4AbhDGkY1YjOtVFGYxDOUIaR7e7eVyWQMTqDcIYwjKylmCzxb8toDcJxaRjVBouuWsnoo71xHIMx9vAUc53lcgki0n6yWYTnedJNKP78+WN9XhNGbxCOK8PIDNJ2B09dnsYgHJctZgicGERW69qEU17VME4M8vPnT+l/u127186YGqarmFpvOBk6MMbm87l0BNNFrIqjMyrj770UIZuP9PHyChHO+pAkSaSR1Mlk0tlNJJ0WUxQFptMpfN931lnr4swgnuchTeXvHp5MJp36+ac1jJN2WCHPc2VAT+VO2qDrymSu1ZXLGmxfeFWfwpPN/vBNqGJWqvTyBmGsubXUL4hN+OJ8PrPVamW1KeG3Mwgnz/NB7qeP0SCjmKnzDp8xhuPxePd6pD5lVt8Pkud5u3eCdIUTs7cgSZJOWk8QBGy9XjfOeWSt9Vu5rDFSN8y3clljhLtR167s/XzIyHi3kJHxNsjIeBtkZHwA+By6EG9ufL7My+NfBP+jfHPYs20F9IpMiKio7s/k47opyhu3ZLi+uO0CCHYDYoyFAI5473nSNwWAGX8dIOdhlEVEfGcwH+V+bW86ZYdri/DrxgA0NjDjlJ3/HMBPXPfRCroq4YtywdUd/Qfgs/qWTxX/A1qZSkCGMimqAAAAAElFTkSuQmCC";function g4(e,t){return y4(e,t)}function y4(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}var q0=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},st=(e,t,r)=>(q0(e,t,"read from private field"),r?r.call(e):t.get(e)),Jr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},V0=(e,t,r,n)=>(q0(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),K0=(e,t,r)=>(q0(e,t,"access private method"),r),Vo,W0,G0,Z0,_n,In,Y0,El,X0,J0,hb,qa,Sl,Q0,ep,tp,Al,rp,Bl,np;const w4="ONTO:",db=class{constructor(e){Jr(this,El),Jr(this,J0),Jr(this,Vo,{}),Jr(this,W0,"1.0.0"),Jr(this,G0,"ONTO"),Jr(this,Z0,p4),Jr(this,_n,null),Jr(this,In,void 0),Jr(this,Y0,(t,r)=>{var n;return(n=st(this,Vo)[t])!=null&&n.push(r)||(st(this,Vo)[t]=[r]),()=>K0(this,J0,hb).call(this,t,r)}),Jr(this,qa,()=>{var t;const r=(t=st(this,In).publicKey)==null?void 0:t.toBase58();if(r){const n=st(this,In).publicKey.toBytes(),i=st(this,_n);(!i||i.address!==r||!g4(i.publicKey,n))&&(V0(this,_n,new d4({address:r,publicKey:n})),K0(this,El,X0).call(this,"change",{accounts:this.accounts}))}}),Jr(this,Sl,()=>{st(this,_n)&&(V0(this,_n,null),K0(this,El,X0).call(this,"change",{accounts:this.accounts}))}),Jr(this,Q0,()=>{st(this,In).publicKey?st(this,qa).call(this):st(this,Sl).call(this)}),Jr(this,ep,async({silent:t}={})=>(st(this,_n)||await st(this,In).connect(t?{onlyIfTrusted:!0}:void 0),st(this,qa).call(this),{accounts:this.accounts})),Jr(this,tp,async()=>{await st(this,In).disconnect()}),Jr(this,Al,async(...t)=>{if(!st(this,_n))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:s,options:o}=t[0],{minContextSlot:a,preflightCommitment:c,skipPreflight:u,maxRetries:l}=o||{};if(i!==st(this,_n))throw new Error("invalid account");if(!j0(s))throw new Error("invalid chain");const{signature:h}=await st(this,In).signAndSendTransaction(ou.deserialize(n),{preflightCommitment:c,minContextSlot:a,maxRetries:l,skipPreflight:u});r.push({signature:Fr.decode(h)})}else if(t.length>1)for(const n of t)r.push(...await st(this,Al).call(this,n));return r}),Jr(this,rp,async(...t)=>{if(!st(this,_n))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:s}=t[0];if(i!==st(this,_n))throw new Error("invalid account");if(s&&!j0(s))throw new Error("invalid chain");const o=await st(this,In).signTransaction(ou.deserialize(n)),a=yl(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}));r.push({signedTransaction:a})}else if(t.length>1){let n;for(const o of t){if(o.account!==st(this,_n))throw new Error("invalid account");if(o.chain){if(!j0(o.chain))throw new Error("invalid chain");if(n){if(o.chain!==n)throw new Error("conflicting chain")}else n=o.chain}}const i=t.map(({transaction:o})=>ou.deserialize(o)),s=await st(this,In).signAllTransactions(i);r.push(...s.map(o=>({signedTransaction:yl(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return r}),Jr(this,Bl,async(...t)=>{if(!st(this,_n))throw new Error("not connected");const r=[];if(t.length===1){const{message:n,account:i}=t[0];if(i!==st(this,_n))throw new Error("invalid account");const{signature:s}=await st(this,In).signMessage(n);r.push({signedMessage:n,signature:s})}else if(t.length>1)for(const n of t)r.push(...await st(this,Bl).call(this,n));return r}),Jr(this,np,async(...t)=>{const r=[];if(t.length>1)for(const n of t)r.push(await st(this,In).signIn(n));else return[await st(this,In).signIn(t[0])];return r}),new.target===db&&Object.freeze(this),V0(this,In,e),e.on("connect",st(this,qa),this),e.on("disconnect",st(this,Sl),this),e.on("accountChanged",st(this,Q0),this),st(this,qa).call(this)}get version(){return st(this,W0)}get name(){return st(this,G0)}get icon(){return st(this,Z0)}get chains(){return z0.slice()}get features(){return{[Q5]:{version:"1.0.0",connect:st(this,ep)},[e4]:{version:"1.0.0",disconnect:st(this,tp)},[t4]:{version:"1.0.0",on:st(this,Y0)},[ob]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:st(this,Al)},[cb]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:st(this,rp)},[ab]:{version:"1.0.0",signMessage:st(this,Bl)},[J5]:{version:"1.0.0",signIn:st(this,np)},[w4]:{ONTO:st(this,In)}}}get accounts(){return st(this,_n)?[st(this,_n)]:[]}};let pb=db;Vo=new WeakMap,W0=new WeakMap,G0=new WeakMap,Z0=new WeakMap,_n=new WeakMap,In=new WeakMap,Y0=new WeakMap,El=new WeakSet,X0=function(e,...t){var r;(r=st(this,Vo)[e])==null||r.forEach(n=>n.apply(null,t))},J0=new WeakSet,hb=function(e,t){var r;st(this,Vo)[e]=(r=st(this,Vo)[e])==null?void 0:r.filter(n=>t!==n)},qa=new WeakMap,Sl=new WeakMap,Q0=new WeakMap,ep=new WeakMap,tp=new WeakMap,Al=new WeakMap,rp=new WeakMap,Bl=new WeakMap,np=new WeakMap;function m4(e){s4(new pb(e))}class b4{constructor(t){this.provider=t}async connect(t){const r=await this.provider.internalRequest({method:"requestAccounts",params:{options:t}});return this.provider.emit("connect"),{publicKey:new rt(r)}}async signTransaction(t){let r;yl(t)?r=Ol.bufferToHex(t.message.serialize()):r=Ol.bufferToHex(t.serializeMessage());const n=await this.provider.internalRequest({method:"signTransaction",params:{message:r}});return this.provider.mapSignedTransaction(t,n.signature)}async request(t,r){var n;switch(t.method){case"signTransaction":return this.signTransaction(t.params);case"connect":return this.connect((n=t?.params)==null?void 0:n.options)}return r()}}var ip=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Tl=(e,t,r)=>(ip(e,t,"read from private field"),r?r.call(e):t.get(e)),Il=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Rl=(e,t,r,n)=>(ip(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),kl=(e,t,r)=>(ip(e,t,"access private method"),r),Cl,$l,Va,Ka,fu;const Ll=class extends jd{constructor(e){super(),Il(this,Ka),Il(this,Cl,!1),Il(this,$l,!0),Il(this,Va,!1),this.isONTO=!0,this.isPhantom=!0,e&&(typeof e.enableAdapter<"u"&&Rl(this,$l,e.enableAdapter),typeof e.cluster<"u"&&(this.connection=new X5(e.cluster,"confirmed")),typeof e.disableMobileAdapter<"u"&&Rl(this,Cl,e.disableMobileAdapter),typeof e.isOnto<"u"&&(this.isONTO=e.isOnto)),Tl(this,$l)&&m4(this),Tl(this,Cl)||(this.mobileAdapter=new b4(this))}static bufferToHex(e){return"0x"+se.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=se.Buffer.from([]);try{typeof e=="string"?t=se.Buffer.from(e.replace("0x",""),"hex"):t=se.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}getInstanceWithAdapter(){return new pb(this)}async connect(e){const t=await kl(this,Ka,fu).call(this,{method:"connect",params:{options:e}});return this.publicKey=t.publicKey,Rl(this,Va,!0),t}async getAccount(){return(await this.connect()).publicKey.toBase58()}disconnect(){return new Promise(e=>{this.publicKey=null,this.emit("disconnect"),Rl(this,Va,!1),e()})}async signAndSendTransaction(e,t){const r=await this.signTransaction(e);return{signature:await this.connection.sendRawTransaction(r.serialize(),t)}}signTransaction(e){return kl(this,Ka,fu).call(this,{method:"signTransaction",params:e})}signAllTransactions(e){return Promise.all(e.map(t=>this.signTransaction(t)))}async signRawTransactionMulti(e){return(await kl(this,Ka,fu).call(this,{method:"signRawTransactionMulti",params:{transactions:e.map(t=>{const r=JSON.stringify(t);let n="legacy",i;yl(t)?(n=t.version,i=se.Buffer.from(t.message.serialize()).toString("base64")):i=se.Buffer.from(t.serializeMessage()).toString("base64");const s=se.Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64");return{data:r,raw:s,rawMessage:i,version:n}})}})).map((t,r)=>this.mapSignedTransaction(e[r],t))}async signMessage(e){var t;const r=Ll.bufferToHex(e),n=await kl(this,Ka,fu).call(this,{method:"signMessage",params:{data:r}});return{signature:se.Buffer.from(Ll.messageToBuffer(n).buffer),publicKey:(t=this.publicKey)==null?void 0:t.toBase58()}}signIn(e){throw new Error("Method not implemented.")}getNetwork(){return Ll.NETWORK}mapSignedTransaction(e,t){return e.addSignature(this.publicKey,Fr.decode(t)),e}request(e){throw new Error("Not implemented")}internalRequest(e){return super.request(e)}isConnected(){return Tl(this,Va)}connected(){return Tl(this,Va)}};let Ol=Ll;Cl=new WeakMap,$l=new WeakMap,Va=new WeakMap,Ka=new WeakSet,fu=function(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()},Ol.NETWORK="solana";var Wa={},Ws={},Ul={},Ml={},Nl={},gb={},Ga={},Pl={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.output=Qr.exists=Qr.hash=Qr.bytes=Qr.bool=Qr.number=void 0;function Fl(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Qr.number=Fl;function yb(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Qr.bool=yb;function _4(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function sp(e,...t){if(!_4(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Qr.bytes=sp;function wb(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fl(e.outputLen),Fl(e.blockLen)}Qr.hash=wb;function mb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Qr.exists=mb;function bb(e,t){sp(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Qr.output=bb;const v4={number:Fl,bool:yb,bytes:sp,hash:wb,exists:mb,output:bb};Qr.default=v4;var gs={},Hl={};Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.crypto=void 0,Hl.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=Hl,r=z=>new Uint8Array(z.buffer,z.byteOffset,z.byteLength);e.u8=r;const n=z=>new Uint32Array(z.buffer,z.byteOffset,Math.floor(z.byteLength/4));e.u32=n;function i(z){return z instanceof Uint8Array||z!=null&&typeof z=="object"&&z.constructor.name==="Uint8Array"}const s=z=>new DataView(z.buffer,z.byteOffset,z.byteLength);e.createView=s;const o=(z,X)=>z<<32-X|z>>>X;if(e.rotr=o,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(z,X)=>X.toString(16).padStart(2,"0"));function c(z){if(!i(z))throw new Error("Uint8Array expected");let X="";for(let re=0;re<z.length;re++)X+=a[z[re]];return X}e.bytesToHex=c;const u={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function l(z){if(z>=u._0&&z<=u._9)return z-u._0;if(z>=u._A&&z<=u._F)return z-(u._A-10);if(z>=u._a&&z<=u._f)return z-(u._a-10)}function h(z){if(typeof z!="string")throw new Error("hex string expected, got "+typeof z);const X=z.length,re=X/2;if(X%2)throw new Error("padded hex string expected, got unpadded hex of length "+X);const ee=new Uint8Array(re);for(let R=0,y=0;R<re;R++,y+=2){const f=l(z.charCodeAt(y)),d=l(z.charCodeAt(y+1));if(f===void 0||d===void 0){const b=z[y]+z[y+1];throw new Error('hex string expected, got non-hex character "'+b+'" at index '+y)}ee[R]=f*16+d}return ee}e.hexToBytes=h;const _=async()=>{};e.nextTick=_;async function w(z,X,re){let ee=Date.now();for(let R=0;R<z;R++){re(R);const y=Date.now()-ee;y>=0&&y<X||(await(0,e.nextTick)(),ee+=y)}}e.asyncLoop=w;function A(z){if(typeof z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof z}`);return new Uint8Array(new TextEncoder().encode(z))}e.utf8ToBytes=A;function k(z){if(typeof z=="string"&&(z=A(z)),!i(z))throw new Error(`expected Uint8Array, got ${typeof z}`);return z}e.toBytes=k;function I(...z){let X=0;for(let ee=0;ee<z.length;ee++){const R=z[ee];if(!i(R))throw new Error("Uint8Array expected");X+=R.length}const re=new Uint8Array(X);for(let ee=0,R=0;ee<z.length;ee++){const y=z[ee];re.set(y,R),R+=y.length}return re}e.concatBytes=I;class H{clone(){return this._cloneInto()}}e.Hash=H;const P={}.toString;function C(z,X){if(X!==void 0&&P.call(X)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(z,X)}e.checkOpts=C;function $(z){const X=ee=>z().update(k(ee)).digest(),re=z();return X.outputLen=re.outputLen,X.blockLen=re.blockLen,X.create=()=>z(),X}e.wrapConstructor=$;function q(z){const X=(ee,R)=>z(R).update(k(ee)).digest(),re=z({});return X.outputLen=re.outputLen,X.blockLen=re.blockLen,X.create=ee=>z(ee),X}e.wrapConstructorWithOpts=q;function W(z){const X=(ee,R)=>z(R).update(k(ee)).digest(),re=z({});return X.outputLen=re.outputLen,X.blockLen=re.blockLen,X.create=ee=>z(ee),X}e.wrapXOFConstructorWithOpts=W;function V(z=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(z));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=V}(gs),Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.SHA2=void 0;const op=Qr,lu=gs;function x4(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}class E4 extends lu.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,lu.createView)(this.buffer)}update(t){(0,op.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,lu.toBytes)(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,lu.createView)(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,op.exists)(this),(0,op.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;x4(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=(0,lu.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,l[h],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}Pl.SHA2=E4,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.sha224=Ga.sha256=void 0;const S4=Pl,ui=gs,A4=(e,t,r)=>e&t^~e&r,B4=(e,t,r)=>e&t^e&r^t&r,T4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zs=new Uint32Array(64);class _b extends S4.SHA2{constructor(){super(64,32,8,!1),this.A=Gs[0]|0,this.B=Gs[1]|0,this.C=Gs[2]|0,this.D=Gs[3]|0,this.E=Gs[4]|0,this.F=Gs[5]|0,this.G=Gs[6]|0,this.H=Gs[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let h=0;h<16;h++,r+=4)Zs[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){const _=Zs[h-15],w=Zs[h-2],A=(0,ui.rotr)(_,7)^(0,ui.rotr)(_,18)^_>>>3,k=(0,ui.rotr)(w,17)^(0,ui.rotr)(w,19)^w>>>10;Zs[h]=k+Zs[h-7]+A+Zs[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let h=0;h<64;h++){const _=(0,ui.rotr)(a,6)^(0,ui.rotr)(a,11)^(0,ui.rotr)(a,25),w=l+_+A4(a,c,u)+T4[h]+Zs[h]|0,k=((0,ui.rotr)(n,2)^(0,ui.rotr)(n,13)^(0,ui.rotr)(n,22))+B4(n,i,s)|0;l=u,u=c,c=a,a=o+w|0,o=s,s=i,i=n,n=w+k|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){Zs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class I4 extends _b{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Ga.sha256=(0,ui.wrapConstructor)(()=>new _b),Ga.sha224=(0,ui.wrapConstructor)(()=>new I4);var pt={},at={};Object.defineProperty(at,"__esModule",{value:!0}),at.validateObject=at.createHmacDrbg=at.bitMask=at.bitSet=at.bitGet=at.bitLen=at.utf8ToBytes=at.equalBytes=at.concatBytes=at.ensureBytes=at.numberToVarBytesBE=at.numberToBytesLE=at.numberToBytesBE=at.bytesToNumberLE=at.bytesToNumberBE=at.hexToBytes=at.hexToNumber=at.numberToHexUnpadded=at.bytesToHex=at.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vb=BigInt(0),Dl=BigInt(1),R4=BigInt(2);function Za(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}at.isBytes=Za;const k4=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ap(e){if(!Za(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=k4[e[r]];return t}at.bytesToHex=ap;function xb(e){const t=e.toString(16);return t.length&1?`0${t}`:t}at.numberToHexUnpadded=xb;function cp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}at.hexToNumber=cp;const ys={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Eb(e){if(e>=ys._0&&e<=ys._9)return e-ys._0;if(e>=ys._A&&e<=ys._F)return e-(ys._A-10);if(e>=ys._a&&e<=ys._f)return e-(ys._a-10)}function zl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=Eb(e.charCodeAt(s)),a=Eb(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}at.hexToBytes=zl;function C4(e){return cp(ap(e))}at.bytesToNumberBE=C4;function $4(e){if(!Za(e))throw new Error("Uint8Array expected");return cp(ap(Uint8Array.from(e).reverse()))}at.bytesToNumberLE=$4;function Sb(e,t){return zl(e.toString(16).padStart(t*2,"0"))}at.numberToBytesBE=Sb;function L4(e,t){return Sb(e,t).reverse()}at.numberToBytesLE=L4;function O4(e){return zl(xb(e))}at.numberToVarBytesBE=O4;function U4(e,t,r){let n;if(typeof t=="string")try{n=zl(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(Za(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}at.ensureBytes=U4;function Ab(...e){let t=0;for(let i=0;i<e.length;i++){const s=e[i];if(!Za(s))throw new Error("Uint8Array expected");t+=s.length}let r=new Uint8Array(t),n=0;for(let i=0;i<e.length;i++){const s=e[i];r.set(s,n),n+=s.length}return r}at.concatBytes=Ab;function M4(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}at.equalBytes=M4;function N4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}at.utf8ToBytes=N4;function P4(e){let t;for(t=0;e>vb;e>>=Dl,t+=1);return t}at.bitLen=P4;function F4(e,t){return e>>BigInt(t)&Dl}at.bitGet=F4;const H4=(e,t,r)=>e|(r?Dl:vb)<<BigInt(t);at.bitSet=H4;const D4=e=>(R4<<BigInt(e-1))-Dl;at.bitMask=D4;const up=e=>new Uint8Array(e),Bb=e=>Uint8Array.from(e);function z4(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=up(e),i=up(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),c=(h=up())=>{i=a(Bb([0]),h),n=a(),h.length!==0&&(i=a(Bb([1]),h),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const _=[];for(;h<t;){n=a();const w=n.slice();_.push(w),h+=n.length}return Ab(..._)};return(h,_)=>{o(),c(h);let w;for(;!(w=_(u()));)c();return o(),w}}at.createHmacDrbg=z4;const j4={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Za(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function q4(e,t,r={}){const n=(i,s,o)=>{const a=j4[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}at.validateObject=q4,Object.defineProperty(pt,"__esModule",{value:!0}),pt.mapHashToField=pt.getMinHashLength=pt.getFieldBytesLength=pt.hashToPrivateScalar=pt.FpSqrtEven=pt.FpSqrtOdd=pt.Field=pt.nLength=pt.FpIsSquare=pt.FpDiv=pt.FpInvertBatch=pt.FpPow=pt.validateField=pt.isNegativeLE=pt.FpSqrt=pt.tonelliShanks=pt.invert=pt.pow2=pt.pow=pt.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xn=at,en=BigInt(0),ir=BigInt(1),Ys=BigInt(2),V4=BigInt(3),fp=BigInt(4),Tb=BigInt(5),Ib=BigInt(8);BigInt(9),BigInt(16);function Jn(e,t){const r=e%t;return r>=en?r:t+r}pt.mod=Jn;function Rb(e,t,r){if(r<=en||t<en)throw new Error("Expected power/modulo > 0");if(r===ir)return en;let n=ir;for(;t>en;)t&ir&&(n=n*e%r),e=e*e%r,t>>=ir;return n}pt.pow=Rb;function K4(e,t,r){let n=e;for(;t-- >en;)n*=n,n%=r;return n}pt.pow2=K4;function jl(e,t){if(e===en||t<=en)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Jn(e,t),n=t,i=en,s=ir;for(;r!==en;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==ir)throw new Error("invert: does not exist");return Jn(i,t)}pt.invert=jl;function kb(e){const t=(e-ir)/Ys;let r,n,i;for(r=e-ir,n=0;r%Ys===en;r/=Ys,n++);for(i=Ys;i<e&&Rb(i,t,e)!==e-ir;i++);if(n===1){const o=(e+ir)/fp;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+ir)/Ys;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),h=a.pow(c,s),_=a.pow(c,r);for(;!a.eql(_,a.ONE);){if(a.eql(_,a.ZERO))return a.ZERO;let w=1;for(let k=a.sqr(_);w<u&&!a.eql(k,a.ONE);w++)k=a.sqr(k);const A=a.pow(l,ir<<BigInt(u-w-1));l=a.sqr(A),h=a.mul(h,A),_=a.mul(_,l),u=w}return h}}pt.tonelliShanks=kb;function Cb(e){if(e%fp===V4){const t=(e+ir)/fp;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%Ib===Tb){const t=(e-Tb)/Ib;return function(n,i){const s=n.mul(i,Ys),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,Ys),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return kb(e)}pt.FpSqrt=Cb;const W4=(e,t)=>(Jn(e,t)&ir)===ir;pt.isNegativeLE=W4;const G4=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Z4(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=G4.reduce((n,i)=>(n[i]="function",n),t);return(0,Xn.validateObject)(e,r)}pt.validateField=Z4;function $b(e,t,r){if(r<en)throw new Error("Expected power > 0");if(r===en)return e.ONE;if(r===ir)return t;let n=e.ONE,i=t;for(;r>en;)r&ir&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ir;return n}pt.FpPow=$b;function Lb(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}pt.FpInvertBatch=Lb;function Y4(e,t,r){return e.mul(t,typeof r=="bigint"?jl(r,e.ORDER):e.inv(r))}pt.FpDiv=Y4;function X4(e){const t=(e.ORDER-ir)/Ys;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}pt.FpIsSquare=X4;function lp(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}pt.nLength=lp;function J4(e,t,r=!1,n={}){if(e<=en)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=lp(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Cb(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:(0,Xn.bitMask)(i),ZERO:en,ONE:ir,create:c=>Jn(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return en<=c&&c<e},is0:c=>c===en,isOdd:c=>(c&ir)===ir,neg:c=>Jn(-c,e),eql:(c,u)=>c===u,sqr:c=>Jn(c*c,e),add:(c,u)=>Jn(c+u,e),sub:(c,u)=>Jn(c-u,e),mul:(c,u)=>Jn(c*u,e),pow:(c,u)=>$b(a,c,u),div:(c,u)=>Jn(c*jl(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>jl(c,e),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>Lb(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?(0,Xn.numberToBytesLE)(c,s):(0,Xn.numberToBytesBE)(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?(0,Xn.bytesToNumberLE)(c):(0,Xn.bytesToNumberBE)(c)}});return Object.freeze(a)}pt.Field=J4;function Q4(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}pt.FpSqrtOdd=Q4;function ek(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}pt.FpSqrtEven=ek;function tk(e,t,r=!1){e=(0,Xn.ensureBytes)("privateHash",e);const n=e.length,i=lp(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=r?(0,Xn.bytesToNumberLE)(e):(0,Xn.bytesToNumberBE)(e);return Jn(s,t-ir)+ir}pt.hashToPrivateScalar=tk;function hp(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}pt.getFieldBytesLength=hp;function Ob(e){const t=hp(e);return t+Math.ceil(t/2)}pt.getMinHashLength=Ob;function rk(e,t,r=!1){const n=e.length,i=hp(t),s=Ob(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?(0,Xn.bytesToNumberBE)(e):(0,Xn.bytesToNumberLE)(e),a=Jn(o,t-ir)+ir;return r?(0,Xn.numberToBytesLE)(a,i):(0,Xn.numberToBytesBE)(a,i)}pt.mapHashToField=rk;var dp={},Ya={};Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.validateBasic=Ya.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ub=pt,nk=at,ik=BigInt(0),pp=BigInt(1);function sk(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>ik;)s&pp&&(o=o.add(a)),a=a.double(),s>>=pp;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let u=i,l=u;for(let h=0;h<o;h++){l=u,c.push(l);for(let _=1;_<a;_++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const h=BigInt(2**i-1),_=2**i,w=BigInt(i);for(let A=0;A<a;A++){const k=A*c;let I=Number(o&h);o>>=w,I>c&&(I-=_,o+=pp);const H=k,P=k+Math.abs(I)-1,C=A%2!==0,$=I<0;I===0?l=l.add(r(C,s[H])):u=u.add(r($,s[P]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}Ya.wNAF=sk;function ok(e){return(0,Ub.validateField)(e.Fp),(0,nk.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Ub.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}Ya.validateBasic=ok,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=pt,r=at,n=at,i=Ya;function s(P){const C=(0,i.validateBasic)(P);r.validateObject(C,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:$,Fp:q,a:W}=C;if($){if(!q.eql(W,q.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof $!="object"||typeof $.beta!="bigint"||typeof $.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...C})}const{bytesToNumberBE:o,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(C=""){super(C)}},_parseInt(P){const{Err:C}=e.DER;if(P.length<2||P[0]!==2)throw new C("Invalid signature integer tag");const $=P[1],q=P.subarray(2,$+2);if(!$||q.length!==$)throw new C("Invalid signature integer: wrong length");if(q[0]&128)throw new C("Invalid signature integer: negative");if(q[0]===0&&!(q[1]&128))throw new C("Invalid signature integer: unnecessary leading zero");return{d:o(q),l:P.subarray($+2)}},toSig(P){const{Err:C}=e.DER,$=typeof P=="string"?a(P):P;if(!r.isBytes($))throw new Error("ui8a expected");let q=$.length;if(q<2||$[0]!=48)throw new C("Invalid signature tag");if($[1]!==q-2)throw new C("Invalid signature: incorrect length");const{d:W,l:V}=e.DER._parseInt($.subarray(2)),{d:z,l:X}=e.DER._parseInt(V);if(X.length)throw new C("Invalid signature: left bytes after parsing");return{r:W,s:z}},hexFromSig(P){const C=ee=>Number.parseInt(ee[0],16)&8?"00"+ee:ee,$=ee=>{const R=ee.toString(16);return R.length&1?`0${R}`:R},q=C($(P.s)),W=C($(P.r)),V=q.length/2,z=W.length/2,X=$(V),re=$(z);return`30${$(z+V+4)}02${re}${W}02${X}${q}`}};const c=BigInt(0),u=BigInt(1),l=BigInt(2),h=BigInt(3),_=BigInt(4);function w(P){const C=s(P),{Fp:$}=C,q=C.toBytes||((b,x,E)=>{const S=x.toAffine();return r.concatBytes(Uint8Array.from([4]),$.toBytes(S.x),$.toBytes(S.y))}),W=C.fromBytes||(b=>{const x=b.subarray(1),E=$.fromBytes(x.subarray(0,$.BYTES)),S=$.fromBytes(x.subarray($.BYTES,2*$.BYTES));return{x:E,y:S}});function V(b){const{a:x,b:E}=C,S=$.sqr(b),L=$.mul(S,b);return $.add($.add(L,$.mul(b,x)),E)}if(!$.eql($.sqr(C.Gy),V(C.Gx)))throw new Error("bad generator point: equation left != right");function z(b){return typeof b=="bigint"&&c<b&&b<C.n}function X(b){if(!z(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function re(b){const{allowedPrivateKeyLengths:x,nByteLength:E,wrapPrivateKey:S,n:L}=C;if(x&&typeof b!="bigint"){if(r.isBytes(b)&&(b=r.bytesToHex(b)),typeof b!="string"||!x.includes(b.length))throw new Error("Invalid key");b=b.padStart(E*2,"0")}let T;try{T=typeof b=="bigint"?b:r.bytesToNumberBE((0,n.ensureBytes)("private key",b,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof b}`)}return S&&(T=t.mod(T,L)),X(T),T}const ee=new Map;function R(b){if(!(b instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(x,E,S){if(this.px=x,this.py=E,this.pz=S,x==null||!$.isValid(x))throw new Error("x required");if(E==null||!$.isValid(E))throw new Error("y required");if(S==null||!$.isValid(S))throw new Error("z required")}static fromAffine(x){const{x:E,y:S}=x||{};if(!x||!$.isValid(E)||!$.isValid(S))throw new Error("invalid affine point");if(x instanceof y)throw new Error("projective point not allowed");const L=T=>$.eql(T,$.ZERO);return L(E)&&L(S)?y.ZERO:new y(E,S,$.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const E=$.invertBatch(x.map(S=>S.pz));return x.map((S,L)=>S.toAffine(E[L])).map(y.fromAffine)}static fromHex(x){const E=y.fromAffine(W((0,n.ensureBytes)("pointHex",x)));return E.assertValidity(),E}static fromPrivateKey(x){return y.BASE.multiply(re(x))}_setWindowSize(x){this._WINDOW_SIZE=x,ee.delete(this)}assertValidity(){if(this.is0()){if(C.allowInfinityPoint&&!$.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:E}=this.toAffine();if(!$.isValid(x)||!$.isValid(E))throw new Error("bad point: x or y not FE");const S=$.sqr(E),L=V(x);if(!$.eql(S,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if($.isOdd)return!$.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){R(x);const{px:E,py:S,pz:L}=this,{px:T,py:p,pz:O}=x,G=$.eql($.mul(E,O),$.mul(T,L)),Z=$.eql($.mul(S,O),$.mul(p,L));return G&&Z}negate(){return new y(this.px,$.neg(this.py),this.pz)}double(){const{a:x,b:E}=C,S=$.mul(E,h),{px:L,py:T,pz:p}=this;let O=$.ZERO,G=$.ZERO,Z=$.ZERO,ne=$.mul(L,L),Se=$.mul(T,T),_e=$.mul(p,p),ye=$.mul(L,T);return ye=$.add(ye,ye),Z=$.mul(L,p),Z=$.add(Z,Z),O=$.mul(x,Z),G=$.mul(S,_e),G=$.add(O,G),O=$.sub(Se,G),G=$.add(Se,G),G=$.mul(O,G),O=$.mul(ye,O),Z=$.mul(S,Z),_e=$.mul(x,_e),ye=$.sub(ne,_e),ye=$.mul(x,ye),ye=$.add(ye,Z),Z=$.add(ne,ne),ne=$.add(Z,ne),ne=$.add(ne,_e),ne=$.mul(ne,ye),G=$.add(G,ne),_e=$.mul(T,p),_e=$.add(_e,_e),ne=$.mul(_e,ye),O=$.sub(O,ne),Z=$.mul(_e,Se),Z=$.add(Z,Z),Z=$.add(Z,Z),new y(O,G,Z)}add(x){R(x);const{px:E,py:S,pz:L}=this,{px:T,py:p,pz:O}=x;let G=$.ZERO,Z=$.ZERO,ne=$.ZERO;const Se=C.a,_e=$.mul(C.b,h);let ye=$.mul(E,T),nt=$.mul(S,p),Fe=$.mul(L,O),Pe=$.add(E,S),ge=$.add(T,p);Pe=$.mul(Pe,ge),ge=$.add(ye,nt),Pe=$.sub(Pe,ge),ge=$.add(E,L);let me=$.add(T,O);return ge=$.mul(ge,me),me=$.add(ye,Fe),ge=$.sub(ge,me),me=$.add(S,L),G=$.add(p,O),me=$.mul(me,G),G=$.add(nt,Fe),me=$.sub(me,G),ne=$.mul(Se,ge),G=$.mul(_e,Fe),ne=$.add(G,ne),G=$.sub(nt,ne),ne=$.add(nt,ne),Z=$.mul(G,ne),nt=$.add(ye,ye),nt=$.add(nt,ye),Fe=$.mul(Se,Fe),ge=$.mul(_e,ge),nt=$.add(nt,Fe),Fe=$.sub(ye,Fe),Fe=$.mul(Se,Fe),ge=$.add(ge,Fe),ye=$.mul(nt,ge),Z=$.add(Z,ye),ye=$.mul(me,ge),G=$.mul(Pe,G),G=$.sub(G,ye),ye=$.mul(Pe,nt),ne=$.mul(me,ne),ne=$.add(ne,ye),new y(G,Z,ne)}subtract(x){return this.add(x.negate())}is0(){return this.equals(y.ZERO)}wNAF(x){return d.wNAFCached(this,ee,x,E=>{const S=$.invertBatch(E.map(L=>L.pz));return E.map((L,T)=>L.toAffine(S[T])).map(y.fromAffine)})}multiplyUnsafe(x){const E=y.ZERO;if(x===c)return E;if(X(x),x===u)return this;const{endo:S}=C;if(!S)return d.unsafeLadder(this,x);let{k1neg:L,k1:T,k2neg:p,k2:O}=S.splitScalar(x),G=E,Z=E,ne=this;for(;T>c||O>c;)T&u&&(G=G.add(ne)),O&u&&(Z=Z.add(ne)),ne=ne.double(),T>>=u,O>>=u;return L&&(G=G.negate()),p&&(Z=Z.negate()),Z=new y($.mul(Z.px,S.beta),Z.py,Z.pz),G.add(Z)}multiply(x){X(x);let E=x,S,L;const{endo:T}=C;if(T){const{k1neg:p,k1:O,k2neg:G,k2:Z}=T.splitScalar(E);let{p:ne,f:Se}=this.wNAF(O),{p:_e,f:ye}=this.wNAF(Z);ne=d.constTimeNegate(p,ne),_e=d.constTimeNegate(G,_e),_e=new y($.mul(_e.px,T.beta),_e.py,_e.pz),S=ne.add(_e),L=Se.add(ye)}else{const{p,f:O}=this.wNAF(E);S=p,L=O}return y.normalizeZ([S,L])[0]}multiplyAndAddUnsafe(x,E,S){const L=y.BASE,T=(O,G)=>G===c||G===u||!O.equals(L)?O.multiplyUnsafe(G):O.multiply(G),p=T(this,E).add(T(x,S));return p.is0()?void 0:p}toAffine(x){const{px:E,py:S,pz:L}=this,T=this.is0();x==null&&(x=T?$.ONE:$.inv(L));const p=$.mul(E,x),O=$.mul(S,x),G=$.mul(L,x);if(T)return{x:$.ZERO,y:$.ZERO};if(!$.eql(G,$.ONE))throw new Error("invZ was invalid");return{x:p,y:O}}isTorsionFree(){const{h:x,isTorsionFree:E}=C;if(x===u)return!0;if(E)return E(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:E}=C;return x===u?this:E?E(y,this):this.multiplyUnsafe(C.h)}toRawBytes(x=!0){return this.assertValidity(),q(y,this,x)}toHex(x=!0){return r.bytesToHex(this.toRawBytes(x))}}y.BASE=new y(C.Gx,C.Gy,$.ONE),y.ZERO=new y($.ZERO,$.ONE,$.ZERO);const f=C.nBitLength,d=(0,i.wNAF)(y,C.endo?Math.ceil(f/2):f);return{CURVE:C,ProjectivePoint:y,normPrivateKeyToScalar:re,weierstrassEquation:V,isWithinCurveOrder:z}}e.weierstrassPoints=w;function A(P){const C=(0,i.validateBasic)(P);return r.validateObject(C,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...C})}function k(P){const C=A(P),{Fp:$,n:q}=C,W=$.BYTES+1,V=2*$.BYTES+1;function z(ge){return c<ge&&ge<$.ORDER}function X(ge){return t.mod(ge,q)}function re(ge){return t.invert(ge,q)}const{ProjectivePoint:ee,normPrivateKeyToScalar:R,weierstrassEquation:y,isWithinCurveOrder:f}=w({...C,toBytes(ge,me,Ce){const St=me.toAffine(),ze=$.toBytes(St.x),ot=r.concatBytes;return Ce?ot(Uint8Array.from([me.hasEvenY()?2:3]),ze):ot(Uint8Array.from([4]),ze,$.toBytes(St.y))},fromBytes(ge){const me=ge.length,Ce=ge[0],St=ge.subarray(1);if(me===W&&(Ce===2||Ce===3)){const ze=r.bytesToNumberBE(St);if(!z(ze))throw new Error("Point is not on curve");const ot=y(ze);let Kt=$.sqrt(ot);const ht=(Kt&u)===u;return(Ce&1)===1!==ht&&(Kt=$.neg(Kt)),{x:ze,y:Kt}}else if(me===V&&Ce===4){const ze=$.fromBytes(St.subarray(0,$.BYTES)),ot=$.fromBytes(St.subarray($.BYTES,2*$.BYTES));return{x:ze,y:ot}}else throw new Error(`Point of length ${me} was invalid. Expected ${W} compressed bytes or ${V} uncompressed bytes`)}}),d=ge=>r.bytesToHex(r.numberToBytesBE(ge,C.nByteLength));function b(ge){const me=q>>u;return ge>me}function x(ge){return b(ge)?X(-ge):ge}const E=(ge,me,Ce)=>r.bytesToNumberBE(ge.slice(me,Ce));class S{constructor(me,Ce,St){this.r=me,this.s=Ce,this.recovery=St,this.assertValidity()}static fromCompact(me){const Ce=C.nByteLength;return me=(0,n.ensureBytes)("compactSignature",me,Ce*2),new S(E(me,0,Ce),E(me,Ce,2*Ce))}static fromDER(me){const{r:Ce,s:St}=e.DER.toSig((0,n.ensureBytes)("DER",me));return new S(Ce,St)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(me){return new S(this.r,this.s,me)}recoverPublicKey(me){const{r:Ce,s:St,recovery:ze}=this,ot=Z((0,n.ensureBytes)("msgHash",me));if(ze==null||![0,1,2,3].includes(ze))throw new Error("recovery id invalid");const Kt=ze===2||ze===3?Ce+C.n:Ce;if(Kt>=$.ORDER)throw new Error("recovery id 2 or 3 invalid");const ht=ze&1?"03":"02",wt=ee.fromHex(ht+d(Kt)),Jt=re(Kt),Tt=X(-ot*Jt),Rt=X(St*Jt),nr=ee.BASE.multiplyAndAddUnsafe(wt,Tt,Rt);if(!nr)throw new Error("point at infinify");return nr.assertValidity(),nr}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,X(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const L={isValidPrivateKey(ge){try{return R(ge),!0}catch{return!1}},normPrivateKeyToScalar:R,randomPrivateKey:()=>{const ge=t.getMinHashLength(C.n);return t.mapHashToField(C.randomBytes(ge),C.n)},precompute(ge=8,me=ee.BASE){return me._setWindowSize(ge),me.multiply(BigInt(3)),me}};function T(ge,me=!0){return ee.fromPrivateKey(ge).toRawBytes(me)}function p(ge){const me=r.isBytes(ge),Ce=typeof ge=="string",St=(me||Ce)&&ge.length;return me?St===W||St===V:Ce?St===2*W||St===2*V:ge instanceof ee}function O(ge,me,Ce=!0){if(p(ge))throw new Error("first arg must be private key");if(!p(me))throw new Error("second arg must be public key");return ee.fromHex(me).multiply(R(ge)).toRawBytes(Ce)}const G=C.bits2int||function(ge){const me=r.bytesToNumberBE(ge),Ce=ge.length*8-C.nBitLength;return Ce>0?me>>BigInt(Ce):me},Z=C.bits2int_modN||function(ge){return X(G(ge))},ne=r.bitMask(C.nBitLength);function Se(ge){if(typeof ge!="bigint")throw new Error("bigint expected");if(!(c<=ge&&ge<ne))throw new Error(`bigint expected < 2^${C.nBitLength}`);return r.numberToBytesBE(ge,C.nByteLength)}function _e(ge,me,Ce=ye){if(["recovered","canonical"].some(U=>U in Ce))throw new Error("sign() legacy options not supported");const{hash:St,randomBytes:ze}=C;let{lowS:ot,prehash:Kt,extraEntropy:ht}=Ce;ot==null&&(ot=!0),ge=(0,n.ensureBytes)("msgHash",ge),Kt&&(ge=(0,n.ensureBytes)("prehashed msgHash",St(ge)));const wt=Z(ge),Jt=R(me),Tt=[Se(Jt),Se(wt)];if(ht!=null){const U=ht===!0?ze($.BYTES):ht;Tt.push((0,n.ensureBytes)("extraEntropy",U))}const Rt=r.concatBytes(...Tt),nr=wt;function Lt(U){const m=G(U);if(!f(m))return;const v=re(m),D=ee.BASE.multiply(m).toAffine(),K=X(D.x);if(K===c)return;const J=X(v*X(nr+K*Jt));if(J===c)return;let ae=(D.x===K?0:2)|Number(D.y&u),Ye=J;return ot&&b(J)&&(Ye=x(J),ae^=1),new S(K,Ye,ae)}return{seed:Rt,k2sig:Lt}}const ye={lowS:C.lowS,prehash:!1},nt={lowS:C.lowS,prehash:!1};function Fe(ge,me,Ce=ye){const{seed:St,k2sig:ze}=_e(ge,me,Ce),ot=C;return r.createHmacDrbg(ot.hash.outputLen,ot.nByteLength,ot.hmac)(St,ze)}ee.BASE._setWindowSize(8);function Pe(ge,me,Ce,St=nt){const ze=ge;if(me=(0,n.ensureBytes)("msgHash",me),Ce=(0,n.ensureBytes)("publicKey",Ce),"strict"in St)throw new Error("options.strict was renamed to lowS");const{lowS:ot,prehash:Kt}=St;let ht,wt;try{if(typeof ze=="string"||r.isBytes(ze))try{ht=S.fromDER(ze)}catch(D){if(!(D instanceof e.DER.Err))throw D;ht=S.fromCompact(ze)}else if(typeof ze=="object"&&typeof ze.r=="bigint"&&typeof ze.s=="bigint"){const{r:D,s:K}=ze;ht=new S(D,K)}else throw new Error("PARSE");wt=ee.fromHex(Ce)}catch(D){if(D.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ot&&ht.hasHighS())return!1;Kt&&(me=C.hash(me));const{r:Jt,s:Tt}=ht,Rt=Z(me),nr=re(Tt),Lt=X(Rt*nr),U=X(Jt*nr),m=ee.BASE.multiplyAndAddUnsafe(wt,Lt,U)?.toAffine();return m?X(m.x)===Jt:!1}return{CURVE:C,getPublicKey:T,getSharedSecret:O,sign:Fe,verify:Pe,ProjectivePoint:ee,Signature:S,utils:L}}e.weierstrass=k;function I(P,C){const $=P.ORDER;let q=c;for(let b=$-u;b%l===c;b/=l)q+=u;const W=q,V=l<<W-u-u,z=V*l,X=($-u)/z,re=(X-u)/l,ee=z-u,R=V,y=P.pow(C,X),f=P.pow(C,(X+u)/l);let d=(b,x)=>{let E=y,S=P.pow(x,ee),L=P.sqr(S);L=P.mul(L,x);let T=P.mul(b,L);T=P.pow(T,re),T=P.mul(T,S),S=P.mul(T,x),L=P.mul(T,b);let p=P.mul(L,S);T=P.pow(p,R);let O=P.eql(T,P.ONE);S=P.mul(L,f),T=P.mul(p,E),L=P.cmov(S,L,O),p=P.cmov(T,p,O);for(let G=W;G>u;G--){let Z=G-l;Z=l<<Z-u;let ne=P.pow(p,Z);const Se=P.eql(ne,P.ONE);S=P.mul(L,E),E=P.mul(E,E),ne=P.mul(p,E),L=P.cmov(S,L,Se),p=P.cmov(ne,p,Se)}return{isValid:O,value:L}};if(P.ORDER%_===h){const b=(P.ORDER-h)/_,x=P.sqrt(P.neg(C));d=(E,S)=>{let L=P.sqr(S);const T=P.mul(E,S);L=P.mul(L,T);let p=P.pow(L,b);p=P.mul(p,T);const O=P.mul(p,x),G=P.mul(P.sqr(p),S),Z=P.eql(G,E);let ne=P.cmov(O,p,Z);return{isValid:Z,value:ne}}}return d}e.SWUFpSqrtRatio=I;function H(P,C){if(t.validateField(P),!P.isValid(C.A)||!P.isValid(C.B)||!P.isValid(C.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const $=I(P,C.Z);if(!P.isOdd)throw new Error("Fp.isOdd is not implemented!");return q=>{let W,V,z,X,re,ee,R,y;W=P.sqr(q),W=P.mul(W,C.Z),V=P.sqr(W),V=P.add(V,W),z=P.add(V,P.ONE),z=P.mul(z,C.B),X=P.cmov(C.Z,P.neg(V),!P.eql(V,P.ZERO)),X=P.mul(X,C.A),V=P.sqr(z),ee=P.sqr(X),re=P.mul(ee,C.A),V=P.add(V,re),V=P.mul(V,z),ee=P.mul(ee,X),re=P.mul(ee,C.B),V=P.add(V,re),R=P.mul(W,z);const{isValid:f,value:d}=$(V,ee);y=P.mul(W,q),y=P.mul(y,d),R=P.cmov(R,z,f),y=P.cmov(y,d,f);const b=P.isOdd(q)===P.isOdd(y);return y=P.cmov(P.neg(y),y,b),R=P.div(R,X),{x:R,y}}}e.mapToCurveSimpleSWU=H}(dp);var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.createHasher=fi.isogenyMap=fi.hash_to_field=fi.expand_message_xof=fi.expand_message_xmd=void 0;const ak=pt,Qn=at;function ck(e){if((0,Qn.isBytes)(e))return e;if(typeof e=="string")return(0,Qn.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const uk=Qn.bytesToNumberBE;function Xs(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function fk(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function hu(e){if(!(0,Qn.isBytes)(e))throw new Error("Uint8Array expected")}function gp(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Mb(e,t,r,n){hu(e),hu(t),gp(r),t.length>255&&(t=n((0,Qn.concatBytes)((0,Qn.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");const a=(0,Qn.concatBytes)(t,Xs(t.length,1)),c=Xs(0,s),u=Xs(r,2),l=new Array(o),h=n((0,Qn.concatBytes)(c,e,u,Xs(0,1),a));l[0]=n((0,Qn.concatBytes)(h,Xs(1,1),a));for(let w=1;w<=o;w++){const A=[fk(h,l[w-1]),Xs(w+1,1),a];l[w]=n((0,Qn.concatBytes)(...A))}return(0,Qn.concatBytes)(...l).slice(0,r)}fi.expand_message_xmd=Mb;function Nb(e,t,r,n,i){if(hu(e),hu(t),gp(r),t.length>255){const s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update((0,Qn.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Xs(r,2)).update(t).update(Xs(t.length,1)).digest()}fi.expand_message_xof=Nb;function yp(e,t,r){(0,Qn.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;hu(e),gp(t);const u=ck(c),l=n.toString(2).length,h=Math.ceil((l+i)/8),_=t*s*h;let w;if(a==="xmd")w=Mb(e,u,_,o);else if(a==="xof")w=Nb(e,u,_,i,o);else if(a==="_internal_pass")w=e;else throw new Error('expand must be "xmd" or "xof"');const A=new Array(t);for(let k=0;k<t;k++){const I=new Array(s);for(let H=0;H<s;H++){const P=h*(H+k*s),C=w.subarray(P,P+h);I[H]=(0,ak.mod)(uk(C),n)}A[k]=I}return A}fi.hash_to_field=yp;function lk(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,c]=r.map(u=>u.reduce((l,h)=>e.add(e.mul(l,n),h)));return n=e.div(s,o),i=e.mul(i,e.div(a,c)),{x:n,y:i}}}fi.isogenyMap=lk;function hk(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=yp(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=yp(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}}fi.createHasher=hk;var Xa={},Pb={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Qr,r=gs;class n extends r.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(o);const c=(0,r.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let h=0;h<l.length;h++)l[h]^=54;this.iHash.update(l),this.oHash=o.create();for(let h=0;h<l.length;h++)l[h]^=106;this.oHash.update(l),l.fill(0)}update(o){return(0,t.exists)(this),this.iHash.update(o),this}digestInto(o){(0,t.exists)(this),(0,t.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:h,outputLen:_}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=h,o.outputLen=_,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const i=(s,o,a)=>new n(s,o).update(a).digest();e.hmac=i,e.hmac.create=(s,o)=>new n(s,o)})(Pb),Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.createCurve=Xa.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dk=Pb,Fb=gs,pk=dp;function Hb(e){return{hash:e,hmac:(t,...r)=>(0,dk.hmac)(e,t,(0,Fb.concatBytes)(...r)),randomBytes:Fb.randomBytes}}Xa.getHash=Hb;function gk(e,t){const r=n=>(0,pk.weierstrass)({...e,...Hb(n)});return Object.freeze({...r(t),create:r})}Xa.createCurve=gk,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Ga,r=gs,n=pt,i=dp,s=at,o=fi,a=Xa,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(1),h=BigInt(2),_=(S,L)=>(S+L/h)/L;function w(S){const L=c,T=BigInt(3),p=BigInt(6),O=BigInt(11),G=BigInt(22),Z=BigInt(23),ne=BigInt(44),Se=BigInt(88),_e=S*S*S%L,ye=_e*_e*S%L,nt=(0,n.pow2)(ye,T,L)*ye%L,Fe=(0,n.pow2)(nt,T,L)*ye%L,Pe=(0,n.pow2)(Fe,h,L)*_e%L,ge=(0,n.pow2)(Pe,O,L)*Pe%L,me=(0,n.pow2)(ge,G,L)*ge%L,Ce=(0,n.pow2)(me,ne,L)*me%L,St=(0,n.pow2)(Ce,Se,L)*Ce%L,ze=(0,n.pow2)(St,ne,L)*me%L,ot=(0,n.pow2)(ze,T,L)*ye%L,Kt=(0,n.pow2)(ot,Z,L)*ge%L,ht=(0,n.pow2)(Kt,p,L)*_e%L,wt=(0,n.pow2)(ht,h,L);if(!A.eql(A.sqr(wt),S))throw new Error("Cannot find square root");return wt}const A=(0,n.Field)(c,void 0,void 0,{sqrt:w});e.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:A,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:S=>{const L=u,T=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),p=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),O=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),G=T,Z=BigInt("0x100000000000000000000000000000000"),ne=_(G*S,L),Se=_(-p*S,L);let _e=(0,n.mod)(S-ne*T-Se*O,L),ye=(0,n.mod)(-ne*p-Se*G,L);const nt=_e>Z,Fe=ye>Z;if(nt&&(_e=L-_e),Fe&&(ye=L-ye),_e>Z||ye>Z)throw new Error("splitScalar: Endomorphism failed, k="+S);return{k1neg:nt,k1:_e,k2neg:Fe,k2:ye}}}},t.sha256);const k=BigInt(0),I=S=>typeof S=="bigint"&&k<S&&S<c,H=S=>typeof S=="bigint"&&k<S&&S<u,P={};function C(S,...L){let T=P[S];if(T===void 0){const p=(0,t.sha256)(Uint8Array.from(S,O=>O.charCodeAt(0)));T=(0,s.concatBytes)(p,p),P[S]=T}return(0,t.sha256)((0,s.concatBytes)(T,...L))}const $=S=>S.toRawBytes(!0).slice(1),q=S=>(0,s.numberToBytesBE)(S,32),W=S=>(0,n.mod)(S,c),V=S=>(0,n.mod)(S,u),z=e.secp256k1.ProjectivePoint,X=(S,L,T)=>z.BASE.multiplyAndAddUnsafe(S,L,T);function re(S){let L=e.secp256k1.utils.normPrivateKeyToScalar(S),T=z.fromPrivateKey(L);return{scalar:T.hasEvenY()?L:V(-L),bytes:$(T)}}function ee(S){if(!I(S))throw new Error("bad x: need 0 < x < p");const L=W(S*S),T=W(L*S+BigInt(7));let p=w(T);p%h!==k&&(p=W(-p));const O=new z(S,p,l);return O.assertValidity(),O}function R(...S){return V((0,s.bytesToNumberBE)(C("BIP0340/challenge",...S)))}function y(S){return re(S).bytes}function f(S,L,T=(0,r.randomBytes)(32)){const p=(0,s.ensureBytes)("message",S),{bytes:O,scalar:G}=re(L),Z=(0,s.ensureBytes)("auxRand",T,32),ne=q(G^(0,s.bytesToNumberBE)(C("BIP0340/aux",Z))),Se=C("BIP0340/nonce",ne,O,p),_e=V((0,s.bytesToNumberBE)(Se));if(_e===k)throw new Error("sign failed: k is zero");const{bytes:ye,scalar:nt}=re(_e),Fe=R(ye,O,p),Pe=new Uint8Array(64);if(Pe.set(ye,0),Pe.set(q(V(nt+Fe*G)),32),!d(Pe,p,O))throw new Error("sign: Invalid signature produced");return Pe}function d(S,L,T){const p=(0,s.ensureBytes)("signature",S,64),O=(0,s.ensureBytes)("message",L),G=(0,s.ensureBytes)("publicKey",T,32);try{const Z=ee((0,s.bytesToNumberBE)(G)),ne=(0,s.bytesToNumberBE)(p.subarray(0,32));if(!I(ne))return!1;const Se=(0,s.bytesToNumberBE)(p.subarray(32,64));if(!H(Se))return!1;const _e=R(q(ne),$(Z),O),ye=X(Z,Se,V(-_e));return!(!ye||!ye.hasEvenY()||ye.toAffine().x!==ne)}catch{return!1}}e.schnorr=(()=>({getPublicKey:y,sign:f,verify:d,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:ee,pointToBytes:$,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:C,mod:n.mod}}))();const b=(()=>(0,o.isogenyMap)(A,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(S=>S.map(L=>BigInt(L)))))(),x=(()=>(0,i.mapToCurveSimpleSWU)(A,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:A.create(BigInt("-11"))}))(),E=(()=>(0,o.createHasher)(e.secp256k1.ProjectivePoint,S=>{const{x:L,y:T}=x(A.create(S[0]));return b(L,T)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:A.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}))();e.hashToCurve=(()=>E.hashToCurve)(),e.encodeToCurve=(()=>E.encodeToCurve)()}(gb),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=gb;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})}(Nl),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=se,r=Nl;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16}(Ml);var ql={};Object.defineProperty(ql,"__esModule",{value:!0}),ql.GWEI_TO_WEI=void 0,ql.GWEI_TO_WEI=BigInt(1e9);var wp={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.RLP=Ki.utils=Ki.decode=Ki.encode=void 0;function mp(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const s=mp(e[i]);r.push(s),n+=s.length}return _p(zb(n,192),...r)}const t=Gb(e);return t.length===1&&t[0]<128?t:_p(zb(t.length,128),t)}Ki.encode=mp;function Ja(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function Db(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Vb(qb(e))}function zb(e,t){if(e<56)return Uint8Array.from([e+t]);const r=vp(e),n=r.length/2,i=vp(t+55+n);return Uint8Array.from(Vl(i+r))}function jb(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=Gb(e),n=bp(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}Ki.decode=jb;function bp(e){let t,r,n,i,s;const o=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?n=Uint8Array.from([]):n=Ja(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=Db(Ja(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=Ja(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(a<=247){for(t=a-191,i=Ja(e,1,t);i.length;)s=bp(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(t)}}else{if(r=a-246,t=Db(Ja(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const c=r+t;if(c>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Ja(e,r,c);i.length;)s=bp(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(c)}}}const yk=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qb(e){let t="";for(let r=0;r<e.length;r++)t+=yk[e[r]];return t}function Vb(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function Vl(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=Vb(e.slice(n,n+2))}return t}function _p(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function Kb(e){return new TextEncoder().encode(e)}function vp(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function wk(e){return e.length%2?`0${e}`:e}function Wb(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function mk(e){return typeof e!="string"?e:Wb(e)?e.slice(2):e}function Gb(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Wb(e)?Vl(wk(mk(e))):Kb(e);if(typeof e=="number"||typeof e=="bigint")return e?Vl(vp(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}Ki.utils={bytesToHex:qb,concatBytes:_p,hexToBytes:Vl,utf8ToBytes:Kb},Ki.RLP={encode:mp,decode:jb};var li={},sr={},ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.add5L=ct.add5H=ct.add4H=ct.add4L=ct.add3H=ct.add3L=ct.add=ct.rotlBL=ct.rotlBH=ct.rotlSL=ct.rotlSH=ct.rotr32L=ct.rotr32H=ct.rotrBL=ct.rotrBH=ct.rotrSL=ct.rotrSH=ct.shrSL=ct.shrSH=ct.toBig=ct.split=ct.fromBig=void 0;const Kl=BigInt(2**32-1),xp=BigInt(32);function Ep(e,t=!1){return t?{h:Number(e&Kl),l:Number(e>>xp&Kl)}:{h:Number(e>>xp&Kl)|0,l:Number(e&Kl)|0}}ct.fromBig=Ep;function Zb(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Ep(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}ct.split=Zb;const Yb=(e,t)=>BigInt(e>>>0)<<xp|BigInt(t>>>0);ct.toBig=Yb;const Xb=(e,t,r)=>e>>>r;ct.shrSH=Xb;const Jb=(e,t,r)=>e<<32-r|t>>>r;ct.shrSL=Jb;const Qb=(e,t,r)=>e>>>r|t<<32-r;ct.rotrSH=Qb;const e_=(e,t,r)=>e<<32-r|t>>>r;ct.rotrSL=e_;const t_=(e,t,r)=>e<<64-r|t>>>r-32;ct.rotrBH=t_;const r_=(e,t,r)=>e>>>r-32|t<<64-r;ct.rotrBL=r_;const n_=(e,t)=>t;ct.rotr32H=n_;const i_=(e,t)=>e;ct.rotr32L=i_;const s_=(e,t,r)=>e<<r|t>>>32-r;ct.rotlSH=s_;const o_=(e,t,r)=>t<<r|e>>>32-r;ct.rotlSL=o_;const a_=(e,t,r)=>t<<r-32|e>>>64-r;ct.rotlBH=a_;const c_=(e,t,r)=>e<<r-32|t>>>64-r;ct.rotlBL=c_;function u_(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}ct.add=u_;const f_=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);ct.add3L=f_;const l_=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;ct.add3H=l_;const h_=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);ct.add4L=h_;const d_=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;ct.add4H=d_;const p_=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);ct.add5L=p_;const g_=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;ct.add5H=g_;const bk={fromBig:Ep,split:Zb,toBig:Yb,shrSH:Xb,shrSL:Jb,rotrSH:Qb,rotrSL:e_,rotrBH:t_,rotrBL:r_,rotr32H:n_,rotr32L:i_,rotlSH:s_,rotlSL:o_,rotlBH:a_,rotlBL:c_,add:u_,add3L:f_,add3H:l_,add4L:h_,add4H:d_,add5H:g_,add5L:p_};ct.default=bk,Object.defineProperty(sr,"__esModule",{value:!0}),sr.shake256=sr.shake128=sr.keccak_512=sr.keccak_384=sr.keccak_256=sr.keccak_224=sr.sha3_512=sr.sha3_384=sr.sha3_256=sr.sha3_224=sr.Keccak=sr.keccakP=void 0;const Qa=Qr,du=ct,pu=gs,[y_,w_,m_]=[[],[],[]],_k=BigInt(0),gu=BigInt(1),vk=BigInt(2),xk=BigInt(7),Ek=BigInt(256),Sk=BigInt(113);for(let e=0,t=gu,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],y_.push(2*(5*n+r)),w_.push((e+1)*(e+2)/2%64);let i=_k;for(let s=0;s<7;s++)t=(t<<gu^(t>>xk)*Sk)%Ek,t&vk&&(i^=gu<<(gu<<BigInt(s))-gu);m_.push(i)}const[Ak,Bk]=(0,du.split)(m_,!0),b_=(e,t,r)=>r>32?(0,du.rotlBH)(e,t,r):(0,du.rotlSH)(e,t,r),__=(e,t,r)=>r>32?(0,du.rotlBL)(e,t,r):(0,du.rotlSL)(e,t,r);function v_(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],h=b_(u,l,1)^r[a],_=__(u,l,1)^r[a+1];for(let w=0;w<50;w+=10)e[o+w]^=h,e[o+w+1]^=_}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=w_[o],c=b_(i,s,a),u=__(i,s,a),l=y_[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Ak[n],e[1]^=Bk[n]}r.fill(0)}sr.keccakP=v_;class yu extends pu.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Qa.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,pu.u32)(this.state)}keccak(){v_(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,Qa.exists)(this);const{blockLen:r,state:n}=this;t=(0,pu.toBytes)(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,Qa.exists)(this,!1),(0,Qa.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Qa.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Qa.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new yu(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}sr.Keccak=yu;const Js=(e,t,r)=>(0,pu.wrapConstructor)(()=>new yu(t,e,r));sr.sha3_224=Js(6,144,224/8),sr.sha3_256=Js(6,136,256/8),sr.sha3_384=Js(6,104,384/8),sr.sha3_512=Js(6,72,512/8),sr.keccak_224=Js(1,144,224/8),sr.keccak_256=Js(1,136,256/8),sr.keccak_384=Js(1,104,384/8),sr.keccak_512=Js(1,72,512/8);const x_=(e,t,r)=>(0,pu.wrapXOFConstructorWithOpts)((n={})=>new yu(t,e,n.dkLen===void 0?r:n.dkLen,!0));sr.shake128=x_(31,168,128/8),sr.shake256=x_(31,136,256/8);function Sp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wl={exports:{}};(function(e,t){var r=lt&&lt.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const n=r(Qr),i=gs,s=n.default.bool;t.assertBool=s;const o=n.default.bytes;t.assertBytes=o;var a=gs;Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return a.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return a.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return a.utf8ToBytes}});function c(_){if(!(_ instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof _}`);return new TextDecoder().decode(_)}t.bytesToUtf8=c;function u(_){const w=_.startsWith("0x")?_.substring(2):_;return(0,i.hexToBytes)(w)}t.hexToBytes=u;function l(_,w){if(_.length!==w.length)return!1;for(let A=0;A<_.length;A++)if(_[A]!==w[A])return!1;return!0}t.equalsBytes=l;function h(_){return w=>(n.default.bytes(w),_(w))}t.wrapHash=h,t.crypto=(()=>{const _=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,w=typeof Sp=="function"&&Sp.bind(e);return{node:w&&!_?w("crypto"):void 0,web:_}})()})(Wl,Wl.exports),Object.defineProperty(li,"__esModule",{value:!0}),li.keccak512=li.keccak384=li.keccak256=li.keccak224=void 0;const wu=sr,Gl=Wl.exports;li.keccak224=(0,Gl.wrapHash)(wu.keccak_224),li.keccak256=(()=>{const e=(0,Gl.wrapHash)(wu.keccak_256);return e.create=wu.keccak_256.create,e})(),li.keccak384=(0,Gl.wrapHash)(wu.keccak_384),li.keccak512=(0,Gl.wrapHash)(wu.keccak_512);var Ko={},hi={},or={};Object.defineProperty(or,"__esModule",{value:!0}),or.isHexString=or.getKeys=or.fromAscii=or.fromUtf8=or.toAscii=or.arrayContainsArray=or.getBinarySize=or.padToEven=or.stripHexPrefix=or.isHexPrefixed=void 0;function E_(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}or.isHexPrefixed=E_;const Tk=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return E_(e)?e.slice(2):e};or.stripHexPrefix=Tk;function S_(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}or.padToEven=S_;function Ik(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return se.Buffer.byteLength(e,"utf8")}or.getBinarySize=Ik;function Rk(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}or.arrayContainsArray=Rk;function kk(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}or.toAscii=kk;function Ck(e){const t=se.Buffer.from(e,"utf8");return`0x${S_(t.toString("hex")).replace(/^0+|0+$/g,"")}`}or.fromUtf8=Ck;function $k(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}or.fromAscii=$k;function Lk(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(r===!0&&!s)s="";else if(typeof s!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof s}`);n.push(s)}return n}or.getKeys=Lk;function Ok(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}or.isHexString=Ok,Object.defineProperty(hi,"__esModule",{value:!0}),hi.assertIsString=hi.assertIsArray=hi.assertIsBuffer=hi.assertIsHexString=void 0;const Uk=or,Mk=function(e){if(!(0,Uk.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};hi.assertIsHexString=Mk;const Nk=function(e){if(!se.Buffer.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};hi.assertIsBuffer=Nk;const Pk=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};hi.assertIsArray=Pk;const Fk=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};hi.assertIsString=Fk,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=hi,r=or,n=function(f){if(!Number.isSafeInteger(f)||f<0)throw new Error(`Received an invalid integer type: ${f}`);return`0x${f.toString(16)}`};e.intToHex=n;const i=function(f){const d=(0,e.intToHex)(f);return se.Buffer.from((0,r.padToEven)(d.slice(2)),"hex")};e.intToBuffer=i;const s=function(f){return se.Buffer.allocUnsafe(f).fill(0)};e.zeros=s;const o=function(f,d,b){const x=(0,e.zeros)(d);return b?f.length<d?(f.copy(x),x):f.slice(0,d):f.length<d?(f.copy(x,d-f.length),x):f.slice(-d)},a=function(f,d){return(0,t.assertIsBuffer)(f),o(f,d,!1)};e.setLengthLeft=a;const c=function(f,d){return(0,t.assertIsBuffer)(f),o(f,d,!0)};e.setLengthRight=c;const u=function(f){let d=f[0];for(;f.length>0&&d.toString()==="0";)f=f.slice(1),d=f[0];return f},l=function(f){return(0,t.assertIsBuffer)(f),u(f)};e.unpadBuffer=l;const h=function(f){return(0,t.assertIsArray)(f),u(f)};e.unpadArray=h;const _=function(f){return(0,t.assertIsHexString)(f),f=(0,r.stripHexPrefix)(f),"0x"+u(f)};e.unpadHexString=_;const w=function(f){if(f==null)return se.Buffer.allocUnsafe(0);if(se.Buffer.isBuffer(f)||Array.isArray(f)||f instanceof Uint8Array)return se.Buffer.from(f);if(typeof f=="string"){if(!(0,r.isHexString)(f))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${f}`);return se.Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(f)),"hex")}if(typeof f=="number")return(0,e.intToBuffer)(f);if(typeof f=="bigint"){if(f<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${f}`);let d=f.toString(16);return d.length%2&&(d="0"+d),se.Buffer.from(d,"hex")}if(f.toArray)return se.Buffer.from(f.toArray());if(f.toBuffer)return se.Buffer.from(f.toBuffer());throw new Error("invalid type")};e.toBuffer=w;const A=function(f){return f=(0,e.toBuffer)(f),"0x"+f.toString("hex")};e.bufferToHex=A;function k(f){const d=(0,e.bufferToHex)(f);return BigInt(d==="0x"?0:d)}e.bufferToBigInt=k;function I(f){return(0,e.toBuffer)("0x"+f.toString(16))}e.bigIntToBuffer=I;const H=function(f){const d=Number(k(f));if(!Number.isSafeInteger(d))throw new Error("Number exceeds 53 bits");return d};e.bufferToInt=H;const P=function(f){return BigInt.asIntN(256,k(f))};e.fromSigned=P;const C=function(f){return I(BigInt.asUintN(256,f))};e.toUnsigned=C;const $=function(f){return typeof f!="string"||(0,r.isHexPrefixed)(f)?f:"0x"+f};e.addHexPrefix=$;function q(f,d=50){const b=se.Buffer.isBuffer(f)?f.toString("hex"):f;return b.length<=d?b:b.slice(0,d)+"\u2026"}e.short=q;const W=function(f){const d=/^(00)+|(00)+$/g;if(f=(0,r.stripHexPrefix)(f),f.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return se.Buffer.from(f.replace(d,""),"hex").toString("utf8")};e.toUtf8=W;const V=function(f){if(se.Buffer.isBuffer(f))return`0x${f.toString("hex")}`;if(f instanceof Array){const d=[];for(let b=0;b<f.length;b++)d.push((0,e.baToJSON)(f[b]));return d}};e.baToJSON=V;const z=function(f){for(const[d,b]of Object.entries(f))if(b!==void 0&&b.length>0&&b[0]===0)throw new Error(`${d} cannot have leading zeroes, received: ${b.toString("hex")}`)};e.validateNoLeadingZeroes=z;function X(f){return Array.isArray(f)?f.map(d=>X(d)):se.Buffer.from(f)}e.arrToBufArr=X;function re(f){return Array.isArray(f)?f.map(d=>re(d)):Uint8Array.from(f??[])}e.bufArrToArr=re;const ee=f=>"0x"+f.toString(16);e.bigIntToHex=ee;function R(f){return(0,e.unpadBuffer)(I(f))}e.bigIntToUnpaddedBuffer=R;function y(f){return(0,e.unpadBuffer)((0,e.intToBuffer)(f))}e.intToUnpaddedBuffer=y}(Ko),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=Ki,r=li,n=Nl,i=Wl.exports,s=Ko,o=Ml,a=hi,c=or,u=BigInt(0);class l{constructor(y=u,f=u,d=o.KECCAK256_RLP,b=o.KECCAK256_NULL){this.nonce=y,this.balance=f,this.storageRoot=d,this.codeHash=b,this._validate()}static fromAccountData(y){const{nonce:f,balance:d,storageRoot:b,codeHash:x}=y;return new l(f!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(f)):void 0,d!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(d)):void 0,b!==void 0?(0,s.toBuffer)(b):void 0,x!==void 0?(0,s.toBuffer)(x):void 0)}static fromRlpSerializedAccount(y){const f=(0,s.arrToBufArr)(t.RLP.decode(Uint8Array.from(y)));if(!Array.isArray(f))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(f)}static fromValuesArray(y){const[f,d,b,x]=y;return new l((0,s.bufferToBigInt)(f),(0,s.bufferToBigInt)(d),b,x)}_validate(){if(this.nonce<u)throw new Error("nonce must be greater than zero");if(this.balance<u)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,s.bigIntToUnpaddedBuffer)(this.nonce),(0,s.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return se.Buffer.from(t.RLP.encode((0,s.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(o.KECCAK256_NULL)}isEmpty(){return this.balance===u&&this.nonce===u&&this.codeHash.equals(o.KECCAK256_NULL)}}e.Account=l;const h=function(R){try{(0,a.assertIsString)(R)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(R)};e.isValidAddress=h;const _=function(R,y){(0,a.assertIsHexString)(R);const f=(0,c.stripHexPrefix)(R).toLowerCase();let d="";y!==void 0&&(d=(0,s.bufferToBigInt)((0,s.toBuffer)(y)).toString()+"0x");const b=se.Buffer.from(d+f,"utf8"),x=(0,i.bytesToHex)((0,r.keccak256)(b));let E="0x";for(let S=0;S<f.length;S++)parseInt(x[S],16)>=8?E+=f[S].toUpperCase():E+=f[S];return E};e.toChecksumAddress=_;const w=function(R,y){return(0,e.isValidAddress)(R)&&(0,e.toChecksumAddress)(R,y)===R};e.isValidChecksumAddress=w;const A=function(R,y){return(0,a.assertIsBuffer)(R),(0,a.assertIsBuffer)(y),(0,s.bufferToBigInt)(y)===BigInt(0)?se.Buffer.from((0,r.keccak256)(t.RLP.encode((0,s.bufArrToArr)([R,null])))).slice(-20):se.Buffer.from((0,r.keccak256)(t.RLP.encode((0,s.bufArrToArr)([R,y])))).slice(-20)};e.generateAddress=A;const k=function(R,y,f){if((0,a.assertIsBuffer)(R),(0,a.assertIsBuffer)(y),(0,a.assertIsBuffer)(f),R.length!==20)throw new Error("Expected from to be of length 20");if(y.length!==32)throw new Error("Expected salt to be of length 32");const d=(0,r.keccak256)(se.Buffer.concat([se.Buffer.from("ff","hex"),R,y,(0,r.keccak256)(f)]));return(0,s.toBuffer)(d).slice(-20)};e.generateAddress2=k;const I=function(R){return n.secp256k1.utils.isValidPrivateKey(R)};e.isValidPrivate=I;const H=function(R,y=!1){if((0,a.assertIsBuffer)(R),R.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(se.Buffer.concat([se.Buffer.from([4]),R])),!0}catch{return!1}if(!y)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(R),!0}catch{return!1}};e.isValidPublic=H;const P=function(R,y=!1){if((0,a.assertIsBuffer)(R),y&&R.length!==64&&(R=se.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(R).toRawBytes(!1).slice(1))),R.length!==64)throw new Error("Expected pubKey to be of length 64");return se.Buffer.from((0,r.keccak256)(R)).slice(-20)};e.pubToAddress=P,e.publicToAddress=e.pubToAddress;const C=function(R){return(0,a.assertIsBuffer)(R),se.Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(R).toRawBytes(!1).slice(1))};e.privateToPublic=C;const $=function(R){return(0,e.publicToAddress)((0,e.privateToPublic)(R))};e.privateToAddress=$;const q=function(R){return(0,a.assertIsBuffer)(R),R.length!==64&&(R=se.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(R).toRawBytes(!1).slice(1))),R};e.importPublic=q;const W=function(){const y=(0,s.zeros)(20);return(0,s.bufferToHex)(y)};e.zeroAddress=W;const V=function(R){try{(0,a.assertIsString)(R)}catch{return!1}return(0,e.zeroAddress)()===R};e.isZeroAddress=V;function z(R){const[y,f,d,b]=R;return[y,f,(0,s.arrToBufArr)(d).length===0?o.KECCAK256_RLP:d,(0,s.arrToBufArr)(b).length===0?o.KECCAK256_NULL:b]}e.accountBodyFromSlim=z;const X=new Uint8Array(0);function re(R){const[y,f,d,b]=R;return[y,f,(0,s.arrToBufArr)(d).equals(o.KECCAK256_RLP)?X:d,(0,s.arrToBufArr)(b).equals(o.KECCAK256_NULL)?X:b]}e.accountBodyToSlim=re;function ee(R,y=!0){const f=y?z(R):R;return(0,s.arrToBufArr)(t.RLP.encode(f))}e.accountBodyToRLP=ee}(wp);var mu={};Object.defineProperty(mu,"__esModule",{value:!0}),mu.Address=void 0;const bu=wp,Zl=Ko;class ws{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new ws((0,Zl.zeros)(20))}static fromString(t){if(!(0,bu.isValidAddress)(t))throw new Error("Invalid address");return new ws((0,Zl.toBuffer)(t))}static fromPublicKey(t){if(!se.Buffer.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,bu.pubToAddress)(t);return new ws(r)}static fromPrivateKey(t){if(!se.Buffer.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,bu.privateToAddress)(t);return new ws(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new ws((0,bu.generateAddress)(t.buf,(0,Zl.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!se.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!se.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new ws((0,bu.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(ws.zero())}isPrecompileOrSystemAddress(){const t=(0,Zl.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return se.Buffer.from(this.buf)}}mu.Address=ws;var Yl={},Ap={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=Ko,r=or;var n;(function(s){s[s.Number=0]="Number",s[s.BigInt=1]="BigInt",s[s.Buffer=2]="Buffer",s[s.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(s,o){if(s===null)return null;if(s===void 0)return;if(typeof s=="string"&&!(0,r.isHexString)(s))throw new Error(`A string must be provided with a 0x-prefix, given: ${s}`);if(typeof s=="number"&&!Number.isSafeInteger(s))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const a=(0,t.toBuffer)(s);switch(o){case n.Buffer:return a;case n.BigInt:return(0,t.bufferToBigInt)(a);case n.Number:{const c=(0,t.bufferToBigInt)(a);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case n.PrefixedHexString:return(0,t.bufferToHex)(a);default:throw new Error("unknown outputType")}}e.toType=i})(Ap),Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.Withdrawal=void 0;const A_=mu,Bp=Ko,Tr=Ap;class _u{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:s}=t,o=(0,Tr.toType)(r,Tr.TypeOutput.BigInt),a=(0,Tr.toType)(n,Tr.TypeOutput.BigInt),c=new A_.Address((0,Tr.toType)(i,Tr.TypeOutput.Buffer)),u=(0,Tr.toType)(s,Tr.TypeOutput.BigInt);return new _u(o,a,c,u)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,s]=t;return _u.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:s})}static toBufferArray(t){const{index:r,validatorIndex:n,address:i,amount:s}=t,o=(0,Tr.toType)(r,Tr.TypeOutput.BigInt)===BigInt(0)?se.Buffer.alloc(0):(0,Tr.toType)(r,Tr.TypeOutput.Buffer),a=(0,Tr.toType)(n,Tr.TypeOutput.BigInt)===BigInt(0)?se.Buffer.alloc(0):(0,Tr.toType)(n,Tr.TypeOutput.Buffer);let c;i instanceof A_.Address?c=i.buf:c=(0,Tr.toType)(i,Tr.TypeOutput.Buffer);const u=(0,Tr.toType)(s,Tr.TypeOutput.BigInt)===BigInt(0)?se.Buffer.alloc(0):(0,Tr.toType)(s,Tr.TypeOutput.Buffer);return[o,a,c,u]}raw(){return _u.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,Bp.bigIntToHex)(this.index),validatorIndex:(0,Bp.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,Bp.bigIntToHex)(this.amount)}}}Yl.Withdrawal=_u;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.hashPersonalMessage=vn.isValidSignature=vn.fromRpcSig=vn.toCompactSig=vn.toRpcSig=vn.ecrecover=vn.ecsign=void 0;const Hk=li,B_=Nl,Mn=Ko,Tp=Ml,Dk=hi;function zk(e,t,r){const n=B_.secp256k1.sign(e,t),i=n.toCompactRawBytes(),s=se.Buffer.from(i.slice(0,32)),o=se.Buffer.from(i.slice(32,64)),a=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:s,s:o,v:a}}vn.ecsign=zk;function Xl(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function Jl(e){return e===BigInt(0)||e===BigInt(1)}const jk=function(e,t,r,n,i){const s=se.Buffer.concat([(0,Mn.setLengthLeft)(r,32),(0,Mn.setLengthLeft)(n,32)],64),o=Xl(t,i);if(!Jl(o))throw new Error("Invalid signature v value");const c=B_.secp256k1.Signature.fromCompact(s).addRecoveryBit(Number(o)).recoverPublicKey(e);return se.Buffer.from(c.toRawBytes(!1).slice(1))};vn.ecrecover=jk;const qk=function(e,t,r,n){const i=Xl(e,n);if(!Jl(i))throw new Error("Invalid signature v value");return(0,Mn.bufferToHex)(se.Buffer.concat([(0,Mn.setLengthLeft)(t,32),(0,Mn.setLengthLeft)(r,32),(0,Mn.toBuffer)(e)]))};vn.toRpcSig=qk;const Vk=function(e,t,r,n){const i=Xl(e,n);if(!Jl(i))throw new Error("Invalid signature v value");let s=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(s=se.Buffer.from(r),s[0]|=128),(0,Mn.bufferToHex)(se.Buffer.concat([(0,Mn.setLengthLeft)(t,32),(0,Mn.setLengthLeft)(s,32)]))};vn.toCompactSig=Vk;const Kk=function(e){const t=(0,Mn.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,Mn.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,Mn.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};vn.fromRpcSig=Kk;const Wk=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!Jl(Xl(e,i)))return!1;const s=(0,Mn.bufferToBigInt)(t),o=(0,Mn.bufferToBigInt)(r);return!(s===BigInt(0)||s>=Tp.SECP256K1_ORDER||o===BigInt(0)||o>=Tp.SECP256K1_ORDER||n&&o>=Tp.SECP256K1_ORDER_DIV_2)};vn.isValidSignature=Wk;const Gk=function(e){(0,Dk.assertIsBuffer)(e);const t=se.Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return se.Buffer.from((0,Hk.keccak256)(se.Buffer.concat([t,e])))};vn.hashPersonalMessage=Gk;var T_={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=o=>o.length>0&&o[o.length-1]===16;e.hasTerminator=t;const r=(o,a)=>{for(let c=0,u=0;u<o.length;c+=1,u+=2)a[c]=o[u]<<4|o[u+1]};e.nibblesToBytes=r;const n=o=>{let a=0;(0,e.hasTerminator)(o)&&(a=1,o=o.subarray(0,o.length-1));const c=new Uint8Array(o.length/2+1);return c[0]=a<<5,(o.length&1)===1&&(c[0]|=16,c[0]|=o[0],o=o.subarray(1)),(0,e.nibblesToBytes)(o,c.subarray(1)),c};e.nibblesToCompactBytes=n;const i=o=>{const a=o.length*2+1,c=new Uint8Array(a);for(let u=0;u<o.length;u++){const l=o[u];c[u*2]=l/16,c[u*2+1]=l%16}return c[a-1]=16,c};e.bytesToNibbles=i;const s=o=>{if(o.length===0)return o;let a=(0,e.bytesToNibbles)(o);a[0]<2&&(a=a.subarray(0,a.length-1));const c=2-(a[0]&1);return a.subarray(c)};e.compactBytesToNibbles=s})(T_);var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.AsyncEventEmitter=void 0;const Zk=si.exports;async function Yk(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((s,o)=>{i.call(e,r,a=>{a?o(a):s()})})}catch(s){n=s}if(n)throw n}class Xk extends Zk.EventEmitter{emit(t,...r){let[n,i]=r;const s=this;let o=s._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),o=Array.isArray(o)?o:[o],Yk(s,o.slice(),n).then(i).catch(i),s.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(s,o){n.removeListener(t,i),r(s,o)}:i=function(s){n.removeListener(t,i),r(s,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let s=this._events[t]??[],o,a;const c=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[t]=s=[s]),a=s.length,o=s.length;o--;)if(s[o]===r){a=o+c;break}return s.splice(a,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}Ql.AsyncEventEmitter=Xk;var eh={};Object.defineProperty(eh,"__esModule",{value:!0}),eh.Lock=void 0;class Jk{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}eh.Lock=Jk;var ec={},Wo={},vr=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Wi=[],di=[],Qk=typeof Uint8Array<"u"?Uint8Array:Array,Ip=!1;function I_(){Ip=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)Wi[t]=e[t],di[e.charCodeAt(t)]=t;di["-".charCodeAt(0)]=62,di["_".charCodeAt(0)]=63}function eC(e){Ip||I_();var t,r,n,i,s,o,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[a-2]==="="?2:e[a-1]==="="?1:0,o=new Qk(a*3/4-s),n=s>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=di[e.charCodeAt(t)]<<18|di[e.charCodeAt(t+1)]<<12|di[e.charCodeAt(t+2)]<<6|di[e.charCodeAt(t+3)],o[c++]=i>>16&255,o[c++]=i>>8&255,o[c++]=i&255;return s===2?(i=di[e.charCodeAt(t)]<<2|di[e.charCodeAt(t+1)]>>4,o[c++]=i&255):s===1&&(i=di[e.charCodeAt(t)]<<10|di[e.charCodeAt(t+1)]<<4|di[e.charCodeAt(t+2)]>>2,o[c++]=i>>8&255,o[c++]=i&255),o}function tC(e){return Wi[e>>18&63]+Wi[e>>12&63]+Wi[e>>6&63]+Wi[e&63]}function rC(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(tC(n));return i.join("")}function R_(e){Ip||I_();for(var t,r=e.length,n=r%3,i="",s=[],o=16383,a=0,c=r-n;a<c;a+=o)s.push(rC(e,a,a+o>c?c:a+o));return n===1?(t=e[r-1],i+=Wi[t>>2],i+=Wi[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=Wi[t>>10],i+=Wi[t>>4&63],i+=Wi[t<<2&63],i+="="),s.push(i),s.join("")}function th(e,t,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,_=r?-1:1,w=e[t+h];for(h+=_,s=w&(1<<-l)-1,w>>=-l,l+=a;l>0;s=s*256+e[t+h],h+=_,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+h],h+=_,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(w?-1:1)*o*Math.pow(2,s-n)}function k_(e,t,r,n,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,h=l>>1,_=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,A=n?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=_/c:t+=_*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+w]=a&255,w+=A,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+w]=o&255,w+=A,o/=256,u-=8);e[r+w-A]|=k*128}var nC={}.toString,C_=Array.isArray||function(e){return nC.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var iC=50;he.TYPED_ARRAY_SUPPORT=vr.TYPED_ARRAY_SUPPORT!==void 0?vr.TYPED_ARRAY_SUPPORT:!0,rh();function rh(){return he.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ms(e,t){if(rh()<t)throw new RangeError("Invalid typed array length");return he.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=he.prototype):(e===null&&(e=new he(t)),e.length=t),e}function he(e,t,r){if(!he.TYPED_ARRAY_SUPPORT&&!(this instanceof he))return new he(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Rp(this,e)}return $_(this,e,t,r)}he.poolSize=8192,he._augment=function(e){return e.__proto__=he.prototype,e};function $_(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?aC(e,t,r,n):typeof t=="string"?oC(e,t,r):cC(e,t)}he.from=function(e,t,r){return $_(null,e,t,r)},he.TYPED_ARRAY_SUPPORT&&(he.prototype.__proto__=Uint8Array.prototype,he.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&he[Symbol.species]);function L_(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function sC(e,t,r,n){return L_(t),t<=0?ms(e,t):r!==void 0?typeof n=="string"?ms(e,t).fill(r,n):ms(e,t).fill(r):ms(e,t)}he.alloc=function(e,t,r){return sC(null,e,t,r)};function Rp(e,t){if(L_(t),e=ms(e,t<0?0:Cp(t)|0),!he.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}he.allocUnsafe=function(e){return Rp(null,e)},he.allocUnsafeSlow=function(e){return Rp(null,e)};function oC(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!he.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=O_(t,r)|0;e=ms(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function kp(e,t){var r=t.length<0?0:Cp(t.length)|0;e=ms(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function aC(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),he.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=he.prototype):e=kp(e,t),e}function cC(e,t){if(Gi(t)){var r=Cp(t.length)|0;return e=ms(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||TC(t.length)?ms(e,0):kp(e,t);if(t.type==="Buffer"&&C_(t.data))return kp(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Cp(e){if(e>=rh())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+rh().toString(16)+" bytes");return e|0}he.isBuffer=IC;function Gi(e){return!!(e!=null&&e._isBuffer)}he.compare=function(t,r){if(!Gi(t)||!Gi(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(t[s]!==r[s]){n=t[s],i=r[s];break}return n<i?-1:i<n?1:0},he.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},he.concat=function(t,r){if(!C_(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return he.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=he.allocUnsafe(r),s=0;for(n=0;n<t.length;++n){var o=t[n];if(!Gi(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function O_(e,t){if(Gi(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return sh(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return j_(e).length;default:if(n)return sh(e).length;t=(""+t).toLowerCase(),n=!0}}he.byteLength=O_;function uC(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return bC(this,t,r);case"utf8":case"utf-8":return P_(this,t,r);case"ascii":return wC(this,t,r);case"latin1":case"binary":return mC(this,t,r);case"base64":return gC(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}he.prototype._isBuffer=!0;function Go(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}he.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)Go(this,r,r+1);return this},he.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)Go(this,r,r+3),Go(this,r+1,r+2);return this},he.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)Go(this,r,r+7),Go(this,r+1,r+6),Go(this,r+2,r+5),Go(this,r+3,r+4);return this},he.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?P_(this,0,t):uC.apply(this,arguments)},he.prototype.equals=function(t){if(!Gi(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:he.compare(this,t)===0},he.prototype.inspect=function(){var t="",r=iC;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},he.prototype.compare=function(t,r,n,i,s){if(!Gi(t))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===t)return 0;for(var o=s-i,a=n-r,c=Math.min(o,a),u=this.slice(i,s),l=t.slice(r,n),h=0;h<c;++h)if(u[h]!==l[h]){o=u[h],a=l[h];break}return o<a?-1:a<o?1:0};function U_(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=he.from(t,n)),Gi(t))return t.length===0?-1:M_(e,t,r,n,i);if(typeof t=="number")return t=t&255,he.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):M_(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function M_(e,t,r,n,i){var s=1,o=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,a/=2,r/=2}function c(w,A){return s===1?w[A]:w.readUInt16BE(A*s)}var u;if(i){var l=-1;for(u=r;u<o;u++)if(c(e,u)===c(t,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*s}else l!==-1&&(u-=u-l),l=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){for(var h=!0,_=0;_<a;_++)if(c(e,u+_)!==c(t,_)){h=!1;break}if(h)return u}return-1}he.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1},he.prototype.indexOf=function(t,r,n){return U_(this,t,r,n,!0)},he.prototype.lastIndexOf=function(t,r,n){return U_(this,t,r,n,!1)};function fC(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(o*2,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function lC(e,t,r,n){return oh(sh(t,e.length-r),e,r,n)}function N_(e,t,r,n){return oh(AC(t),e,r,n)}function hC(e,t,r,n){return N_(e,t,r,n)}function dC(e,t,r,n){return oh(j_(t),e,r,n)}function pC(e,t,r,n){return oh(BC(t,e.length-r),e,r,n)}he.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return fC(this,t,r,n);case"utf8":case"utf-8":return lC(this,t,r,n);case"ascii":return N_(this,t,r,n);case"latin1":case"binary":return hC(this,t,r,n);case"base64":return dC(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pC(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},he.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gC(e,t,r){return t===0&&r===e.length?R_(e):R_(e.slice(t,r))}function P_(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var c,u,l,h;switch(a){case 1:s<128&&(o=s);break;case 2:c=e[i+1],(c&192)===128&&(h=(s&31)<<6|c&63,h>127&&(o=h));break;case 3:c=e[i+1],u=e[i+2],(c&192)===128&&(u&192)===128&&(h=(s&15)<<12|(c&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],(c&192)===128&&(u&192)===128&&(l&192)===128&&(h=(s&15)<<18|(c&63)<<12|(u&63)<<6|l&63,h>65535&&h<1114112&&(o=h))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return yC(n)}var F_=4096;function yC(e){var t=e.length;if(t<=F_)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=F_));return r}function wC(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function mC(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function bC(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=SC(e[s]);return i}function _C(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}he.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i;if(he.TYPED_ARRAY_SUPPORT)i=this.subarray(t,r),i.__proto__=he.prototype;else{var s=r-t;i=new he(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+t]}return i};function tn(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}he.prototype.readUIntLE=function(t,r,n){t=t|0,r=r|0,n||tn(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return i},he.prototype.readUIntBE=function(t,r,n){t=t|0,r=r|0,n||tn(t,r,this.length);for(var i=this[t+--r],s=1;r>0&&(s*=256);)i+=this[t+--r]*s;return i},he.prototype.readUInt8=function(t,r){return r||tn(t,1,this.length),this[t]},he.prototype.readUInt16LE=function(t,r){return r||tn(t,2,this.length),this[t]|this[t+1]<<8},he.prototype.readUInt16BE=function(t,r){return r||tn(t,2,this.length),this[t]<<8|this[t+1]},he.prototype.readUInt32LE=function(t,r){return r||tn(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},he.prototype.readUInt32BE=function(t,r){return r||tn(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},he.prototype.readIntLE=function(t,r,n){t=t|0,r=r|0,n||tn(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i},he.prototype.readIntBE=function(t,r,n){t=t|0,r=r|0,n||tn(t,r,this.length);for(var i=r,s=1,o=this[t+--i];i>0&&(s*=256);)o+=this[t+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o},he.prototype.readInt8=function(t,r){return r||tn(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},he.prototype.readInt16LE=function(t,r){r||tn(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},he.prototype.readInt16BE=function(t,r){r||tn(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},he.prototype.readInt32LE=function(t,r){return r||tn(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},he.prototype.readInt32BE=function(t,r){return r||tn(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},he.prototype.readFloatLE=function(t,r){return r||tn(t,4,this.length),th(this,t,!0,23,4)},he.prototype.readFloatBE=function(t,r){return r||tn(t,4,this.length),th(this,t,!1,23,4)},he.prototype.readDoubleLE=function(t,r){return r||tn(t,8,this.length),th(this,t,!0,52,8)},he.prototype.readDoubleBE=function(t,r){return r||tn(t,8,this.length),th(this,t,!1,52,8)};function Nn(e,t,r,n,i,s){if(!Gi(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}he.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Nn(this,t,r,n,s,0)}var o=1,a=0;for(this[r]=t&255;++a<n&&(o*=256);)this[r+a]=t/o&255;return r+n},he.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Nn(this,t,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=t&255;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+n},he.prototype.writeUInt8=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,1,255,0),he.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t&255,r+1};function nh(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}he.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,2,65535,0),he.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):nh(this,t,r,!0),r+2},he.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,2,65535,0),he.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):nh(this,t,r,!1),r+2};function ih(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>(n?i:3-i)*8&255}he.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,4,4294967295,0),he.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255):ih(this,t,r,!0),r+4},he.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,4,4294967295,0),he.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):ih(this,t,r,!1),r+4},he.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);Nn(this,t,r,n,s-1,-s)}var o=0,a=1,c=0;for(this[r]=t&255;++o<n&&(a*=256);)t<0&&c===0&&this[r+o-1]!==0&&(c=1),this[r+o]=(t/a>>0)-c&255;return r+n},he.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);Nn(this,t,r,n,s-1,-s)}var o=n-1,a=1,c=0;for(this[r+o]=t&255;--o>=0&&(a*=256);)t<0&&c===0&&this[r+o+1]!==0&&(c=1),this[r+o]=(t/a>>0)-c&255;return r+n},he.prototype.writeInt8=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,1,127,-128),he.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=t&255,r+1},he.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,2,32767,-32768),he.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):nh(this,t,r,!0),r+2},he.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,2,32767,-32768),he.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):nh(this,t,r,!1),r+2},he.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,4,2147483647,-2147483648),he.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):ih(this,t,r,!0),r+4},he.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r|0,n||Nn(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),he.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):ih(this,t,r,!1),r+4};function H_(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D_(e,t,r,n,i){return i||H_(e,t,r,4),k_(e,t,r,n,23,4),r+4}he.prototype.writeFloatLE=function(t,r,n){return D_(this,t,r,!0,n)},he.prototype.writeFloatBE=function(t,r,n){return D_(this,t,r,!1,n)};function z_(e,t,r,n,i){return i||H_(e,t,r,8),k_(e,t,r,n,52,8),r+8}he.prototype.writeDoubleLE=function(t,r,n){return z_(this,t,r,!0,n)},he.prototype.writeDoubleBE=function(t,r,n){return z_(this,t,r,!1,n)},he.prototype.copy=function(t,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var s=i-n,o;if(this===t&&n<r&&r<i)for(o=s-1;o>=0;--o)t[o+r]=this[o+n];else if(s<1e3||!he.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+r]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),r);return s},he.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var s=t.charCodeAt(0);s<256&&(t=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!he.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{var a=Gi(t)?t:sh(new he(t,i).toString()),c=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%c]}return this};var vC=/[^+\/0-9A-Za-z-_]/g;function xC(e){if(e=EC(e).replace(vC,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function EC(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function SC(e){return e<16?"0"+e.toString(16):e.toString(16)}function sh(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function AC(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function BC(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function j_(e){return eC(xC(e))}function oh(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function TC(e){return e!==e}function IC(e){return e!=null&&(!!e._isBuffer||q_(e)||RC(e))}function q_(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function RC(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&q_(e.slice(0,0))}function V_(){throw new Error("setTimeout has not been defined")}function K_(){throw new Error("clearTimeout has not been defined")}var Qs=V_,eo=K_;typeof vr.setTimeout=="function"&&(Qs=setTimeout),typeof vr.clearTimeout=="function"&&(eo=clearTimeout);function W_(e){if(Qs===setTimeout)return setTimeout(e,0);if((Qs===V_||!Qs)&&setTimeout)return Qs=setTimeout,setTimeout(e,0);try{return Qs(e,0)}catch{try{return Qs.call(null,e,0)}catch{return Qs.call(this,e,0)}}}function kC(e){if(eo===clearTimeout)return clearTimeout(e);if((eo===K_||!eo)&&clearTimeout)return eo=clearTimeout,clearTimeout(e);try{return eo(e)}catch{try{return eo.call(null,e)}catch{return eo.call(this,e)}}}var bs=[],tc=!1,Zo,ah=-1;function CC(){!tc||!Zo||(tc=!1,Zo.length?bs=Zo.concat(bs):ah=-1,bs.length&&G_())}function G_(){if(!tc){var e=W_(CC);tc=!0;for(var t=bs.length;t;){for(Zo=bs,bs=[];++ah<t;)Zo&&Zo[ah].run();ah=-1,t=bs.length}Zo=null,tc=!1,kC(e)}}function ei(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];bs.push(new Z_(e,t)),bs.length===1&&!tc&&W_(G_)}function Z_(e,t){this.fun=e,this.array=t}Z_.prototype.run=function(){this.fun.apply(null,this.array)};var $C="browser",LC="browser",OC=!0,UC={},MC=[],NC="",PC={},FC={},HC={};function Yo(){}var DC=Yo,zC=Yo,jC=Yo,qC=Yo,VC=Yo,KC=Yo,WC=Yo;function GC(e){throw new Error("process.binding is not supported")}function ZC(){return"/"}function YC(e){throw new Error("process.chdir is not supported")}function XC(){return 0}var rc=vr.performance||{},JC=rc.now||rc.mozNow||rc.msNow||rc.oNow||rc.webkitNow||function(){return new Date().getTime()};function QC(e){var t=JC.call(rc)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}var e$=new Date;function t$(){var e=new Date,t=e-e$;return t/1e3}var Pn={nextTick:ei,title:$C,browser:OC,env:UC,argv:MC,version:NC,versions:PC,on:DC,addListener:zC,once:jC,off:qC,removeListener:VC,removeAllListeners:KC,emit:WC,binding:GC,cwd:ZC,chdir:YC,umask:XC,hrtime:QC,platform:LC,release:FC,config:HC,uptime:t$},$p=xu(vr.fetch)&&xu(vr.ReadableStream),vu;function r$(){if(typeof vu<"u")return vu;try{new vr.Blob([new ArrayBuffer(1)]),vu=!0}catch{vu=!1}return vu}var Xo;function Lp(e){Xo||(Xo=new vr.XMLHttpRequest,Xo.open("GET",vr.location.host?"/":"https://example.com"));try{return Xo.responseType=e,Xo.responseType===e}catch{return!1}}var Op=typeof vr.ArrayBuffer<"u",n$=Op&&xu(vr.ArrayBuffer.prototype.slice),i$=Op&&Lp("arraybuffer"),s$=!$p&&n$&&Lp("ms-stream"),o$=!$p&&Op&&Lp("moz-chunked-arraybuffer"),Y_=xu(Xo.overrideMimeType),a$=xu(vr.VBArray);function xu(e){return typeof e=="function"}Xo=null;var Up;typeof Object.create=="function"?Up=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:Up=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t};var rn=Up,X_=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i]);return n},c$=/%[sdj%]/g;function ch(e){if(!to(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Zi(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(e).replace(c$,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])_s(o)||!vs(o)?s+=" "+o:s+=" "+Zi(o);return s}function uh(e,t){if(Yi(vr.process))return function(){return uh(e,t).apply(this,arguments)};if(Pn.noDeprecation===!0)return e;var r=!1;function n(){if(!r){if(Pn.throwDeprecation)throw new Error(t);Pn.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n}var fh={},Mp;function Np(e){if(Yi(Mp)&&(Mp=Pn.env.NODE_DEBUG||""),e=e.toUpperCase(),!fh[e])if(new RegExp("\\b"+e+"\\b","i").test(Mp)){var t=0;fh[e]=function(){var r=ch.apply(null,arguments);console.error("%s %d: %s",e,t,r)}}else fh[e]=function(){};return fh[e]}function Zi(e,t){var r={seen:[],stylize:f$};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),hh(t)?r.showHidden=t:t&&Vp(r,t),Yi(r.showHidden)&&(r.showHidden=!1),Yi(r.depth)&&(r.depth=2),Yi(r.colors)&&(r.colors=!1),Yi(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u$),lh(r,e,r.depth)}Zi.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Zi.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u$(e,t){var r=Zi.styles[t];return r?"\x1B["+Zi.colors[r][0]+"m"+e+"\x1B["+Zi.colors[r][1]+"m":e}function f$(e,t){return e}function l$(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function lh(e,t,r){if(e.customInspect&&t&&Au(t.inspect)&&t.inspect!==Zi&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return to(n)||(n=lh(e,n,r)),n}var i=h$(e,t);if(i)return i;var s=Object.keys(t),o=l$(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),Su(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Pp(t);if(s.length===0){if(Au(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Eu(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(dh(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Su(t))return Pp(t)}var c="",u=!1,l=["{","}"];if(Hp(t)&&(u=!0,l=["[","]"]),Au(t)){var h=t.name?": "+t.name:"";c=" [Function"+h+"]"}if(Eu(t)&&(c=" "+RegExp.prototype.toString.call(t)),dh(t)&&(c=" "+Date.prototype.toUTCString.call(t)),Su(t)&&(c=" "+Pp(t)),s.length===0&&(!u||t.length==0))return l[0]+c+l[1];if(r<0)return Eu(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var _;return u?_=d$(e,t,r,o,s):_=s.map(function(w){return Fp(e,t,r,o,w,u)}),e.seen.pop(),p$(_,c,l)}function h$(e,t){if(Yi(t))return e.stylize("undefined","undefined");if(to(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(zp(t))return e.stylize(""+t,"number");if(hh(t))return e.stylize(""+t,"boolean");if(_s(t))return e.stylize("null","null")}function Pp(e){return"["+Error.prototype.toString.call(e)+"]"}function d$(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)rv(t,String(o))?s.push(Fp(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push(Fp(e,t,r,n,c,!0))}),s}function Fp(e,t,r,n,i,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?c.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),rv(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(_s(r)?a=lh(e,c.value,null):a=lh(e,c.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),Yi(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function p$(e,t,r){var n=e.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function Hp(e){return Array.isArray(e)}function hh(e){return typeof e=="boolean"}function _s(e){return e===null}function Dp(e){return e==null}function zp(e){return typeof e=="number"}function to(e){return typeof e=="string"}function J_(e){return typeof e=="symbol"}function Yi(e){return e===void 0}function Eu(e){return vs(e)&&jp(e)==="[object RegExp]"}function vs(e){return typeof e=="object"&&e!==null}function dh(e){return vs(e)&&jp(e)==="[object Date]"}function Su(e){return vs(e)&&(jp(e)==="[object Error]"||e instanceof Error)}function Au(e){return typeof e=="function"}function Q_(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}function ev(e){return he.isBuffer(e)}function jp(e){return Object.prototype.toString.call(e)}function qp(e){return e<10?"0"+e.toString(10):e.toString(10)}var g$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function y$(){var e=new Date,t=[qp(e.getHours()),qp(e.getMinutes()),qp(e.getSeconds())].join(":");return[e.getDate(),g$[e.getMonth()],t].join(" ")}function tv(){console.log("%s - %s",y$(),ch.apply(null,arguments))}function Vp(e,t){if(!t||!vs(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function rv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Jo=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Kp(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Jo&&e[Jo]){var t=e[Jo];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Jo,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,n,i=new Promise(function(a,c){r=a,n=c}),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push(function(a,c){a?n(a):r(c)});try{e.apply(this,s)}catch(a){n(a)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Jo&&Object.defineProperty(t,Jo,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,X_(e))}Kp.custom=Jo;function w$(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function nv(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,r).then(function(a){Pn.nextTick(o.bind(null,null,a))},function(a){Pn.nextTick(w$.bind(null,a,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,X_(e)),t}var m$={inherits:rn,_extend:Vp,log:tv,isBuffer:ev,isPrimitive:Q_,isFunction:Au,isError:Su,isDate:dh,isObject:vs,isRegExp:Eu,isUndefined:Yi,isSymbol:J_,isString:to,isNumber:zp,isNullOrUndefined:Dp,isNull:_s,isBoolean:hh,isArray:Hp,inspect:Zi,deprecate:uh,format:ch,debuglog:Np,promisify:Kp,callbackify:nv},b$=Object.freeze({__proto__:null,format:ch,deprecate:uh,debuglog:Np,inspect:Zi,isArray:Hp,isBoolean:hh,isNull:_s,isNullOrUndefined:Dp,isNumber:zp,isString:to,isSymbol:J_,isUndefined:Yi,isRegExp:Eu,isObject:vs,isDate:dh,isError:Su,isFunction:Au,isPrimitive:Q_,isBuffer:ev,log:tv,inherits:rn,_extend:Vp,promisify:Kp,callbackify:nv,default:m$});function Qo(){this.head=null,this.tail=null,this.length=0}Qo.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},Qo.prototype.unshift=function(e){var t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},Qo.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},Qo.prototype.clear=function(){this.head=this.tail=null,this.length=0},Qo.prototype.join=function(e){if(this.length===0)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},Qo.prototype.concat=function(e){if(this.length===0)return se.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var t=se.Buffer.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Wp=Wf.exports.Buffer,iv=Wp.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _$(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function v$(e){var t=_$(e);if(typeof t!="string"&&(Wp.isEncoding===iv||!iv(e)))throw new Error("Unknown encoding: "+e);return t||e}var sv=Bu;function Bu(e){this.encoding=v$(e);var t;switch(this.encoding){case"utf16le":this.text=T$,this.end=I$,t=4;break;case"utf8":this.fillLast=S$,t=4;break;case"base64":this.text=R$,this.end=k$,t=3;break;default:this.write=C$,this.end=$$;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Wp.allocUnsafe(t)}Bu.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Bu.prototype.end=B$,Bu.prototype.text=A$,Bu.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Gp(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function x$(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Gp(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Gp(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Gp(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function E$(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function S$(e){var t=this.lastTotal-this.lastNeed,r=E$(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function A$(e,t){var r=x$(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function B$(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function T$(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function I$(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function R$(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function k$(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function C$(e){return e.toString(this.encoding)}function $$(e){return e&&e.length?this.write(e):""}pr.ReadableState=ov;var Yt=Np("stream");rn(pr,si.exports);function L$(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function O$(e,t){return e.listeners(t).length}function ov(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof pi&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Qo,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new sv(e.encoding),this.encoding=e.encoding)}function pr(e){if(!(this instanceof pr))return new pr(e);this._readableState=new ov(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),si.exports.call(this)}pr.prototype.push=function(e,t){var r=this._readableState;return!r.objectMode&&typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=he.from(e,t),t="")),av(this,r,e,t,!1)},pr.prototype.unshift=function(e){var t=this._readableState;return av(this,t,e,"",!0)},pr.prototype.isPaused=function(){return this._readableState.flowing===!1};function av(e,t,r,n,i){var s=N$(t,r);if(s)e.emit("error",s);else if(r===null)t.reading=!1,P$(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;t.decoder&&!i&&!n&&(r=t.decoder.write(r),c=!t.objectMode&&r.length===0),i||(t.reading=!1),c||(t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&ph(e))),F$(e,t)}else i||(t.reading=!1);return U$(t)}function U$(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}pr.prototype.setEncoding=function(e){return this._readableState.decoder=new sv(e),this._readableState.encoding=e,this};var cv=8388608;function M$(e){return e>=cv?e=cv:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function uv(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=M$(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}pr.prototype.read=function(e){Yt("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Yt("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Yp(this):ph(this),null;if(e=uv(e,t),e===0&&t.ended)return t.length===0&&Yp(this),null;var n=t.needReadable;Yt("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Yt("length less than watermark",n)),t.ended||t.reading?(n=!1,Yt("reading or ended",n)):n&&(Yt("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=uv(r,t)));var i;return e>0?i=lv(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Yp(this)),i!==null&&this.emit("data",i),i};function N$(e,t){var r=null;return!he.isBuffer(t)&&typeof t!="string"&&t!==null&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function P$(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,ph(e)}}function ph(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Yt("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?ei(fv,e):fv(e))}function fv(e){Yt("emit readable"),e.emit("readable"),Zp(e)}function F$(e,t){t.readingMore||(t.readingMore=!0,ei(H$,e,t))}function H$(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Yt("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}pr.prototype._read=function(e){this.emit("error",new Error("not implemented"))},pr.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Yt("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||t.end!==!1,s=i?a:l;n.endEmitted?ei(s):r.once("end",s),e.on("unpipe",o);function o(H){Yt("onunpipe"),H===r&&l()}function a(){Yt("onend"),e.end()}var c=D$(r);e.on("drain",c);var u=!1;function l(){Yt("cleanup"),e.removeListener("close",A),e.removeListener("finish",k),e.removeListener("drain",c),e.removeListener("error",w),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",l),r.removeListener("data",_),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}var h=!1;r.on("data",_);function _(H){Yt("ondata"),h=!1;var P=e.write(H);P===!1&&!h&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&hv(n.pipes,e)!==-1)&&!u&&(Yt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function w(H){Yt("onerror",H),I(),e.removeListener("error",w),O$(e,"error")===0&&e.emit("error",H)}L$(e,"error",w);function A(){e.removeListener("finish",k),I()}e.once("close",A);function k(){Yt("onfinish"),e.removeListener("close",A),I()}e.once("finish",k);function I(){Yt("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(Yt("pipe resume"),r.resume()),e};function D$(e){return function(){var t=e._readableState;Yt("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&e.listeners("data").length&&(t.flowing=!0,Zp(e))}}pr.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=hv(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},pr.prototype.on=function(e,t){var r=si.exports.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&ph(this):ei(z$,this))}return r},pr.prototype.addListener=pr.prototype.on;function z$(e){Yt("readable nexttick read 0"),e.read(0)}pr.prototype.resume=function(){var e=this._readableState;return e.flowing||(Yt("resume"),e.flowing=!0,j$(this,e)),this};function j$(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ei(q$,e,t))}function q$(e,t){t.reading||(Yt("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Zp(e),t.flowing&&!t.reading&&e.read(0)}pr.prototype.pause=function(){return Yt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Yt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Zp(e){var t=e._readableState;for(Yt("flow",t.flowing);t.flowing&&e.read()!==null;);}pr.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(Yt("wrapped end"),t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),e.on("data",function(o){if(Yt("wrapped data"),t.decoder&&(o=t.decoder.write(o)),!(t.objectMode&&o==null)&&!(!t.objectMode&&(!o||!o.length))){var a=n.push(o);a||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));var s=["error","close","destroy","pause","resume"];return Z$(s,function(o){e.on(o,n.emit.bind(n,o))}),n._read=function(o){Yt("wrapped _read",o),r&&(r=!1,e.resume())},n},pr._fromList=lv;function lv(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=V$(e,t.buffer,t.decoder),r}function V$(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?K$(e,t):W$(e,t),n}function K$(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}function W$(e,t){var r=he.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}function Yp(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,ei(G$,t,e))}function G$(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Z$(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function hv(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}qr.WritableState=Xp,rn(qr,si.exports.EventEmitter);function Y$(){}function X$(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function Xp(e,t){Object.defineProperty(this,"buffer",{get:uh(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof pi&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){iL(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new mv(this)}Xp.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};function qr(e){if(!(this instanceof qr)&&!(this instanceof pi))return new qr(e);this._writableState=new Xp(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),si.exports.EventEmitter.call(this)}qr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function J$(e,t){var r=new Error("write after end");e.emit("error",r),ei(t,r)}function Q$(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):!se.Buffer.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),ei(n,s),i=!1),i}qr.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return typeof t=="function"&&(r=t,t=null),se.Buffer.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Y$),n.ended?J$(this,r):Q$(this,n,e,r)&&(n.pendingcb++,i=tL(this,n,e,t,r)),i},qr.prototype.cork=function(){var e=this._writableState;e.corked++},qr.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&pv(this,e))},qr.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function eL(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=se.Buffer.from(t,r)),t}function tL(e,t,r,n,i){r=eL(t,r,n),se.Buffer.isBuffer(r)&&(n="buffer");var s=t.objectMode?1:r.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new X$(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Jp(e,t,!1,s,r,n,i);return o}function Jp(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function rL(e,t,r,n,i){--t.pendingcb,r?ei(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function nL(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function iL(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(nL(r),t)rL(e,r,n,t,i);else{var s=gv(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&pv(e,r),n?ei(dv,e,r,s,i):dv(e,r,s,i)}}function dv(e,t,r,n){r||sL(e,t),t.pendingcb--,n(),wv(e,t)}function sL(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function pv(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;Jp(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new mv(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback,l=t.objectMode?1:a.length;if(Jp(e,t,!1,l,a,c,u),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}qr.prototype._write=function(e,t,r){r(new Error("not implemented"))},qr.prototype._writev=null,qr.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&oL(this,n,r)};function gv(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function yv(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function wv(e,t){var r=gv(t);return r&&(t.pendingcb===0?(yv(e,t),t.finished=!0,e.emit("finish")):yv(e,t)),r}function oL(e,t,r){t.ending=!0,wv(e,t),r&&(t.finished?ei(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function mv(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}rn(pi,pr);for(var bv=Object.keys(qr.prototype),Qp=0;Qp<bv.length;Qp++){var eg=bv[Qp];pi.prototype[eg]||(pi.prototype[eg]=qr.prototype[eg])}function pi(e){if(!(this instanceof pi))return new pi(e);pr.call(this,e),qr.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",aL)}function aL(){this.allowHalfOpen||this._writableState.ended||ei(cL,this)}function cL(e){e.end()}rn(gi,pi);function uL(e){this.afterTransform=function(t,r){return fL(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function fL(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}function gi(e){if(!(this instanceof gi))return new gi(e);pi.call(this,e),this._transformState=new uL(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){_v(t,r)}):_v(t)})}gi.prototype.push=function(e,t){return this._transformState.needTransform=!1,pi.prototype.push.call(this,e,t)},gi.prototype._transform=function(e,t,r){throw new Error("Not implemented")},gi.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},gi.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};function _v(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}rn(Tu,gi);function Tu(e){if(!(this instanceof Tu))return new Tu(e);gi.call(this,e)}Tu.prototype._transform=function(e,t,r){r(null,e)},rn(xs,si.exports),xs.Readable=pr,xs.Writable=qr,xs.Duplex=pi,xs.Transform=gi,xs.PassThrough=Tu,xs.Stream=xs;function xs(){si.exports.call(this)}xs.prototype.pipe=function(e,t){var r=this;function n(l){e.writable&&e.write(l)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function c(l){if(u(),si.exports.listenerCount(this,"error")===0)throw l}r.on("error",c),e.on("error",c);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var ea={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};function gh(e,t,r){var n=this;pr.call(n),n._mode=r,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){Pn.nextTick(function(){n.emit("close")})});var i;if(r==="fetch"){n._fetchResponse=t,n.url=t.url,n.statusCode=t.status,n.statusMessage=t.statusText;for(var s,o,a=t.headers[Symbol.iterator]();s=(o=a.next()).value,!o.done;)n.headers[s[0].toLowerCase()]=s[1],n.rawHeaders.push(s[0],s[1]);var c=t.body.getReader();i=function(){c.read().then(function(_){if(!n._destroyed){if(_.done){n.push(null);return}n.push(new he(_.value)),i()}})},i()}else{n._xhr=e,n._pos=0,n.url=e.responseURL,n.statusCode=e.status,n.statusMessage=e.statusText;var u=e.getAllResponseHeaders().split(/\r?\n/);if(u.forEach(function(_){var w=_.match(/^([^:]+):\s*(.*)/);if(w){var A=w[1].toLowerCase();A==="set-cookie"?(n.headers[A]===void 0&&(n.headers[A]=[]),n.headers[A].push(w[2])):n.headers[A]!==void 0?n.headers[A]+=", "+w[2]:n.headers[A]=w[2],n.rawHeaders.push(w[1],w[2])}}),n._charset="x-user-defined",!Y_){var l=n.rawHeaders["mime-type"];if(l){var h=l.match(/;\s*charset=([^;])(;|$)/);h&&(n._charset=h[1].toLowerCase())}n._charset||(n._charset="utf-8")}}}rn(gh,pr),gh.prototype._read=function(){},gh.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==ea.DONE)break;try{r=new vr.VBArray(t.responseBody).toArray()}catch{}if(r!==null){e.push(new he(r));break}case"text":try{r=t.responseText}catch{e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if(e._charset==="x-user-defined"){for(var i=new he(n.length),s=0;s<n.length;s++)i[s]=n.charCodeAt(s)&255;e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==ea.DONE||!t.response)break;r=t.response,e.push(new he(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==ea.LOADING||!r)break;e.push(new he(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==ea.LOADING)break;var o=new vr.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new he(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(r);break}e._xhr.readyState===ea.DONE&&e._mode!=="ms-stream"&&e.push(null)};function lL(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength)return e.buffer;if(typeof e.buffer.slice=="function")return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(se.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}else throw new Error("Argument must be a Buffer")}function hL(e,t){return $p&&t?"fetch":o$?"moz-chunked-arraybuffer":s$?"ms-stream":i$&&e?"arraybuffer":a$&&e?"text:vbarray":"text"}function fn(e){var t=this;qr.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new he(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(i){t.setHeader(i,e.headers[i])});var r,n=!0;if(e.mode==="disable-fetch")n=!1,r=!0;else if(e.mode==="prefer-streaming")r=!1;else if(e.mode==="allow-wrong-content-type")r=!Y_;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");t._mode=hL(r,n),t.on("finish",function(){t._onFinish()})}rn(fn,qr);var dL=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];fn.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();dL.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})},fn.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value},fn.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},fn.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,r=e._headers,n;if((t.method==="POST"||t.method==="PUT"||t.method==="PATCH")&&(r$()?n=new vr.Blob(e._body.map(function(o){return lL(o)}),{type:(r["content-type"]||{}).value||""}):n=he.concat(e._body).toString()),e._mode==="fetch"){var i=Object.keys(r).map(function(o){return[r[o].name,r[o].value]});vr.fetch(e._opts.url,{method:e._opts.method,headers:i,body:n,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(o){e._fetchResponse=o,e._connect()},function(o){e.emit("error",o)})}else{var s=e._xhr=new vr.XMLHttpRequest;try{s.open(e._opts.method,e._opts.url,!0)}catch(o){Pn.nextTick(function(){e.emit("error",o)});return}"responseType"in s&&(s.responseType=e._mode.split(":")[0]),"withCredentials"in s&&(s.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(r).forEach(function(o){s.setRequestHeader(r[o].name,r[o].value)}),e._response=null,s.onreadystatechange=function(){switch(s.readyState){case ea.LOADING:case ea.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(s.onprogress=function(){e._onXHRProgress()}),s.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{s.send(n)}catch(o){Pn.nextTick(function(){e.emit("error",o)});return}}}};function pL(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}fn.prototype._onXHRProgress=function(){var e=this;!pL(e._xhr)||e._destroyed||(e._response||e._connect(),e._response._onXHRProgress())},fn.prototype._connect=function(){var e=this;e._destroyed||(e._response=new gh(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},fn.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()},fn.prototype.abort=fn.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},fn.prototype.end=function(e,t,r){var n=this;typeof e=="function"&&(r=e,e=void 0),qr.prototype.end.call(n,e,t,r)},fn.prototype.flushHeaders=function(){},fn.prototype.setTimeout=function(){},fn.prototype.setNoDelay=function(){},fn.prototype.setSocketKeepAlive=function(){};const tg=2147483647,Iu=36,vv=1,rg=26,gL=38,yL=700,wL=72,mL=128,bL="-",_L=/[^\0-\x7F]/,vL=/[\x2E\u3002\uFF0E\uFF61]/g,xL={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ng=Iu-vv,nc=Math.floor,ig=String.fromCharCode;function xv(e){throw new RangeError(xL[e])}function EL(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function SL(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(vL,".");const i=e.split("."),s=EL(i,t).join(".");return n+s}function AL(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const Ev=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},BL=function(e,t,r){let n=0;for(e=r?nc(e/yL):e>>1,e+=nc(e/t);e>ng*rg>>1;n+=Iu)e=nc(e/ng);return nc(n+(ng+1)*e/(e+gL))},TL=function(e){const t=[];e=AL(e);const r=e.length;let n=mL,i=0,s=wL;for(const c of e)c<128&&t.push(ig(c));const o=t.length;let a=o;for(o&&t.push(bL);a<r;){let c=tg;for(const l of e)l>=n&&l<c&&(c=l);const u=a+1;c-n>nc((tg-i)/u)&&xv("overflow"),i+=(c-n)*u,n=c;for(const l of e)if(l<n&&++i>tg&&xv("overflow"),l===n){let h=i;for(let _=Iu;;_+=Iu){const w=_<=s?vv:_>=s+rg?rg:_-s;if(h<w)break;const A=h-w,k=Iu-w;t.push(ig(Ev(w+A%k,0))),h=nc(A/k)}t.push(ig(Ev(h,0))),s=BL(i,u,a===o),i=0,++a}++i,++n}return t.join("")},IL=function(e){return SL(e,function(t){return _L.test(t)?"xn--"+TL(t):t})};function RL(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Sv=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Ru(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function kL(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Av(CL(e),function(i){var s=encodeURIComponent(Ru(i))+r;return Sv(e[i])?Av(e[i],function(o){return s+encodeURIComponent(Ru(o))}).join(t):s+encodeURIComponent(Ru(e[i]))}).join(t):n?encodeURIComponent(Ru(n))+r+encodeURIComponent(Ru(e)):""}function Av(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var CL=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function Bv(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var s=/\+/g;e=e.split(t);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var c=0;c<a;++c){var u=e[c].replace(s,"%20"),l=u.indexOf(r),h,_,w,A;l>=0?(h=u.substr(0,l),_=u.substr(l+1)):(h=u,_=""),w=decodeURIComponent(h),A=decodeURIComponent(_),RL(i,w)?Sv(i[w])?i[w].push(A):i[w]=[i[w],A]:i[w]=A}return i}const Tv=vr.URL,Iv=vr.URLSearchParams;var $L={parse:ta,resolve:Uv,resolveObject:Mv,fileURLToPath:Lv,format:Ov,Url:ti,URL:Tv,URLSearchParams:Iv};function ti(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var LL=/^([a-z0-9.+-]+:)/i,OL=/:[0-9]*$/,UL=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ML=["<",">",'"',"`"," ","\r",`
`,"	"],NL=["{","}","|","\\","^","`"].concat(ML),sg=["'"].concat(NL),Rv=["%","/","?",";","#"].concat(sg),kv=["/","?","#"],PL=255,Cv=/^[+a-z0-9A-Z_-]{0,63}$/,FL=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,HL={javascript:!0,"javascript:":!0},og={javascript:!0,"javascript:":!0},ic={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ta(e,t,r){if(e&&vs(e)&&e instanceof ti)return e;var n=new ti;return n.parse(e,t,r),n}ti.prototype.parse=function(e,t,r){return $v(this,e,t,r)};function $v(e,t,r,n){if(!to(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=i!==-1&&i<t.indexOf("#")?"?":"#",o=t.split(s),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(s);var c=t;if(c=c.trim(),!n&&t.split("#").length===1){var u=UL.exec(c);if(u)return e.path=c,e.href=c,e.pathname=u[1],u[2]?(e.search=u[2],r?e.query=Bv(e.search.substr(1)):e.query=e.search.substr(1)):r&&(e.search="",e.query={}),e}var l=LL.exec(c);if(l){l=l[0];var h=l.toLowerCase();e.protocol=h,c=c.substr(l.length)}if(n||l||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var _=c.substr(0,2)==="//";_&&!(l&&og[l])&&(c=c.substr(2),e.slashes=!0)}var w,A,k,I;if(!og[l]&&(_||l&&!ic[l])){var H=-1;for(w=0;w<kv.length;w++)A=c.indexOf(kv[w]),A!==-1&&(H===-1||A<H)&&(H=A);var P,C;for(H===-1?C=c.lastIndexOf("@"):C=c.lastIndexOf("@",H),C!==-1&&(P=c.slice(0,C),c=c.slice(C+1),e.auth=decodeURIComponent(P)),H=-1,w=0;w<Rv.length;w++)A=c.indexOf(Rv[w]),A!==-1&&(H===-1||A<H)&&(H=A);H===-1&&(H=c.length),e.host=c.slice(0,H),c=c.slice(H),Nv(e),e.hostname=e.hostname||"";var $=e.hostname[0]==="["&&e.hostname[e.hostname.length-1]==="]";if(!$){var q=e.hostname.split(/\./);for(w=0,k=q.length;w<k;w++){var W=q[w];if(W&&!W.match(Cv)){for(var V="",z=0,X=W.length;z<X;z++)W.charCodeAt(z)>127?V+="x":V+=W[z];if(!V.match(Cv)){var re=q.slice(0,w),ee=q.slice(w+1),R=W.match(FL);R&&(re.push(R[1]),ee.unshift(R[2])),ee.length&&(c="/"+ee.join(".")+c),e.hostname=re.join(".");break}}}}e.hostname.length>PL?e.hostname="":e.hostname=e.hostname.toLowerCase(),$||(e.hostname=IL(e.hostname)),I=e.port?":"+e.port:"";var y=e.hostname||"";e.host=y+I,e.href+=e.host,$&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!HL[h])for(w=0,k=sg.length;w<k;w++){var f=sg[w];if(c.indexOf(f)!==-1){var d=encodeURIComponent(f);d===f&&(d=escape(f)),c=c.split(f).join(d)}}var b=c.indexOf("#");b!==-1&&(e.hash=c.substr(b),c=c.slice(0,b));var x=c.indexOf("?");if(x!==-1?(e.search=c.substr(x),e.query=c.substr(x+1),r&&(e.query=Bv(e.query)),c=c.slice(0,x)):r&&(e.search="",e.query={}),c&&(e.pathname=c),ic[h]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){I=e.pathname||"";var E=e.search||"";e.path=I+E}return e.href=ag(e),e}function Lv(e){if(typeof e=="string")e=new ti().parse(e);else if(!(e instanceof ti))throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+String(e));if(e.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return DL(e)}function DL(e){const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("must not include encoded / characters")}return decodeURIComponent(t)}function Ov(e){return to(e)&&(e=$v({},e)),ag(e)}function ag(e){var t=e.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",i=e.hash||"",s=!1,o="";e.host?s=t+e.host:e.hostname&&(s=t+(e.hostname.indexOf(":")===-1?e.hostname:"["+this.hostname+"]"),e.port&&(s+=":"+e.port)),e.query&&vs(e.query)&&Object.keys(e.query).length&&(o=kL(e.query));var a=e.search||o&&"?"+o||"";return r&&r.substr(-1)!==":"&&(r+=":"),e.slashes||(!r||ic[r])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),i&&i.charAt(0)!=="#"&&(i="#"+i),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),a=a.replace("#","%23"),r+s+n+a+i}ti.prototype.format=function(){return ag(this)};function Uv(e,t){return ta(e,!1,!0).resolve(t)}ti.prototype.resolve=function(e){return this.resolveObject(ta(e,!1,!0)).format()};function Mv(e,t){return e?ta(e,!1,!0).resolveObject(t):t}ti.prototype.resolveObject=function(e){if(to(e)){var t=new ti;t.parse(e,!1,!0),e=t}for(var r=new ti,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=e[c])}return ic[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}var u;if(e.protocol&&e.protocol!==r.protocol){if(!ic[e.protocol]){for(var l=Object.keys(e),h=0;h<l.length;h++){var _=l[h];r[_]=e[_]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!og[e.protocol]){for(u=(e.pathname||"").split("/");u.length&&!(e.host=u.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),u[0]!==""&&u.unshift(""),u.length<2&&u.unshift(""),r.pathname=u.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var w=r.pathname||"",A=r.search||"";r.path=w+A}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var k=r.pathname&&r.pathname.charAt(0)==="/",I=e.host||e.pathname&&e.pathname.charAt(0)==="/",H=I||k||r.host&&e.pathname,P=H,C=r.pathname&&r.pathname.split("/")||[],$=r.protocol&&!ic[r.protocol];u=e.pathname&&e.pathname.split("/")||[],$&&(r.hostname="",r.port=null,r.host&&(C[0]===""?C[0]=r.host:C.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(u[0]===""?u[0]=e.host:u.unshift(e.host)),e.host=null),H=H&&(u[0]===""||C[0]===""));var q;if(I)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=u;else if(u.length)C||(C=[]),C.pop(),C=C.concat(u),r.search=e.search,r.query=e.query;else if(!Dp(e.search))return $&&(r.hostname=r.host=C.shift(),q=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,q&&(r.auth=q.shift(),r.host=r.hostname=q.shift())),r.search=e.search,r.query=e.query,(!_s(r.pathname)||!_s(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var W=C.slice(-1)[0],V=(r.host||e.host||C.length>1)&&(W==="."||W==="..")||W==="",z=0,X=C.length;X>=0;X--)W=C[X],W==="."?C.splice(X,1):W===".."?(C.splice(X,1),z++):z&&(C.splice(X,1),z--);if(!H&&!P)for(;z--;z)C.unshift("..");H&&C[0]!==""&&(!C[0]||C[0].charAt(0)!=="/")&&C.unshift(""),V&&C.join("/").substr(-1)!=="/"&&C.push("");var re=C[0]===""||C[0]&&C[0].charAt(0)==="/";return $&&(r.hostname=r.host=re?"":C.length?C.shift():"",q=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,q&&(r.auth=q.shift(),r.host=r.hostname=q.shift())),H=H||r.host&&C.length,H&&!re&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),(!_s(r.pathname)||!_s(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},ti.prototype.parseHost=function(){return Nv(this)};function Nv(e){var t=e.host,r=OL.exec(t);r&&(r=r[0],r!==":"&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}var zL=Object.freeze({__proto__:null,parse:ta,resolve:Uv,resolveObject:Mv,fileURLToPath:Lv,format:Ov,URL:Tv,URLSearchParams:Iv,default:$L,Url:ti});function cg(e,t){typeof e=="string"&&(e=ta(e));var r=vr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,s=e.port,o=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(s?":"+s:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new fn(e);return t&&a.on("response",t),a}function Pv(e,t){var r=cg(e,t);return r.end(),r}function ug(){}ug.defaultMaxSockets=4;var Fv=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Hv={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},jL={request:cg,get:Pv,Agent:ug,METHODS:Fv,STATUS_CODES:Hv},qL=Object.freeze({__proto__:null,request:cg,get:Pv,Agent:ug,METHODS:Fv,STATUS_CODES:Hv,default:jL}),VL=ni(qL);function fg(e,t){typeof e=="string"&&(e=ta(e));var r=vr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,s=e.port,o=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(s?":"+s:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new fn(e);return t&&a.on("response",t),a}function Dv(e,t){var r=fg(e,t);return r.end(),r}function lg(){}lg.defaultMaxSockets=4;var zv=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],jv={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},KL={request:fg,get:Dv,Agent:lg,METHODS:zv,STATUS_CODES:jv},WL=Object.freeze({__proto__:null,request:fg,get:Dv,Agent:lg,METHODS:zv,STATUS_CODES:jv,default:KL}),GL=ni(WL),qv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function ZL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Es(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var s=0;s<n;s++)e[i+s]=t[r+s]}var yh=Uint8Array,yi=Uint16Array,wh=Int32Array,YL=4,Vv=0,Kv=1,XL=2;function sc(e){for(var t=e.length;--t>=0;)e[t]=0}var JL=0,Wv=1,QL=2,eO=3,tO=258,hg=29,ku=256,Cu=ku+1+hg,oc=30,dg=19,Gv=2*Cu+1,ra=15,pg=16,rO=7,gg=256,Zv=16,Yv=17,Xv=18,yg=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],mh=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nO=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Jv=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],iO=512,Ss=new Array((Cu+2)*2);sc(Ss);var $u=new Array(oc*2);sc($u);var Lu=new Array(iO);sc(Lu);var Ou=new Array(tO-eO+1);sc(Ou);var wg=new Array(hg);sc(wg);var bh=new Array(oc);sc(bh);function mg(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var Qv,e2,t2;function bg(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function r2(e){return e<256?Lu[e]:Lu[256+(e>>>7)]}function Uu(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Fn(e,t,r){e.bi_valid>pg-r?(e.bi_buf|=t<<e.bi_valid&65535,Uu(e,e.bi_buf),e.bi_buf=t>>pg-e.bi_valid,e.bi_valid+=r-pg):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Xi(e,t,r){Fn(e,r[t*2],r[t*2+1])}function n2(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function sO(e){e.bi_valid===16?(Uu(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function oO(e,t){var r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length,u,l,h,_,w,A,k=0;for(_=0;_<=ra;_++)e.bl_count[_]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Gv;u++)l=e.heap[u],_=r[r[l*2+1]*2+1]+1,_>c&&(_=c,k++),r[l*2+1]=_,!(l>n)&&(e.bl_count[_]++,w=0,l>=a&&(w=o[l-a]),A=r[l*2],e.opt_len+=A*(_+w),s&&(e.static_len+=A*(i[l*2+1]+w)));if(k!==0){do{for(_=c-1;e.bl_count[_]===0;)_--;e.bl_count[_]--,e.bl_count[_+1]+=2,e.bl_count[c]--,k-=2}while(k>0);for(_=c;_!==0;_--)for(l=e.bl_count[_];l!==0;)h=e.heap[--u],!(h>n)&&(r[h*2+1]!==_&&(e.opt_len+=(_-r[h*2+1])*r[h*2],r[h*2+1]=_),l--)}}function i2(e,t,r){var n=new Array(ra+1),i=0,s,o;for(s=1;s<=ra;s++)n[s]=i=i+r[s-1]<<1;for(o=0;o<=t;o++){var a=e[o*2+1];a!==0&&(e[o*2]=n2(n[a]++,a))}}function aO(){var e,t,r,n,i,s=new Array(ra+1);for(r=0,n=0;n<hg-1;n++)for(wg[n]=r,e=0;e<1<<yg[n];e++)Ou[r++]=n;for(Ou[r-1]=n,i=0,n=0;n<16;n++)for(bh[n]=i,e=0;e<1<<mh[n];e++)Lu[i++]=n;for(i>>=7;n<oc;n++)for(bh[n]=i<<7,e=0;e<1<<mh[n]-7;e++)Lu[256+i++]=n;for(t=0;t<=ra;t++)s[t]=0;for(e=0;e<=143;)Ss[e*2+1]=8,e++,s[8]++;for(;e<=255;)Ss[e*2+1]=9,e++,s[9]++;for(;e<=279;)Ss[e*2+1]=7,e++,s[7]++;for(;e<=287;)Ss[e*2+1]=8,e++,s[8]++;for(i2(Ss,Cu+1,s),e=0;e<oc;e++)$u[e*2+1]=5,$u[e*2]=n2(e,5);Qv=new mg(Ss,yg,ku+1,Cu,ra),e2=new mg($u,mh,0,oc,ra),t2=new mg(new Array(0),nO,0,dg,rO)}function s2(e){var t;for(t=0;t<Cu;t++)e.dyn_ltree[t*2]=0;for(t=0;t<oc;t++)e.dyn_dtree[t*2]=0;for(t=0;t<dg;t++)e.bl_tree[t*2]=0;e.dyn_ltree[gg*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function o2(e){e.bi_valid>8?Uu(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function cO(e,t,r,n){o2(e),n&&(Uu(e,r),Uu(e,~r)),Es(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function a2(e,t,r,n){var i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function _g(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&a2(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!a2(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function c2(e,t,r){var n,i,s=0,o,a;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],i=e.pending_buf[e.l_buf+s],s++,n===0?Xi(e,i,t):(o=Ou[i],Xi(e,o+ku+1,t),a=yg[o],a!==0&&(i-=wg[o],Fn(e,i,a)),n--,o=r2(n),Xi(e,o,r),a=mh[o],a!==0&&(n-=bh[o],Fn(e,n,a)));while(s<e.last_lit);Xi(e,gg,t)}function vg(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems,o,a,c=-1,u;for(e.heap_len=0,e.heap_max=Gv,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)_g(e,r,o);u=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_g(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[u*2]=r[o*2]+r[a*2],e.depth[u]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[o*2+1]=r[a*2+1]=u,e.heap[1]=u++,_g(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],oO(e,t),i2(r,c,e.bl_count)}function u2(e,t,r){var n,i=-1,s,o=t[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++a<c&&s===o)&&(a<u?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[Zv*2]++):a<=10?e.bl_tree[Yv*2]++:e.bl_tree[Xv*2]++,a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))}function f2(e,t,r){var n,i=-1,s,o=t[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++a<c&&s===o)){if(a<u)do Xi(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Xi(e,s,e.bl_tree),a--),Xi(e,Zv,e.bl_tree),Fn(e,a-3,2)):a<=10?(Xi(e,Yv,e.bl_tree),Fn(e,a-3,3)):(Xi(e,Xv,e.bl_tree),Fn(e,a-11,7));a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}}function uO(e){var t;for(u2(e,e.dyn_ltree,e.l_desc.max_code),u2(e,e.dyn_dtree,e.d_desc.max_code),vg(e,e.bl_desc),t=dg-1;t>=3&&e.bl_tree[Jv[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function fO(e,t,r,n){var i;for(Fn(e,t-257,5),Fn(e,r-1,5),Fn(e,n-4,4),i=0;i<n;i++)Fn(e,e.bl_tree[Jv[i]*2+1],3);f2(e,e.dyn_ltree,t-1),f2(e,e.dyn_dtree,r-1)}function lO(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Vv;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Kv;for(r=32;r<ku;r++)if(e.dyn_ltree[r*2]!==0)return Kv;return Vv}var l2=!1;function hO(e){l2||(aO(),l2=!0),e.l_desc=new bg(e.dyn_ltree,Qv),e.d_desc=new bg(e.dyn_dtree,e2),e.bl_desc=new bg(e.bl_tree,t2),e.bi_buf=0,e.bi_valid=0,s2(e)}function h2(e,t,r,n){Fn(e,(JL<<1)+(n?1:0),3),cO(e,t,r,!0)}function dO(e){Fn(e,Wv<<1,3),Xi(e,gg,Ss),sO(e)}function pO(e,t,r,n){var i,s,o=0;e.level>0?(e.strm.data_type===XL&&(e.strm.data_type=lO(e)),vg(e,e.l_desc),vg(e,e.d_desc),o=uO(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?h2(e,t,r,n):e.strategy===YL||s===i?(Fn(e,(Wv<<1)+(n?1:0),3),c2(e,Ss,$u)):(Fn(e,(QL<<1)+(n?1:0),3),fO(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),c2(e,e.dyn_ltree,e.dyn_dtree)),s2(e),n&&o2(e)}function ro(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Ou[r]+ku+1)*2]++,e.dyn_dtree[r2(t)*2]++),e.last_lit===e.lit_bufsize-1}function xg(e,t,r,n){for(var i=e&65535|0,s=e>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}function gO(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var yO=gO();function nn(e,t,r,n){var i=yO,s=n+r;e^=-1;for(var o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1}var na=0,wO=1,mO=3,no=4,d2=5,io=0,p2=1,so=-2,bO=-3,Eg=-5,_O=-1,vO=1,_h=2,xO=3,EO=4,SO=2,Sg=8,AO=9,BO=29,TO=256,Ag=TO+1+BO,IO=30,RO=19,kO=2*Ag+1,CO=15,jt=3,oo=258,Si=oo+jt+1,$O=32,Bg=42,Tg=69,vh=73,xh=91,Eh=103,ia=113,Mu=666,Vr=1,Nu=2,sa=3,ac=4,LO=3;function ao(e,t){return e.msg=qv[t],t}function g2(e){return(e<<1)-(e>4?9:0)}function oa(e){for(var t=e.length;--t>=0;)e[t]=0}function co(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Es(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function ln(e,t){pO(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,co(e.strm)}function Dt(e,t){e.pending_buf[e.pending++]=t}function Pu(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function OO(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,Es(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=xg(e.adler,t,i,r):e.state.wrap===2&&(e.adler=nn(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function y2(e,t){var r=e.max_chain_length,n=e.strstart,i,s,o=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-Si?e.strstart-(e.w_size-Si):0,u=e.window,l=e.w_mask,h=e.prev,_=e.strstart+oo,w=u[n+o-1],A=u[n+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(u[i+o]!==A||u[i+o-1]!==w||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<_);if(s=oo-(_-n),n=_-oo,s>o){if(e.match_start=t,o=s,s>=a)break;w=u[n+o-1],A=u[n+o]}}while((t=h[t&l])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead}function Fu(e){var t=e.w_size,r,n,i,s,o;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Si)){Es(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);s+=t}if(e.strm.avail_in===0)break;if(n=OO(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=jt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+jt-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<jt)););}while(e.lookahead<Si&&e.strm.avail_in!==0)}function UO(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fu(e),e.lookahead===0&&t===na)return Vr;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,ln(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Si&&(ln(e,!1),e.strm.avail_out===0))return Vr}return e.insert=0,t===no?(ln(e,!0),e.strm.avail_out===0?sa:ac):(e.strstart>e.block_start&&(ln(e,!1),e.strm.avail_out===0),Vr)}function Ig(e,t){for(var r,n;;){if(e.lookahead<Si){if(Fu(e),e.lookahead<Si&&t===na)return Vr;if(e.lookahead===0)break}if(r=0,e.lookahead>=jt&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+jt-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Si&&(e.match_length=y2(e,r)),e.match_length>=jt)if(n=ro(e,e.strstart-e.match_start,e.match_length-jt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=jt){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+jt-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=ro(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ln(e,!1),e.strm.avail_out===0))return Vr}return e.insert=e.strstart<jt-1?e.strstart:jt-1,t===no?(ln(e,!0),e.strm.avail_out===0?sa:ac):e.last_lit&&(ln(e,!1),e.strm.avail_out===0)?Vr:Nu}function cc(e,t){for(var r,n,i;;){if(e.lookahead<Si){if(Fu(e),e.lookahead<Si&&t===na)return Vr;if(e.lookahead===0)break}if(r=0,e.lookahead>=jt&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+jt-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=jt-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Si&&(e.match_length=y2(e,r),e.match_length<=5&&(e.strategy===vO||e.match_length===jt&&e.strstart-e.match_start>4096)&&(e.match_length=jt-1)),e.prev_length>=jt&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-jt,n=ro(e,e.strstart-1-e.prev_match,e.prev_length-jt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+jt-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=jt-1,e.strstart++,n&&(ln(e,!1),e.strm.avail_out===0))return Vr}else if(e.match_available){if(n=ro(e,0,e.window[e.strstart-1]),n&&ln(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Vr}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=ro(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<jt-1?e.strstart:jt-1,t===no?(ln(e,!0),e.strm.avail_out===0?sa:ac):e.last_lit&&(ln(e,!1),e.strm.avail_out===0)?Vr:Nu}function MO(e,t){for(var r,n,i,s,o=e.window;;){if(e.lookahead<=oo){if(Fu(e),e.lookahead<=oo&&t===na)return Vr;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=jt&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+oo;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=oo-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=jt?(r=ro(e,1,e.match_length-jt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=ro(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ln(e,!1),e.strm.avail_out===0))return Vr}return e.insert=0,t===no?(ln(e,!0),e.strm.avail_out===0?sa:ac):e.last_lit&&(ln(e,!1),e.strm.avail_out===0)?Vr:Nu}function NO(e,t){for(var r;;){if(e.lookahead===0&&(Fu(e),e.lookahead===0)){if(t===na)return Vr;break}if(e.match_length=0,r=ro(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ln(e,!1),e.strm.avail_out===0))return Vr}return e.insert=0,t===no?(ln(e,!0),e.strm.avail_out===0?sa:ac):e.last_lit&&(ln(e,!1),e.strm.avail_out===0)?Vr:Nu}function Ji(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var uc;uc=[new Ji(0,0,0,0,UO),new Ji(4,4,8,4,Ig),new Ji(4,5,16,8,Ig),new Ji(4,6,32,32,Ig),new Ji(4,4,16,16,cc),new Ji(8,16,32,32,cc),new Ji(8,16,128,128,cc),new Ji(8,32,128,256,cc),new Ji(32,128,258,1024,cc),new Ji(32,258,258,4096,cc)];function PO(e){e.window_size=2*e.w_size,oa(e.head),e.max_lazy_match=uc[e.level].max_lazy,e.good_match=uc[e.level].good_length,e.nice_match=uc[e.level].nice_length,e.max_chain_length=uc[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=jt-1,e.match_available=0,e.ins_h=0}function FO(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Sg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new yi(kO*2),this.dyn_dtree=new yi((2*IO+1)*2),this.bl_tree=new yi((2*RO+1)*2),oa(this.dyn_ltree),oa(this.dyn_dtree),oa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new yi(CO+1),this.heap=new yi(2*Ag+1),oa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new yi(2*Ag+1),oa(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function HO(e){var t;return!e||!e.state?ao(e,so):(e.total_in=e.total_out=0,e.data_type=SO,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Bg:ia,e.adler=t.wrap===2?0:1,t.last_flush=na,hO(t),io)}function w2(e){var t=HO(e);return t===io&&PO(e.state),t}function DO(e,t,r,n,i,s){if(!e)return so;var o=1;if(t===_O&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>AO||r!==Sg||n<8||n>15||t<0||t>9||s<0||s>EO)return ao(e,so);n===8&&(n=9);var a=new FO;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+jt-1)/jt),a.window=new yh(a.w_size*2),a.head=new yi(a.hash_size),a.prev=new yi(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new yh(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=t,a.strategy=s,a.method=r,w2(e)}function zO(e,t){var r,n,i,s;if(!e||!e.state||t>d2||t<0)return e?ao(e,so):so;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===Mu&&t!==no)return ao(e,e.avail_out===0?Eg:so);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===Bg)if(n.wrap===2)e.adler=0,Dt(n,31),Dt(n,139),Dt(n,8),n.gzhead?(Dt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Dt(n,n.gzhead.time&255),Dt(n,n.gzhead.time>>8&255),Dt(n,n.gzhead.time>>16&255),Dt(n,n.gzhead.time>>24&255),Dt(n,n.level===9?2:n.strategy>=_h||n.level<2?4:0),Dt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Dt(n,n.gzhead.extra.length&255),Dt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=nn(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Tg):(Dt(n,0),Dt(n,0),Dt(n,0),Dt(n,0),Dt(n,0),Dt(n,n.level===9?2:n.strategy>=_h||n.level<2?4:0),Dt(n,LO),n.status=ia);else{var o=Sg+(n.w_bits-8<<4)<<8,a=-1;n.strategy>=_h||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,o|=a<<6,n.strstart!==0&&(o|=$O),o+=31-o%31,n.status=ia,Pu(n,o),n.strstart!==0&&(Pu(n,e.adler>>>16),Pu(n,e.adler&65535)),e.adler=1}if(n.status===Tg)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=nn(e.adler,n.pending_buf,n.pending-i,i)),co(e),i=n.pending,n.pending===n.pending_buf_size));)Dt(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=nn(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=vh)}else n.status=vh;if(n.status===vh)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=nn(e.adler,n.pending_buf,n.pending-i,i)),co(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Dt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=nn(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=xh)}else n.status=xh;if(n.status===xh)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=nn(e.adler,n.pending_buf,n.pending-i,i)),co(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Dt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=nn(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=Eh)}else n.status=Eh;if(n.status===Eh&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&co(e),n.pending+2<=n.pending_buf_size&&(Dt(n,e.adler&255),Dt(n,e.adler>>8&255),e.adler=0,n.status=ia)):n.status=ia),n.pending!==0){if(co(e),e.avail_out===0)return n.last_flush=-1,io}else if(e.avail_in===0&&g2(t)<=g2(r)&&t!==no)return ao(e,Eg);if(n.status===Mu&&e.avail_in!==0)return ao(e,Eg);if(e.avail_in!==0||n.lookahead!==0||t!==na&&n.status!==Mu){var c=n.strategy===_h?NO(n,t):n.strategy===xO?MO(n,t):uc[n.level].func(n,t);if((c===sa||c===ac)&&(n.status=Mu),c===Vr||c===sa)return e.avail_out===0&&(n.last_flush=-1),io;if(c===Nu&&(t===wO?dO(n):t!==d2&&(h2(n,0,0,!1),t===mO&&(oa(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),co(e),e.avail_out===0))return n.last_flush=-1,io}return t!==no?io:n.wrap<=0?p2:(n.wrap===2?(Dt(n,e.adler&255),Dt(n,e.adler>>8&255),Dt(n,e.adler>>16&255),Dt(n,e.adler>>24&255),Dt(n,e.total_in&255),Dt(n,e.total_in>>8&255),Dt(n,e.total_in>>16&255),Dt(n,e.total_in>>24&255)):(Pu(n,e.adler>>>16),Pu(n,e.adler&65535)),co(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?io:p2)}function jO(e){var t;return!e||!e.state?so:(t=e.state.status,t!==Bg&&t!==Tg&&t!==vh&&t!==xh&&t!==Eh&&t!==ia&&t!==Mu?ao(e,so):(e.state=null,t===ia?ao(e,bO):io))}var Sh=30,qO=12;function VO(e,t){var r,n,i,s,o,a,c,u,l,h,_,w,A,k,I,H,P,C,$,q,W,V,z,X,re;r=e.state,n=e.next_in,X=e.input,i=n+(e.avail_in-5),s=e.next_out,re=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,h=r.wnext,_=r.window,w=r.hold,A=r.bits,k=r.lencode,I=r.distcode,H=(1<<r.lenbits)-1,P=(1<<r.distbits)-1;e:do{A<15&&(w+=X[n++]<<A,A+=8,w+=X[n++]<<A,A+=8),C=k[w&H];t:for(;;){if($=C>>>24,w>>>=$,A-=$,$=C>>>16&255,$===0)re[s++]=C&65535;else if($&16){q=C&65535,$&=15,$&&(A<$&&(w+=X[n++]<<A,A+=8),q+=w&(1<<$)-1,w>>>=$,A-=$),A<15&&(w+=X[n++]<<A,A+=8,w+=X[n++]<<A,A+=8),C=I[w&P];r:for(;;){if($=C>>>24,w>>>=$,A-=$,$=C>>>16&255,$&16){if(W=C&65535,$&=15,A<$&&(w+=X[n++]<<A,A+=8,A<$&&(w+=X[n++]<<A,A+=8)),W+=w&(1<<$)-1,W>c){e.msg="invalid distance too far back",r.mode=Sh;break e}if(w>>>=$,A-=$,$=s-o,W>$){if($=W-$,$>l&&r.sane){e.msg="invalid distance too far back",r.mode=Sh;break e}if(V=0,z=_,h===0){if(V+=u-$,$<q){q-=$;do re[s++]=_[V++];while(--$);V=s-W,z=re}}else if(h<$){if(V+=u+h-$,$-=h,$<q){q-=$;do re[s++]=_[V++];while(--$);if(V=0,h<q){$=h,q-=$;do re[s++]=_[V++];while(--$);V=s-W,z=re}}}else if(V+=h-$,$<q){q-=$;do re[s++]=_[V++];while(--$);V=s-W,z=re}for(;q>2;)re[s++]=z[V++],re[s++]=z[V++],re[s++]=z[V++],q-=3;q&&(re[s++]=z[V++],q>1&&(re[s++]=z[V++]))}else{V=s-W;do re[s++]=re[V++],re[s++]=re[V++],re[s++]=re[V++],q-=3;while(q>2);q&&(re[s++]=re[V++],q>1&&(re[s++]=re[V++]))}}else if($&64){e.msg="invalid distance code",r.mode=Sh;break e}else{C=I[(C&65535)+(w&(1<<$)-1)];continue r}break}}else if($&64)if($&32){r.mode=qO;break e}else{e.msg="invalid literal/length code",r.mode=Sh;break e}else{C=k[(C&65535)+(w&(1<<$)-1)];continue t}break}}while(n<i&&s<a);q=A>>3,n-=q,A-=q<<3,w&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),r.hold=w,r.bits=A}var fc=15,m2=852,b2=592,_2=0,Rg=1,v2=2,KO=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],WO=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],GO=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ZO=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Hu(e,t,r,n,i,s,o,a){var c=a.bits,u=0,l=0,h=0,_=0,w=0,A=0,k=0,I=0,H=0,P=0,C,$,q,W,V,z=null,X=0,re,ee=new yi(fc+1),R=new yi(fc+1),y=null,f=0,d,b,x;for(u=0;u<=fc;u++)ee[u]=0;for(l=0;l<n;l++)ee[t[r+l]]++;for(w=c,_=fc;_>=1&&ee[_]===0;_--);if(w>_&&(w=_),_===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<_&&ee[h]===0;h++);for(w<h&&(w=h),I=1,u=1;u<=fc;u++)if(I<<=1,I-=ee[u],I<0)return-1;if(I>0&&(e===_2||_!==1))return-1;for(R[1]=0,u=1;u<fc;u++)R[u+1]=R[u]+ee[u];for(l=0;l<n;l++)t[r+l]!==0&&(o[R[t[r+l]]++]=l);if(e===_2?(z=y=o,re=19):e===Rg?(z=KO,X-=257,y=WO,f-=257,re=256):(z=GO,y=ZO,re=-1),P=0,l=0,u=h,V=s,A=w,k=0,q=-1,H=1<<w,W=H-1,e===Rg&&H>m2||e===v2&&H>b2)return 1;for(;;){d=u-k,o[l]<re?(b=0,x=o[l]):o[l]>re?(b=y[f+o[l]],x=z[X+o[l]]):(b=32+64,x=0),C=1<<u-k,$=1<<A,h=$;do $-=C,i[V+(P>>k)+$]=d<<24|b<<16|x|0;while($!==0);for(C=1<<u-1;P&C;)C>>=1;if(C!==0?(P&=C-1,P+=C):P=0,l++,--ee[u]===0){if(u===_)break;u=t[r+o[l]]}if(u>w&&(P&W)!==q){for(k===0&&(k=w),V+=h,A=u-k,I=1<<A;A+k<_&&(I-=ee[A+k],!(I<=0));)A++,I<<=1;if(H+=1<<A,e===Rg&&H>m2||e===v2&&H>b2)return 1;q=P&W,i[q]=w<<24|A<<16|V-s|0}}return P!==0&&(i[V+P]=u-k<<24|64<<16|0),a.bits=w,0}var YO=0,x2=1,E2=2,S2=4,XO=5,Ah=6,Du=0,JO=1,QO=2,uo=-2,eU=-3,tU=-4,rU=-5,A2=8,B2=1,T2=2,I2=3,R2=4,k2=5,C2=6,$2=7,L2=8,O2=9,U2=10,M2=11,As=12,kg=13,N2=14,Cg=15,P2=16,F2=17,H2=18,D2=19,Bh=20,Th=21,z2=22,j2=23,q2=24,V2=25,K2=26,$g=27,W2=28,G2=29,gr=30,nU=31,iU=32,sU=852,oU=592;function Z2(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function aU(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new yi(320),this.work=new yi(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function cU(e){var t;return!e||!e.state?uo:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=B2,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new wh(sU),t.distcode=t.distdyn=new wh(oU),t.sane=1,t.back=-1,Du)}function Y2(e){var t;return!e||!e.state?uo:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,cU(e))}function uU(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?uo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Y2(e))}function fU(e,t){var r,n;return e?(n=new aU,e.state=n,n.window=null,r=uU(e,t),r!==Du&&(e.state=null),r):uo}var X2=!0,Lg,Og;function lU(e){if(X2){var t;for(Lg=new wh(512),Og=new wh(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Hu(x2,e.lens,0,288,Lg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Hu(E2,e.lens,0,32,Og,0,e.work,{bits:5}),X2=!1}e.lencode=Lg,e.lenbits=9,e.distcode=Og,e.distbits=5}function hU(e,t,r,n){var i,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new yh(s.wsize)),n>=s.wsize?(Es(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),Es(s.window,t,r-n,i,s.wnext),n-=i,n?(Es(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function dU(e,t){var r,n,i,s,o,a,c,u,l,h,_,w,A,k,I=0,H,P,C,$,q,W,V,z,X=new yh(4),re,ee,R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return uo;r=e.state,r.mode===As&&(r.mode=kg),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,h=a,_=c,z=Du;e:for(;;)switch(r.mode){case B2:if(r.wrap===0){r.mode=kg;break}for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.wrap&2&&u===35615){r.check=0,X[0]=u&255,X[1]=u>>>8&255,r.check=nn(r.check,X,2,0),u=0,l=0,r.mode=T2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=gr;break}if((u&15)!==A2){e.msg="unknown compression method",r.mode=gr;break}if(u>>>=4,l-=4,V=(u&15)+8,r.wbits===0)r.wbits=V;else if(V>r.wbits){e.msg="invalid window size",r.mode=gr;break}r.dmax=1<<V,e.adler=r.check=1,r.mode=u&512?U2:As,u=0,l=0;break;case T2:for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==A2){e.msg="unknown compression method",r.mode=gr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=gr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(X[0]=u&255,X[1]=u>>>8&255,r.check=nn(r.check,X,2,0)),u=0,l=0,r.mode=I2;case I2:for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&(X[0]=u&255,X[1]=u>>>8&255,X[2]=u>>>16&255,X[3]=u>>>24&255,r.check=nn(r.check,X,4,0)),u=0,l=0,r.mode=R2;case R2:for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(X[0]=u&255,X[1]=u>>>8&255,r.check=nn(r.check,X,2,0)),u=0,l=0,r.mode=k2;case k2:if(r.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(X[0]=u&255,X[1]=u>>>8&255,r.check=nn(r.check,X,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=C2;case C2:if(r.flags&1024&&(w=r.length,w>a&&(w=a),w&&(r.head&&(V=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Es(r.head.extra,n,s,w,V)),r.flags&512&&(r.check=nn(r.check,n,w,s)),a-=w,s+=w,r.length-=w),r.length))break e;r.length=0,r.mode=$2;case $2:if(r.flags&2048){if(a===0)break e;w=0;do V=n[s+w++],r.head&&V&&r.length<65536&&(r.head.name+=String.fromCharCode(V));while(V&&w<a);if(r.flags&512&&(r.check=nn(r.check,n,w,s)),a-=w,s+=w,V)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=L2;case L2:if(r.flags&4096){if(a===0)break e;w=0;do V=n[s+w++],r.head&&V&&r.length<65536&&(r.head.comment+=String.fromCharCode(V));while(V&&w<a);if(r.flags&512&&(r.check=nn(r.check,n,w,s)),a-=w,s+=w,V)break e}else r.head&&(r.head.comment=null);r.mode=O2;case O2:if(r.flags&512){for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=gr;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=As;break;case U2:for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}e.adler=r.check=Z2(u),u=0,l=0,r.mode=M2;case M2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,QO;e.adler=r.check=1,r.mode=As;case As:if(t===XO||t===Ah)break e;case kg:if(r.last){u>>>=l&7,l-=l&7,r.mode=$g;break}for(;l<3;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=N2;break;case 1:if(lU(r),r.mode=Bh,t===Ah){u>>>=2,l-=2;break e}break;case 2:r.mode=F2;break;case 3:e.msg="invalid block type",r.mode=gr}u>>>=2,l-=2;break;case N2:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=gr;break}if(r.length=u&65535,u=0,l=0,r.mode=Cg,t===Ah)break e;case Cg:r.mode=P2;case P2:if(w=r.length,w){if(w>a&&(w=a),w>c&&(w=c),w===0)break e;Es(i,n,s,w,o),a-=w,s+=w,c-=w,o+=w,r.length-=w;break}r.mode=As;break;case F2:for(;l<14;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=gr;break}r.have=0,r.mode=H2;case H2:for(;r.have<r.ncode;){for(;l<3;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.lens[R[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,re={bits:r.lenbits},z=Hu(YO,r.lens,0,19,r.lencode,0,r.work,re),r.lenbits=re.bits,z){e.msg="invalid code lengths set",r.mode=gr;break}r.have=0,r.mode=D2;case D2:for(;r.have<r.nlen+r.ndist;){for(;I=r.lencode[u&(1<<r.lenbits)-1],H=I>>>24,P=I>>>16&255,C=I&65535,!(H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(C<16)u>>>=H,l-=H,r.lens[r.have++]=C;else{if(C===16){for(ee=H+2;l<ee;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u>>>=H,l-=H,r.have===0){e.msg="invalid bit length repeat",r.mode=gr;break}V=r.lens[r.have-1],w=3+(u&3),u>>>=2,l-=2}else if(C===17){for(ee=H+3;l<ee;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=H,l-=H,V=0,w=3+(u&7),u>>>=3,l-=3}else{for(ee=H+7;l<ee;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=H,l-=H,V=0,w=11+(u&127),u>>>=7,l-=7}if(r.have+w>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=gr;break}for(;w--;)r.lens[r.have++]=V}}if(r.mode===gr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=gr;break}if(r.lenbits=9,re={bits:r.lenbits},z=Hu(x2,r.lens,0,r.nlen,r.lencode,0,r.work,re),r.lenbits=re.bits,z){e.msg="invalid literal/lengths set",r.mode=gr;break}if(r.distbits=6,r.distcode=r.distdyn,re={bits:r.distbits},z=Hu(E2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,re),r.distbits=re.bits,z){e.msg="invalid distances set",r.mode=gr;break}if(r.mode=Bh,t===Ah)break e;case Bh:r.mode=Th;case Th:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,VO(e,_),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,r.mode===As&&(r.back=-1);break}for(r.back=0;I=r.lencode[u&(1<<r.lenbits)-1],H=I>>>24,P=I>>>16&255,C=I&65535,!(H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(P&&!(P&240)){for($=H,q=P,W=C;I=r.lencode[W+((u&(1<<$+q)-1)>>$)],H=I>>>24,P=I>>>16&255,C=I&65535,!($+H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=H,l-=H,r.back+=H,r.length=C,P===0){r.mode=K2;break}if(P&32){r.back=-1,r.mode=As;break}if(P&64){e.msg="invalid literal/length code",r.mode=gr;break}r.extra=P&15,r.mode=z2;case z2:if(r.extra){for(ee=r.extra;l<ee;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=j2;case j2:for(;I=r.distcode[u&(1<<r.distbits)-1],H=I>>>24,P=I>>>16&255,C=I&65535,!(H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(!(P&240)){for($=H,q=P,W=C;I=r.distcode[W+((u&(1<<$+q)-1)>>$)],H=I>>>24,P=I>>>16&255,C=I&65535,!($+H<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=H,l-=H,r.back+=H,P&64){e.msg="invalid distance code",r.mode=gr;break}r.offset=C,r.extra=P&15,r.mode=q2;case q2:if(r.extra){for(ee=r.extra;l<ee;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=gr;break}r.mode=V2;case V2:if(c===0)break e;if(w=_-c,r.offset>w){if(w=r.offset-w,w>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=gr;break}w>r.wnext?(w-=r.wnext,A=r.wsize-w):A=r.wnext-w,w>r.length&&(w=r.length),k=r.window}else k=i,A=o-r.offset,w=r.length;w>c&&(w=c),c-=w,r.length-=w;do i[o++]=k[A++];while(--w);r.length===0&&(r.mode=Th);break;case K2:if(c===0)break e;i[o++]=r.length,c--,r.mode=Th;break;case $g:if(r.wrap){for(;l<32;){if(a===0)break e;a--,u|=n[s++]<<l,l+=8}if(_-=c,e.total_out+=_,r.total+=_,_&&(e.adler=r.check=r.flags?nn(r.check,i,_,o-_):xg(r.check,i,_,o-_)),_=c,(r.flags?u:Z2(u))!==r.check){e.msg="incorrect data check",r.mode=gr;break}u=0,l=0}r.mode=W2;case W2:if(r.wrap&&r.flags){for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=gr;break}u=0,l=0}r.mode=G2;case G2:z=JO;break e;case gr:z=eU;break e;case nU:return tU;case iU:default:return uo}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,(r.wsize||_!==e.avail_out&&r.mode<gr&&(r.mode<$g||t!==S2))&&hU(e,e.output,e.next_out,_-e.avail_out),h-=e.avail_in,_-=e.avail_out,e.total_in+=h,e.total_out+=_,r.total+=_,r.wrap&&_&&(e.adler=r.check=r.flags?nn(r.check,i,_,e.next_out-_):xg(r.check,i,_,e.next_out-_)),e.data_type=r.bits+(r.last?64:0)+(r.mode===As?128:0)+(r.mode===Bh||r.mode===Cg?256:0),(h===0&&_===0||t===S2)&&z===Du&&(z=rU),z}function pU(e){if(!e||!e.state)return uo;var t=e.state;return t.window&&(t.window=null),e.state=null,Du}var Ug=0,lc=1,Ih=2,zu=3,Rh=4,hc=5,ju=6,qu=7,J2=0,Q2=1,ex=2,tx=3,Mg=4,rx=5,gU=6,kh=0,nx=1,ix=2,yU=-1,wU=-2,mU=-3,sx=-5,bU=0,_U=1,vU=9,xU=-1,EU=1,SU=2,AU=3,BU=4,TU=0,IU=0,RU=1,kU=2,ox=8;function Ai(e){if(e<lc||e>qu)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}Ai.prototype.init=function(e,t,r,n,i){this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=n,(this.mode===zu||this.mode===Rh)&&(this.windowBits+=16),this.mode===qu&&(this.windowBits+=32),(this.mode===hc||this.mode===ju)&&(this.windowBits=-this.windowBits),this.strm=new ZL;var s;switch(this.mode){case lc:case zu:case hc:s=DO(this.strm,this.level,ox,this.windowBits,this.memLevel,this.strategy);break;case Ih:case Rh:case ju:case qu:s=fU(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(s!==kh){this._error(s);return}this.write_in_progress=!1,this.init_done=!0},Ai.prototype.params=function(){throw new Error("deflateParams Not supported")},Ai.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===Ug)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Ai.prototype.write=function(e,t,r,n,i,s,o){this._writeCheck(),this.write_in_progress=!0;var a=this;return Pn.nextTick(function(){a.write_in_progress=!1;var c=a._write(e,t,r,n,i,s,o);a.callback(c[0],c[1]),a.pending_close&&a.close()}),this};function CU(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}Ai.prototype.writeSync=function(e,t,r,n,i,s,o){return this._writeCheck(),this._write(e,t,r,n,i,s,o)},Ai.prototype._write=function(e,t,r,n,i,s,o){if(this.write_in_progress=!0,e!==J2&&e!==Q2&&e!==ex&&e!==tx&&e!==Mg&&e!==rx)throw new Error("Invalid flush value");t==null&&(t=new he(0),n=0,r=0),i._set?i.set=i._set:i.set=CU;var a=this.strm;a.avail_in=n,a.input=t,a.next_in=r,a.avail_out=o,a.output=i,a.next_out=s;var c;switch(this.mode){case lc:case zu:case hc:c=zO(a,e);break;case qu:case Ih:case Rh:case ju:c=dU(a,e);break;default:throw new Error("Unknown mode "+this.mode)}return this._checkError(c,a,e)||this._error(c),this.write_in_progress=!1,[a.avail_in,a.avail_out]},Ai.prototype._checkError=function(e,t,r){switch(e){case kh:case sx:if(t.avail_out!==0&&r===Mg)return!1;break;case nx:break;case ix:return!1;default:return!1}return!0},Ai.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===lc||this.mode===zu||this.mode===hc?jO(this.strm):pU(this.strm),this.mode=Ug};var Ch;Ai.prototype.reset=function(){switch(this.mode){case lc:case hc:Ch=w2(this.strm);break;case Ih:case ju:Ch=Y2(this.strm);break}Ch!==kh&&this._error(Ch)},Ai.prototype._error=function(e){this.onerror(qv[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};var ax=Object.freeze({__proto__:null,NONE:Ug,DEFLATE:lc,INFLATE:Ih,GZIP:zu,GUNZIP:Rh,DEFLATERAW:hc,INFLATERAW:ju,UNZIP:qu,Z_NO_FLUSH:J2,Z_PARTIAL_FLUSH:Q2,Z_SYNC_FLUSH:ex,Z_FULL_FLUSH:tx,Z_FINISH:Mg,Z_BLOCK:rx,Z_TREES:gU,Z_OK:kh,Z_STREAM_END:nx,Z_NEED_DICT:ix,Z_ERRNO:yU,Z_STREAM_ERROR:wU,Z_DATA_ERROR:mU,Z_BUF_ERROR:sx,Z_NO_COMPRESSION:bU,Z_BEST_SPEED:_U,Z_BEST_COMPRESSION:vU,Z_DEFAULT_COMPRESSION:xU,Z_FILTERED:EU,Z_HUFFMAN_ONLY:SU,Z_RLE:AU,Z_FIXED:BU,Z_DEFAULT_STRATEGY:TU,Z_BINARY:IU,Z_TEXT:RU,Z_UNKNOWN:kU,Z_DEFLATED:ox,Zlib:Ai});function $U(e,t){if(!e)throw new Error(t)}var Ue={};Object.keys(ax).forEach(function(e){Ue[e]=ax[e]}),Ue.Z_MIN_WINDOWBITS=8,Ue.Z_MAX_WINDOWBITS=15,Ue.Z_DEFAULT_WINDOWBITS=15,Ue.Z_MIN_CHUNK=64,Ue.Z_MAX_CHUNK=1/0,Ue.Z_DEFAULT_CHUNK=16*1024,Ue.Z_MIN_MEMLEVEL=1,Ue.Z_MAX_MEMLEVEL=9,Ue.Z_DEFAULT_MEMLEVEL=8,Ue.Z_MIN_LEVEL=-1,Ue.Z_MAX_LEVEL=9,Ue.Z_DEFAULT_LEVEL=Ue.Z_DEFAULT_COMPRESSION;var dc={Z_OK:Ue.Z_OK,Z_STREAM_END:Ue.Z_STREAM_END,Z_NEED_DICT:Ue.Z_NEED_DICT,Z_ERRNO:Ue.Z_ERRNO,Z_STREAM_ERROR:Ue.Z_STREAM_ERROR,Z_DATA_ERROR:Ue.Z_DATA_ERROR,Z_MEM_ERROR:Ue.Z_MEM_ERROR,Z_BUF_ERROR:Ue.Z_BUF_ERROR,Z_VERSION_ERROR:Ue.Z_VERSION_ERROR};Object.keys(dc).forEach(function(e){dc[dc[e]]=e});function cx(e){return new fo(e)}function ux(e){return new lo(e)}function fx(e){return new go(e)}function lx(e){return new yo(e)}function hx(e){return new ho(e)}function dx(e){return new po(e)}function px(e){return new wo(e)}function gx(e,t,r){return typeof t=="function"&&(r=t,t={}),aa(new fo(t),e,r)}function yx(e,t){return ca(new fo(t),e)}function wx(e,t,r){return typeof t=="function"&&(r=t,t={}),aa(new ho(t),e,r)}function mx(e,t){return ca(new ho(t),e)}function bx(e,t,r){return typeof t=="function"&&(r=t,t={}),aa(new go(t),e,r)}function _x(e,t){return ca(new go(t),e)}function vx(e,t,r){return typeof t=="function"&&(r=t,t={}),aa(new wo(t),e,r)}function xx(e,t){return ca(new wo(t),e)}function Ex(e,t,r){return typeof t=="function"&&(r=t,t={}),aa(new lo(t),e,r)}function Sx(e,t){return ca(new lo(t),e)}function Ax(e,t,r){return typeof t=="function"&&(r=t,t={}),aa(new po(t),e,r)}function Bx(e,t){return ca(new po(t),e)}function Tx(e,t,r){return typeof t=="function"&&(r=t,t={}),aa(new yo(t),e,r)}function Ix(e,t){return ca(new yo(t),e)}function aa(e,t,r){var n=[],i=0;e.on("error",o),e.on("end",a),e.end(t),s();function s(){for(var c;(c=e.read())!==null;)n.push(c),i+=c.length;e.once("readable",s)}function o(c){e.removeListener("end",a),e.removeListener("readable",s),r(c)}function a(){var c=he.concat(n,i);n=[],r(null,c),e.close()}}function ca(e,t){if(typeof t=="string"&&(t=new he(t)),!he.isBuffer(t))throw new TypeError("Not a string or buffer");var r=Ue.Z_FINISH;return e._processChunk(t,r)}function fo(e){if(!(this instanceof fo))return new fo(e);yr.call(this,e,Ue.DEFLATE)}function lo(e){if(!(this instanceof lo))return new lo(e);yr.call(this,e,Ue.INFLATE)}function ho(e){if(!(this instanceof ho))return new ho(e);yr.call(this,e,Ue.GZIP)}function po(e){if(!(this instanceof po))return new po(e);yr.call(this,e,Ue.GUNZIP)}function go(e){if(!(this instanceof go))return new go(e);yr.call(this,e,Ue.DEFLATERAW)}function yo(e){if(!(this instanceof yo))return new yo(e);yr.call(this,e,Ue.INFLATERAW)}function wo(e){if(!(this instanceof wo))return new wo(e);yr.call(this,e,Ue.UNZIP)}function yr(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||Ue.Z_DEFAULT_CHUNK,gi.call(this,e),e.flush&&e.flush!==Ue.Z_NO_FLUSH&&e.flush!==Ue.Z_PARTIAL_FLUSH&&e.flush!==Ue.Z_SYNC_FLUSH&&e.flush!==Ue.Z_FULL_FLUSH&&e.flush!==Ue.Z_FINISH&&e.flush!==Ue.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||Ue.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<Ue.Z_MIN_CHUNK||e.chunkSize>Ue.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<Ue.Z_MIN_WINDOWBITS||e.windowBits>Ue.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<Ue.Z_MIN_LEVEL||e.level>Ue.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<Ue.Z_MIN_MEMLEVEL||e.memLevel>Ue.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=Ue.Z_FILTERED&&e.strategy!=Ue.Z_HUFFMAN_ONLY&&e.strategy!=Ue.Z_RLE&&e.strategy!=Ue.Z_FIXED&&e.strategy!=Ue.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!he.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Ue.Zlib(t);var r=this;this._hadError=!1,this._binding.onerror=function(s,o){r._binding=null,r._hadError=!0;var a=new Error(s);a.errno=o,a.code=dc[o],r.emit("error",a)};var n=Ue.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var i=Ue.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(i=e.strategy),this._binding.init(e.windowBits||Ue.Z_DEFAULT_WINDOWBITS,n,e.memLevel||Ue.Z_DEFAULT_MEMLEVEL,i,e.dictionary),this._buffer=new he(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=i,this.once("end",this.close)}rn(yr,gi),yr.prototype.params=function(e,t,r){if(e<Ue.Z_MIN_LEVEL||e>Ue.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=Ue.Z_FILTERED&&t!=Ue.Z_HUFFMAN_ONLY&&t!=Ue.Z_RLE&&t!=Ue.Z_FIXED&&t!=Ue.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(Ue.Z_SYNC_FLUSH,function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,r&&r())})}else Pn.nextTick(r)},yr.prototype.reset=function(){return this._binding.reset()},yr.prototype._flush=function(e){this._transform(new he(0),"",e)},yr.prototype.flush=function(e,t){var r=this._writableState;if((typeof e=="function"||e===void 0&&!t)&&(t=e,e=Ue.Z_FULL_FLUSH),r.ended)t&&Pn.nextTick(t);else if(r.ending)t&&this.once("end",t);else if(r.needDrain){var n=this;this.once("drain",function(){n.flush(t)})}else this._flushFlag=e,this.write(new he(0),"",t)},yr.prototype.close=function(e){if(e&&Pn.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;Pn.nextTick(function(){t.emit("close")})}},yr.prototype._transform=function(e,t,r){var n,i=this._writableState,s=i.ending||i.ended,o=s&&(!e||i.length===e.length);if(!e===null&&!he.isBuffer(e))return r(new Error("invalid input"));o?n=Ue.Z_FINISH:(n=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||Ue.Z_NO_FLUSH)),this._processChunk(e,n,r)},yr.prototype._processChunk=function(e,t,r){var n=e&&e.length,i=this._chunkSize-this._offset,s=0,o=this,a=typeof r=="function";if(!a){var c=[],u=0,l;this.on("error",function(k){l=k});do var h=this._binding.writeSync(t,e,s,n,this._buffer,this._offset,i);while(!this._hadError&&A(h[0],h[1]));if(this._hadError)throw l;var _=he.concat(c,u);return this.close(),_}var w=this._binding.write(t,e,s,n,this._buffer,this._offset,i);w.buffer=e,w.callback=A;function A(k,I){if(!o._hadError){var H=i-I;if($U(H>=0,"have should not go down"),H>0){var P=o._buffer.slice(o._offset,o._offset+H);o._offset+=H,a?o.push(P):(c.push(P),u+=P.length)}if((I===0||o._offset>=o._chunkSize)&&(i=o._chunkSize,o._offset=0,o._buffer=new he(o._chunkSize)),I===0){if(s+=n-k,n=k,!a)return!0;var C=o._binding.write(t,e,s,n,o._buffer,o._offset,o._chunkSize);C.callback=A,C.buffer=e;return}if(!a)return!1;r()}}},rn(fo,yr),rn(lo,yr),rn(ho,yr),rn(po,yr),rn(go,yr),rn(yo,yr),rn(wo,yr);var LU={codes:dc,createDeflate:cx,createInflate:ux,createDeflateRaw:fx,createInflateRaw:lx,createGzip:hx,createGunzip:dx,createUnzip:px,deflate:gx,deflateSync:yx,gzip:wx,gzipSync:mx,deflateRaw:bx,deflateRawSync:_x,unzip:vx,unzipSync:xx,inflate:Ex,inflateSync:Sx,gunzip:Ax,gunzipSync:Bx,inflateRaw:Tx,inflateRawSync:Ix,Deflate:fo,Inflate:lo,Gzip:ho,Gunzip:po,DeflateRaw:go,InflateRaw:yo,Unzip:wo,Zlib:yr},OU=Object.freeze({__proto__:null,codes:dc,createDeflate:cx,createInflate:ux,createDeflateRaw:fx,createInflateRaw:lx,createGzip:hx,createGunzip:dx,createUnzip:px,deflate:gx,deflateSync:yx,gzip:wx,gzipSync:mx,deflateRaw:bx,deflateRawSync:_x,unzip:vx,unzipSync:xx,inflate:Ex,inflateSync:Sx,gunzip:Ax,gunzipSync:Bx,inflateRaw:Tx,inflateRawSync:Ix,Deflate:fo,Inflate:lo,Gzip:ho,Gunzip:po,DeflateRaw:go,InflateRaw:yo,Unzip:wo,Zlib:yr,default:LU}),UU=ni(OU),MU=ni(b$),NU=ni(zL);Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.InvalidStatusCodeError=Wo.InvalidCertError=void 0;const Rx=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class Ng extends Error{constructor(t,r){super(t),this.fingerprint256=r}}Wo.InvalidCertError=Ng;class Pg extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}Wo.InvalidStatusCodeError=Pg;function kx(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let Cx={};function Fg(e,t){let r={...Rx,...t};const n=VL,i=GL,s=UU,{promisify:o}=MU,{resolve:a}=NU,c=!!/^https/.test(e);let u={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const l=_=>_.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const _={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},w=[c,c&&r.sslPinnedCertificates?.map(A=>l(A)).sort()].join();u.agent=Cx[w]||(Cx[w]=new(c?i:n).Agent(_))}r.type==="json"&&(u.headers["Content-Type"]="application/json"),r.data&&(r.method||(u.method="POST"),u.body=r.type==="json"?JSON.stringify(r.data):r.data),u.headers={...u.headers,...r.headers},r.sslAllowSelfSigned&&(u.rejectUnauthorized=!1);const h=async _=>{const w=_.statusCode;if(r.redirect&&300<=w&&w<400&&_.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await Fg(a(e,_.headers.location),r)}if(r.expectStatusCode&&w!==r.expectStatusCode)throw _.resume(),new Pg(w);let A=[];for await(const P of _)A.push(P);let k=se.Buffer.concat(A);const I=_.headers["content-encoding"];I==="br"&&(k=await o(s.brotliDecompress)(k)),(I==="gzip"||I==="deflate")&&(k=await o(s.unzip)(k));const H=kx(k,r.type);return r.full?{headers:_.headers,status:w,body:H}:H};return new Promise((_,w)=>{const A=async P=>{if(P&&P.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await Fg(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(C){C&&C.fingerprint256&&(P=new Ng(`Self-signed SSL certificate: ${C.fingerprint256}`,C.fingerprint256))}w(P)},k=(c?i:n).request(e,u,P=>{P.on("error",A),(async()=>{try{_(await h(P))}catch(C){w(C)}})()});k.on("error",A);const I=r.sslPinnedCertificates?.map(P=>l(P)),H=P=>{const C=l(P.getPeerCertificate()?.fingerprint256||"");if(!(!C&&P.isSessionReused())&&!I.includes(C))return k.emit("error",new Ng(`Invalid SSL certificate: ${C} Expected: ${I}`,C)),k.abort()};r.sslPinnedCertificates&&k.on("socket",P=>{P.listeners("secureConnect").map($=>($.name||"").replace("bound ","")).includes("mfetchSecureConnect")||P.on("secureConnect",H.bind(null,P))}),r.keepAlive&&k.setNoDelay(!0),u.body&&k.write(u.body),k.end()})}const PU=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),FU=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function HU(e,t){let r={...Rx,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){const c=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${c}`),i.username="",i.password=""}e=""+i;for(let c in r.headers){const u=c.toLowerCase();(PU.has(u)||r.cors&&!FU.has(u))&&n.set(c,r.headers[c])}let s={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(s.referrerPolicy="no-referrer"),r.cors&&(s.mode="cors"),r.data&&(r.method||(s.method="POST"),s.body=r.type==="json"?JSON.stringify(r.data):r.data);const o=await fetch(e,s);if(r.expectStatusCode&&o.status!==r.expectStatusCode)throw new Pg(o.status);const a=kx(new Uint8Array(await o.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(o.headers.entries()),status:o.status,body:a}:a}const DU=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function zU(e,t){return(DU?Fg:HU)(e,t)}Wo.default=zU,Object.defineProperty(ec,"__esModule",{value:!0}),ec.getProvider=ec.fetchFromProvider=void 0;const jU=Wo,qU=async(e,t)=>(await(0,jU.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;ec.fetchFromProvider=qU;const VU=e=>{if(typeof e=="string")return e;if(e?.connection?.url!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};ec.getProvider=VU,function(e){var t=lt&&lt.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=lt&&lt.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(Ml,e),r(ql,e),r(wp,e),r(mu,e),r(Yl,e),r(vn,e),r(Ko,e),r(Ap,e),r(T_,e),r(Ql,e);var n=or;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(eh,e),r(ec,e)}(Ul);var hn={},oe={},pc={},$t={},wi={},mo={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});function KU(e,t){return e??t()}function WU(e){return Array.isArray(e)&&e.length>0}function GU(e){return e==null}function ZU(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}var YU=(e,t)=>Object.hasOwnProperty.call(e,t);function XU(e){return Object.getOwnPropertyNames(e)}var $x=(e=>(e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date",e))($x||{}),Lx=/"|\\|\n|\r|\t/gu;function JU(e){if(typeof e!="object"||e===null)return!1;try{let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function Ox(e){return e.charCodeAt(0)<=127}function QU(e){return e.split("").reduce((r,n)=>Ox(n)?r+1:r+2,0)+KU(e.match(Lx),()=>[]).length}function eM(e){return e.toString().length}Rn.isNonEmptyArray=WU,Rn.isNullOrUndefined=GU,Rn.isObject=ZU,Rn.hasProperty=YU,Rn.getKnownPropertyNames=XU,Rn.JsonSize=$x,Rn.ESCAPE_CHARACTERS_REGEXP=Lx,Rn.isPlainObject=JU,Rn.isASCII=Ox,Rn.calculateStringSize=QU,Rn.calculateNumberSize=eM;class Hg extends Error{constructor(t,{cause:r}={}){super(t),this.name=Hg.name,r&&(this.cause=r),this.message=t}}var tM=Object.freeze({__proto__:null,ErrorWithCause:Hg}),rM=ni(tM);const nM=(e,t)=>{if(!e||!t||!(e instanceof Error)||!(t.prototype instanceof Error)&&t!==Error)return;const r=new Set;let n=e;for(;n&&!r.has(n);){if(r.add(n),n instanceof t)return n;n=$h(n)}},$h=e=>{if(!(!e||typeof e!="object"||!("cause"in e)))if(typeof e.cause=="function"){const t=e.cause();return t instanceof Error?t:void 0}else return e.cause instanceof Error?e.cause:void 0},Ux=(e,t)=>{if(!(e instanceof Error))return"";const r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;const n=$h(e);return n?(t.add(e),r+`
caused by: `+Ux(n,t)):r},iM=e=>Ux(e,new Set),Mx=(e,t,r)=>{if(!(e instanceof Error))return"";const n=r?"":e.message||"";if(t.has(e))return n+": ...";const i=$h(e);if(i){t.add(e);const s="cause"in e&&typeof e.cause=="function";return n+(s?"":": ")+Mx(i,t,s)}else return n};var sM=Object.freeze({__proto__:null,findCauseByReference:nM,getErrorCause:$h,stackWithCauses:iM,messageWithCauses:e=>Mx(e,new Set)}),oM=ni(sM);const{ErrorWithCause:aM}=rM,{findCauseByReference:cM,getErrorCause:uM,messageWithCauses:fM,stackWithCauses:lM}=oM;var hM={ErrorWithCause:aM,findCauseByReference:cM,getErrorCause:uM,stackWithCauses:lM,messageWithCauses:fM};Object.defineProperty(mo,"__esModule",{value:!0});var Nx=Rn,dM=hM;function pM(e){return e instanceof Error||Nx.isObject.call(void 0,e)&&e.constructor.name==="Error"}function Px(e){return typeof e=="object"&&e!==null&&"code"in e}function Fx(e){return typeof e=="object"&&e!==null&&"message"in e}function gM(e){return typeof e=="object"&&e!==null&&"stack"in e}function yM(e){return Fx(e)&&typeof e.message=="string"?e.message:Nx.isNullOrUndefined.call(void 0,e)?"":String(e)}function wM(e,t){if(pM(e)){let r;return Error.length===2?r=new Error(t,{cause:e}):r=new dM.ErrorWithCause(t,{cause:e}),Px(e)&&(r.code=e.code),r}return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}mo.isErrorWithCode=Px,mo.isErrorWithMessage=Fx,mo.isErrorWithStack=gM,mo.getErrorMessage=yM,mo.wrapError=wM;class Hx extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function mM(e){return mi(e)&&typeof e[Symbol.iterator]=="function"}function mi(e){return typeof e=="object"&&e!=null}function Dx(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Kr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function bM(e){const{done:t,value:r}=e.next();return t?void 0:r}function _M(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Kr(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*Dg(e,t,r,n){mM(e)||(e=[e]);for(const i of e){const s=_M(i,t,r,n);s&&(yield s)}}function*zg(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&mi(t.schema)&&mi(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,h]of t.entries(e,a)){const _=zg(l,h,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const w of _)w[0]?(c=w[0].refinement!=null?"not_refined":"not_valid",yield[w[0],void 0]):s&&(l=w[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):mi(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Or{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Dg(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Dg(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return zx(t,this,r)}create(t,r){return jx(t,this,r)}is(t){return jg(t,this)}mask(t,r){return qx(t,this,r)}validate(t,r={}){return gc(t,this,r)}}function zx(e,t,r){const n=gc(e,t,{message:r});if(n[0])throw n[0]}function jx(e,t,r){const n=gc(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function qx(e,t,r){const n=gc(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function jg(e,t){return!gc(e,t)[0]}function gc(e,t,r={}){const n=zg(e,t,r),i=bM(n);return i[0]?[new Hx(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function vM(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Ku(n):Vu(n)}function Hn(e,t){return new Or({type:e,schema:null,validator:t})}function xM(e,t){return new Or({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function EM(e){return new Or({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function SM(e){let t;return new Or({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function AM(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Ku(n);default:return Vu(n)}}function BM(e){const t=e instanceof Or,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Vx(r[n]);return t&&e.type==="type"?Ku(r):Vu(r)}function TM(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return Ku(n);default:return Vu(n)}}function IM(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Hn(e,t)}function RM(){return Hn("any",()=>!0)}function kM(e){return new Or({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Kr(t)}`}})}function CM(){return Hn("bigint",e=>typeof e=="bigint")}function $M(){return Hn("boolean",e=>typeof e=="boolean")}function LM(){return Hn("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Kr(e)}`)}function OM(e){const t={},r=e.map(n=>Kr(n)).join();for(const n of e)t[n]=n;return new Or({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Kr(n)}`}})}function UM(){return Hn("func",e=>typeof e=="function"||`Expected a function, but received: ${Kr(e)}`)}function MM(e){return Hn("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Kr(t)}`)}function NM(){return Hn("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Kr(e)}`)}function PM(e){return new Or({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function FM(e){const t=Kr(e),r=typeof e;return new Or({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Kr(n)}`}})}function HM(e,t){return new Or({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Kr(r)}`}})}function qg(){return Hn("never",()=>!1)}function DM(e){return new Or({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function zM(){return Hn("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Kr(e)}`)}function Vu(e){const t=e?Object.keys(e):[],r=qg();return new Or({type:"object",schema:e||null,*entries(n){if(e&&mi(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return mi(n)||`Expected an object, but received: ${Kr(n)}`},coercer(n){return mi(n)?{...n}:n}})}function Vx(e){return new Or({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function jM(e,t){return new Or({type:"record",schema:null,*entries(r){if(mi(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return mi(r)||`Expected an object, but received: ${Kr(r)}`}})}function qM(){return Hn("regexp",e=>e instanceof RegExp)}function VM(e){return new Or({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Kr(t)}`}})}function Kx(){return Hn("string",e=>typeof e=="string"||`Expected a string, but received: ${Kr(e)}`)}function KM(e){const t=qg();return new Or({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Kr(r)}`}})}function Ku(e){const t=Object.keys(e);return new Or({type:"type",schema:e,*entries(r){if(mi(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return mi(r)||`Expected an object, but received: ${Kr(r)}`},coercer(r){return mi(r)?{...r}:r}})}function WM(e){const t=e.map(r=>r.type).join(" | ");return new Or({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=zg(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Kr(r)}`,...i]}})}function Wx(){return Hn("unknown",()=>!0)}function Vg(e,t,r){return new Or({...e,coercer:(n,i)=>jg(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function GM(e,t,r={}){return Vg(e,Wx(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&Dx(n)&&Dx(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function ZM(e){return Vg(e,Kx(),t=>t.trim())}function YM(e){return ua(e,"empty",t=>{const r=Gx(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function Gx(e){return e instanceof Map||e instanceof Set?e.size:e.length}function XM(e,t,r={}){const{exclusive:n}=r;return ua(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function JM(e,t,r={}){const{exclusive:n}=r;return ua(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function QM(e){return ua(e,"nonempty",t=>Gx(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function eN(e,t){return ua(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function tN(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return ua(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function ua(e,t,r){return new Or({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=Dg(s,i,e,n);for(const a of o)yield{...a,refinement:t}}})}var rN=Object.freeze({__proto__:null,Struct:Or,StructError:Hx,any:RM,array:kM,assert:zx,assign:vM,bigint:CM,boolean:$M,coerce:Vg,create:jx,date:LM,defaulted:GM,define:Hn,deprecated:xM,dynamic:EM,empty:YM,enums:OM,func:UM,instance:MM,integer:NM,intersection:PM,is:jg,lazy:SM,literal:FM,map:HM,mask:qx,max:XM,min:JM,never:qg,nonempty:QM,nullable:DM,number:zM,object:Vu,omit:AM,optional:Vx,partial:BM,pattern:eN,pick:TM,record:jM,refine:ua,regexp:qM,set:VM,size:tN,string:Kx,struct:IM,trimmed:ZM,tuple:KM,type:Ku,union:WM,unknown:Wx,validate:gc}),bo=ni(rN);Object.defineProperty(wi,"__esModule",{value:!0});function nN(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var iN=mo,sN=bo;function oN(e){return typeof nN([e,"optionalAccess",t=>t.prototype,"optionalAccess",t=>t.constructor,"optionalAccess",t=>t.name])=="string"}function aN(e){return iN.getErrorMessage.call(void 0,e).replace(/\.$/u,"")}function Zx(e,t){return oN(e)?new e({message:t}):e({message:t})}var Kg=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function cN(e,t="Assertion failed.",r=Kg){if(!e)throw t instanceof Error?t:Zx(r,t)}function uN(e,t,r="Assertion failed",n=Kg){try{sN.assert.call(void 0,e,t)}catch(i){throw Zx(n,`${r}: ${aN(i)}.`)}}function fN(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}wi.AssertionError=Kg,wi.assert=cN,wi.assertStruct=uN,wi.assertExhaustive=fN;var ar={},sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.output=sn.exists=sn.hash=sn.bytes=sn.bool=sn.number=sn.isBytes=void 0;function Lh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}sn.number=Lh;function Yx(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}sn.bool=Yx;function Xx(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}sn.isBytes=Xx;function Wg(e,...t){if(!Xx(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}sn.bytes=Wg;function Jx(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lh(e.outputLen),Lh(e.blockLen)}sn.hash=Jx;function Qx(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}sn.exists=Qx;function eE(e,t){Wg(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}sn.output=eE;const lN={number:Lh,bool:Yx,bytes:Wg,hash:Jx,exists:Qx,output:eE};sn.default=lN;var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.add5L=ut.add5H=ut.add4H=ut.add4L=ut.add3H=ut.add3L=ut.add=ut.rotlBL=ut.rotlBH=ut.rotlSL=ut.rotlSH=ut.rotr32L=ut.rotr32H=ut.rotrBL=ut.rotrBH=ut.rotrSL=ut.rotrSH=ut.shrSL=ut.shrSH=ut.toBig=ut.split=ut.fromBig=void 0;const Oh=BigInt(2**32-1),Gg=BigInt(32);function Zg(e,t=!1){return t?{h:Number(e&Oh),l:Number(e>>Gg&Oh)}:{h:Number(e>>Gg&Oh)|0,l:Number(e&Oh)|0}}ut.fromBig=Zg;function tE(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Zg(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}ut.split=tE;const rE=(e,t)=>BigInt(e>>>0)<<Gg|BigInt(t>>>0);ut.toBig=rE;const nE=(e,t,r)=>e>>>r;ut.shrSH=nE;const iE=(e,t,r)=>e<<32-r|t>>>r;ut.shrSL=iE;const sE=(e,t,r)=>e>>>r|t<<32-r;ut.rotrSH=sE;const oE=(e,t,r)=>e<<32-r|t>>>r;ut.rotrSL=oE;const aE=(e,t,r)=>e<<64-r|t>>>r-32;ut.rotrBH=aE;const cE=(e,t,r)=>e>>>r-32|t<<64-r;ut.rotrBL=cE;const uE=(e,t)=>t;ut.rotr32H=uE;const fE=(e,t)=>e;ut.rotr32L=fE;const lE=(e,t,r)=>e<<r|t>>>32-r;ut.rotlSH=lE;const hE=(e,t,r)=>t<<r|e>>>32-r;ut.rotlSL=hE;const dE=(e,t,r)=>t<<r-32|e>>>64-r;ut.rotlBH=dE;const pE=(e,t,r)=>e<<r-32|t>>>64-r;ut.rotlBL=pE;function gE(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}ut.add=gE;const yE=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);ut.add3L=yE;const wE=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;ut.add3H=wE;const mE=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);ut.add4L=mE;const bE=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;ut.add4H=bE;const _E=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);ut.add5L=_E;const vE=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;ut.add5H=vE;const hN={fromBig:Zg,split:tE,toBig:rE,shrSH:nE,shrSL:iE,rotrSH:sE,rotrSL:oE,rotrBH:aE,rotrBL:cE,rotr32H:uE,rotr32L:fE,rotlSH:lE,rotlSL:hE,rotlBH:dE,rotlBL:pE,add:gE,add3L:yE,add3H:wE,add4L:mE,add4H:bE,add5H:vE,add5L:_E};ut.default=hN;var xE={},Uh={};Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.crypto=void 0,Uh.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const t=Uh,r=sn;function n(R){return R instanceof Uint8Array||R!=null&&typeof R=="object"&&R.constructor.name==="Uint8Array"}e.isBytes=n;const i=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);e.u8=i;const s=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));e.u32=s;const o=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);e.createView=o;const a=(R,y)=>R<<32-y|R>>>y;e.rotr=a;const c=(R,y)=>R<<y|R>>>32-y>>>0;e.rotl=c,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=R=>R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255;e.byteSwap=u,e.byteSwapIfBE=e.isLE?R=>R:R=>(0,e.byteSwap)(R);function l(R){for(let y=0;y<R.length;y++)R[y]=(0,e.byteSwap)(R[y])}e.byteSwap32=l;const h=Array.from({length:256},(R,y)=>y.toString(16).padStart(2,"0"));function _(R){(0,r.bytes)(R);let y="";for(let f=0;f<R.length;f++)y+=h[R[f]];return y}e.bytesToHex=_;const w={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function A(R){if(R>=w._0&&R<=w._9)return R-w._0;if(R>=w._A&&R<=w._F)return R-(w._A-10);if(R>=w._a&&R<=w._f)return R-(w._a-10)}function k(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const y=R.length,f=y/2;if(y%2)throw new Error("padded hex string expected, got unpadded hex of length "+y);const d=new Uint8Array(f);for(let b=0,x=0;b<f;b++,x+=2){const E=A(R.charCodeAt(x)),S=A(R.charCodeAt(x+1));if(E===void 0||S===void 0){const L=R[x]+R[x+1];throw new Error('hex string expected, got non-hex character "'+L+'" at index '+x)}d[b]=E*16+S}return d}e.hexToBytes=k;const I=async()=>{};e.nextTick=I;async function H(R,y,f){let d=Date.now();for(let b=0;b<R;b++){f(b);const x=Date.now()-d;x>=0&&x<y||(await(0,e.nextTick)(),d+=x)}}e.asyncLoop=H;function P(R){if(typeof R!="string")throw new Error(`utf8ToBytes expected string, got ${typeof R}`);return new Uint8Array(new TextEncoder().encode(R))}e.utf8ToBytes=P;function C(R){return typeof R=="string"&&(R=P(R)),(0,r.bytes)(R),R}e.toBytes=C;function $(...R){let y=0;for(let d=0;d<R.length;d++){const b=R[d];(0,r.bytes)(b),y+=b.length}const f=new Uint8Array(y);for(let d=0,b=0;d<R.length;d++){const x=R[d];f.set(x,b),b+=x.length}return f}e.concatBytes=$;class q{clone(){return this._cloneInto()}}e.Hash=q;const W={}.toString;function V(R,y){if(y!==void 0&&W.call(y)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,y)}e.checkOpts=V;function z(R){const y=d=>R().update(C(d)).digest(),f=R();return y.outputLen=f.outputLen,y.blockLen=f.blockLen,y.create=()=>R(),y}e.wrapConstructor=z;function X(R){const y=(d,b)=>R(b).update(C(d)).digest(),f=R({});return y.outputLen=f.outputLen,y.blockLen=f.blockLen,y.create=d=>R(d),y}e.wrapConstructorWithOpts=X;function re(R){const y=(d,b)=>R(b).update(C(d)).digest(),f=R({});return y.outputLen=f.outputLen,y.blockLen=f.blockLen,y.create=d=>R(d),y}e.wrapXOFConstructorWithOpts=re;function ee(R=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(R));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=ee}(xE),Object.defineProperty(ar,"__esModule",{value:!0}),ar.shake256=ar.shake128=ar.keccak_512=ar.keccak_384=ar.keccak_256=ar.keccak_224=ar.sha3_512=ar.sha3_384=ar.sha3_256=ar.sha3_224=ar.Keccak=ar.keccakP=void 0;const yc=sn,Wu=ut,Bs=xE,EE=[],SE=[],AE=[],dN=BigInt(0),Gu=BigInt(1),pN=BigInt(2),gN=BigInt(7),yN=BigInt(256),wN=BigInt(113);for(let e=0,t=Gu,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],EE.push(2*(5*n+r)),SE.push((e+1)*(e+2)/2%64);let i=dN;for(let s=0;s<7;s++)t=(t<<Gu^(t>>gN)*wN)%yN,t&pN&&(i^=Gu<<(Gu<<BigInt(s))-Gu);AE.push(i)}const[mN,bN]=(0,Wu.split)(AE,!0),BE=(e,t,r)=>r>32?(0,Wu.rotlBH)(e,t,r):(0,Wu.rotlSH)(e,t,r),TE=(e,t,r)=>r>32?(0,Wu.rotlBL)(e,t,r):(0,Wu.rotlSL)(e,t,r);function IE(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],h=BE(u,l,1)^r[a],_=TE(u,l,1)^r[a+1];for(let w=0;w<50;w+=10)e[o+w]^=h,e[o+w+1]^=_}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=SE[o],c=BE(i,s,a),u=TE(i,s,a),l=EE[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=mN[n],e[1]^=bN[n]}r.fill(0)}ar.keccakP=IE;class Zu extends Bs.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,yc.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Bs.u32)(this.state)}keccak(){Bs.isLE||(0,Bs.byteSwap32)(this.state32),IE(this.state32,this.rounds),Bs.isLE||(0,Bs.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,yc.exists)(this);const{blockLen:r,state:n}=this;t=(0,Bs.toBytes)(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,yc.exists)(this,!1),(0,yc.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,yc.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,yc.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Zu(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}ar.Keccak=Zu;const _o=(e,t,r)=>(0,Bs.wrapConstructor)(()=>new Zu(t,e,r));ar.sha3_224=_o(6,144,224/8),ar.sha3_256=_o(6,136,256/8),ar.sha3_384=_o(6,104,384/8),ar.sha3_512=_o(6,72,512/8),ar.keccak_224=_o(1,144,224/8),ar.keccak_256=_o(1,136,256/8),ar.keccak_384=_o(1,104,384/8),ar.keccak_512=_o(1,72,512/8);const RE=(e,t,r)=>(0,Bs.wrapXOFConstructorWithOpts)((n={})=>new Zu(t,e,n.dkLen===void 0?r:n.dkLen,!0));ar.shake128=RE(31,168,128/8),ar.shake256=RE(31,136,256/8);var Yg={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(R){if(!Number.isSafeInteger(R))throw new Error(`Wrong integer: ${R}`)}e.assertNumber=t;function r(R){return R instanceof Uint8Array||R!=null&&typeof R=="object"&&R.constructor.name==="Uint8Array"}function n(...R){const y=x=>x,f=(x,E)=>S=>x(E(S)),d=R.map(x=>x.encode).reduceRight(f,y),b=R.map(x=>x.decode).reduce(f,y);return{encode:d,decode:b}}function i(R){return{encode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return y.map(f=>{if(t(f),f<0||f>=R.length)throw new Error(`Digit index outside alphabet: ${f} (alphabet: ${R.length})`);return R[f]})},decode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="string")throw new Error("alphabet.decode input should be array of strings");return y.map(f=>{if(typeof f!="string")throw new Error(`alphabet.decode: not string element=${f}`);const d=R.indexOf(f);if(d===-1)throw new Error(`Unknown letter: "${f}". Allowed: ${R}`);return d})}}}function s(R=""){if(typeof R!="string")throw new Error("join separator should be string");return{encode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="string")throw new Error("join.encode input should be array of strings");for(let f of y)if(typeof f!="string")throw new Error(`join.encode: non-string input=${f}`);return y.join(R)},decode:y=>{if(typeof y!="string")throw new Error("join.decode input should be string");return y.split(R)}}}function o(R,y="="){if(t(R),typeof y!="string")throw new Error("padding chr should be string");return{encode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let d of f)if(typeof d!="string")throw new Error(`padding.encode: non-string input=${d}`);for(;f.length*R%8;)f.push(y);return f},decode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let b of f)if(typeof b!="string")throw new Error(`padding.decode: non-string input=${b}`);let d=f.length;if(d*R%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;d>0&&f[d-1]===y;d--)if(!((d-1)*R%8))throw new Error("Invalid padding: string has too much padding");return f.slice(0,d)}}}function a(R){if(typeof R!="function")throw new Error("normalize fn should be function");return{encode:y=>y,decode:y=>R(y)}}function c(R,y,f){if(y<2)throw new Error(`convertRadix: wrong from=${y}, base cannot be less than 2`);if(f<2)throw new Error(`convertRadix: wrong to=${f}, base cannot be less than 2`);if(!Array.isArray(R))throw new Error("convertRadix: data should be array");if(!R.length)return[];let d=0;const b=[],x=Array.from(R);for(x.forEach(E=>{if(t(E),E<0||E>=y)throw new Error(`Wrong integer: ${E}`)});;){let E=0,S=!0;for(let L=d;L<x.length;L++){const T=x[L],p=y*E+T;if(!Number.isSafeInteger(p)||y*E/y!==E||p-T!==y*E)throw new Error("convertRadix: carry overflow");E=p%f;const O=Math.floor(p/f);if(x[L]=O,!Number.isSafeInteger(O)||O*f+E!==p)throw new Error("convertRadix: carry overflow");if(S)O?S=!1:d=L;else continue}if(b.push(E),S)break}for(let E=0;E<R.length-1&&R[E]===0;E++)b.push(0);return b.reverse()}const u=(R,y)=>y?u(y,R%y):R,l=(R,y)=>R+(y-u(R,y));function h(R,y,f,d){if(!Array.isArray(R))throw new Error("convertRadix2: data should be array");if(y<=0||y>32)throw new Error(`convertRadix2: wrong from=${y}`);if(f<=0||f>32)throw new Error(`convertRadix2: wrong to=${f}`);if(l(y,f)>32)throw new Error(`convertRadix2: carry overflow from=${y} to=${f} carryBits=${l(y,f)}`);let b=0,x=0;const E=2**f-1,S=[];for(const L of R){if(t(L),L>=2**y)throw new Error(`convertRadix2: invalid data word=${L} from=${y}`);if(b=b<<y|L,x+y>32)throw new Error(`convertRadix2: carry overflow pos=${x} from=${y}`);for(x+=y;x>=f;x-=f)S.push((b>>x-f&E)>>>0);b&=2**x-1}if(b=b<<f-x&E,!d&&x>=y)throw new Error("Excess padding");if(!d&&b)throw new Error(`Non-zero padding: ${b}`);return d&&x>0&&S.push(b>>>0),S}function _(R){return t(R),{encode:y=>{if(!r(y))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(y),2**8,R)},decode:y=>{if(!Array.isArray(y)||y.length&&typeof y[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(c(y,R,2**8))}}}function w(R,y=!1){if(t(R),R<=0||R>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,R)>32||l(R,8)>32)throw new Error("radix2: carry overflow");return{encode:f=>{if(!r(f))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(f),8,R,!y)},decode:f=>{if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(f,R,8,y))}}}function A(R){if(typeof R!="function")throw new Error("unsafeWrapper fn should be function");return function(...y){try{return R.apply(null,y)}catch{}}}function k(R,y){if(t(R),typeof y!="function")throw new Error("checksum fn should be function");return{encode(f){if(!r(f))throw new Error("checksum.encode: input should be Uint8Array");const d=y(f).slice(0,R),b=new Uint8Array(f.length+R);return b.set(f),b.set(d,f.length),b},decode(f){if(!r(f))throw new Error("checksum.decode: input should be Uint8Array");const d=f.slice(0,-R),b=y(d).slice(0,R),x=f.slice(-R);for(let E=0;E<R;E++)if(b[E]!==x[E])throw new Error("Invalid checksum");return d}}}e.utils={alphabet:i,chain:n,checksum:k,convertRadix:c,convertRadix2:h,radix:_,radix2:w,join:s,padding:o},e.base16=n(w(4),i("0123456789ABCDEF"),s("")),e.base32=n(w(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),s("")),e.base32hex=n(w(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),s("")),e.base32crockford=n(w(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),a(R=>R.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(w(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),s("")),e.base64nopad=n(w(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s("")),e.base64url=n(w(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),s("")),e.base64urlnopad=n(w(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(""));const I=R=>n(_(58),i(R),s(""));e.base58=I("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=I("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=I("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const H=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(R){let y="";for(let f=0;f<R.length;f+=8){const d=R.subarray(f,f+8);y+=e.base58.encode(d).padStart(H[d.length],"1")}return y},decode(R){let y=[];for(let f=0;f<R.length;f+=11){const d=R.slice(f,f+11),b=H.indexOf(d.length),x=e.base58.decode(d);for(let E=0;E<x.length-b;E++)if(x[E]!==0)throw new Error("base58xmr: wrong padding");y=y.concat(Array.from(x.slice(x.length-b)))}return Uint8Array.from(y)}};const P=R=>n(k(4,y=>R(R(y))),e.base58);e.createBase58check=P,e.base58check=e.createBase58check;const C=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),$=[996825010,642813549,513874426,1027748829,705979059];function q(R){const y=R>>25;let f=(R&33554431)<<5;for(let d=0;d<$.length;d++)(y>>d&1)===1&&(f^=$[d]);return f}function W(R,y,f=1){const d=R.length;let b=1;for(let x=0;x<d;x++){const E=R.charCodeAt(x);if(E<33||E>126)throw new Error(`Invalid prefix (${R})`);b=q(b)^E>>5}b=q(b);for(let x=0;x<d;x++)b=q(b)^R.charCodeAt(x)&31;for(let x of y)b=q(b)^x;for(let x=0;x<6;x++)b=q(b);return b^=f,C.encode(h([b%2**30],30,5,!1))}function V(R){const y=R==="bech32"?1:734539939,f=w(5),d=f.decode,b=f.encode,x=A(d);function E(p,O,G=90){if(typeof p!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof p}`);if(!Array.isArray(O)||O.length&&typeof O[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof O}`);if(p.length===0)throw new TypeError(`Invalid prefix length ${p.length}`);const Z=p.length+7+O.length;if(G!==!1&&Z>G)throw new TypeError(`Length ${Z} exceeds limit ${G}`);const ne=p.toLowerCase(),Se=W(ne,O,y);return`${ne}1${C.encode(O)}${Se}`}function S(p,O=90){if(typeof p!="string")throw new Error(`bech32.decode input should be string, not ${typeof p}`);if(p.length<8||O!==!1&&p.length>O)throw new TypeError(`Wrong string length: ${p.length} (${p}). Expected (8..${O})`);const G=p.toLowerCase();if(p!==G&&p!==p.toUpperCase())throw new Error("String must be lowercase or uppercase");const Z=G.lastIndexOf("1");if(Z===0||Z===-1)throw new Error('Letter "1" must be present between prefix and data only');const ne=G.slice(0,Z),Se=G.slice(Z+1);if(Se.length<6)throw new Error("Data must be at least 6 characters long");const _e=C.decode(Se).slice(0,-6),ye=W(ne,_e,y);if(!Se.endsWith(ye))throw new Error(`Invalid checksum in ${p}: expected "${ye}"`);return{prefix:ne,words:_e}}const L=A(S);function T(p){const{prefix:O,words:G}=S(p,!1);return{prefix:O,words:G,bytes:d(G)}}return{encode:E,decode:S,decodeToBytes:T,decodeUnsafe:L,fromWords:d,fromWordsUnsafe:x,toWords:b}}e.bech32=V("bech32"),e.bech32m=V("bech32m"),e.utf8={encode:R=>new TextDecoder().decode(R),decode:R=>new TextEncoder().encode(R)},e.hex=n(w(4),i("0123456789abcdef"),s(""),a(R=>{if(typeof R!="string"||R.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof R} with length ${R.length}`);return R.toLowerCase()}));const z={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},X="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",re=(R,y)=>{if(typeof R!="string"||!z.hasOwnProperty(R))throw new TypeError(X);if(!r(y))throw new TypeError("bytesToString() expects Uint8Array");return z[R].encode(y)};e.bytesToString=re,e.str=e.bytesToString;const ee=(R,y)=>{if(!z.hasOwnProperty(R))throw new TypeError(X);if(typeof y!="string")throw new TypeError("stringToBytes() expects string");return z[R].decode(y)};e.stringToBytes=ee,e.bytes=e.stringToBytes})(Yg),Object.defineProperty($t,"__esModule",{value:!0});function _N(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var on=wi,vN=ar,kn=bo,kE=Yg,CE=48,$E=58,LE=87;function xN(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}var EN=xN();function Xg(e){return e instanceof Uint8Array}function fa(e){on.assert.call(void 0,Xg(e),"Value must be a Uint8Array.")}function Jg(e){if(fa(e),e.length===0)return"0x";const t=EN(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return WE(r.join(""))}function OE(e){fa(e);const t=Jg(e);return BigInt(t)}function SN(e){fa(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}function AN(e){fa(e);const t=OE(e);return on.assert.call(void 0,t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function BN(e){return fa(e),new TextDecoder().decode(e)}function TN(e){return fa(e),kE.base64.encode(e)}function Mh(e){if(_N([e,"optionalAccess",i=>i.toLowerCase,"optionalCall",i=>i()])==="0x")return new Uint8Array;qE(e);const t=Nh(e).toLowerCase(),r=t.length%2===0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=r.charCodeAt(i*2),o=r.charCodeAt(i*2+1),a=s-(s<$E?CE:LE),c=o-(o<$E?CE:LE);n[i]=a*16+c}return n}function UE(e){on.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),on.assert.call(void 0,e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return Mh(t)}function IN(e,t){on.assert.call(void 0,t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function RN(e,t){on.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),on.assert.call(void 0,typeof t=="number","Byte length must be a number."),on.assert.call(void 0,t>0,"Byte length must be greater than 0."),on.assert.call(void 0,IN(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function ME(e){on.assert.call(void 0,typeof e=="number","Value must be a number."),on.assert.call(void 0,e>=0,"Value must be a non-negative number."),on.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return Mh(t)}function NE(e){return on.assert.call(void 0,typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}function kN(e){return on.assert.call(void 0,typeof e=="string","Value must be a string."),kE.base64.decode(e)}function PE(e){if(typeof e=="bigint")return UE(e);if(typeof e=="number")return ME(e);if(typeof e=="string")return e.startsWith("0x")?Mh(e):NE(e);if(Xg(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function CN(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const s=PE(e[i]);t[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}function $N(e){if(typeof se.Buffer<"u"&&e instanceof se.Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}var FE=kn.pattern.call(void 0,kn.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),HE=kn.pattern.call(void 0,kn.string.call(void 0),/^0x[0-9a-f]+$/iu),DE=kn.pattern.call(void 0,kn.string.call(void 0),/^0x[0-9a-f]{40}$/u),Qg=kn.pattern.call(void 0,kn.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function zE(e){return kn.is.call(void 0,e,FE)}function jE(e){return kn.is.call(void 0,e,HE)}function qE(e){on.assert.call(void 0,zE(e),"Value must be a hexadecimal string.")}function LN(e){on.assert.call(void 0,jE(e),'Value must be a hexadecimal string, starting with "0x".')}function ON(e){return kn.is.call(void 0,e,DE)||KE(e)}function VE(e){on.assert.call(void 0,kn.is.call(void 0,e,Qg),"Invalid hex address.");const t=Nh(e.toLowerCase()),r=Nh(Jg(vN.keccak_256.call(void 0,t)));return`0x${t.split("").map((n,i)=>{const s=r[i];return on.assert.call(void 0,kn.is.call(void 0,s,kn.string.call(void 0)),"Hash shorter than address."),parseInt(s,16)>7?n.toUpperCase():n}).join("")}`}function KE(e){return kn.is.call(void 0,e,Qg)?VE(e)===e:!1}function WE(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function Nh(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}$t.HexStruct=FE,$t.StrictHexStruct=HE,$t.HexAddressStruct=DE,$t.HexChecksumAddressStruct=Qg,$t.isHexString=zE,$t.isStrictHexString=jE,$t.assertIsHexString=qE,$t.assertIsStrictHexString=LN,$t.isValidHexAddress=ON,$t.getChecksumAddress=VE,$t.isValidChecksumAddress=KE,$t.add0x=WE,$t.remove0x=Nh,$t.isBytes=Xg,$t.assertIsBytes=fa,$t.bytesToHex=Jg,$t.bytesToBigInt=OE,$t.bytesToSignedBigInt=SN,$t.bytesToNumber=AN,$t.bytesToString=BN,$t.bytesToBase64=TN,$t.hexToBytes=Mh,$t.bigIntToBytes=UE,$t.signedBigIntToBytes=RN,$t.numberToBytes=ME,$t.stringToBytes=NE,$t.base64ToBytes=kN,$t.valueToBytes=PE,$t.concatBytes=CN,$t.createDataView=$N,Object.defineProperty(pc,"__esModule",{value:!0});var Yu=$t,wc=wi,UN=e=>(wc.assert.call(void 0,typeof e=="number","Value must be a number."),wc.assert.call(void 0,e>=0,"Value must be a non-negative number."),wc.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),Yu.add0x.call(void 0,e.toString(16))),MN=e=>(wc.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),wc.assert.call(void 0,e>=0,"Value must be a non-negative bigint."),Yu.add0x.call(void 0,e.toString(16))),NN=e=>{Yu.assertIsHexString.call(void 0,e);const t=parseInt(e,16);return wc.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},PN=e=>(Yu.assertIsHexString.call(void 0,e),BigInt(Yu.add0x.call(void 0,e)));pc.numberToHex=UN,pc.bigIntToHex=MN,pc.hexToNumber=NN,pc.hexToBigInt=PN;var ey={};Object.defineProperty(ey,"__esModule",{value:!0});function FN({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise((i,s)=>{t=i,r=s});return e&&n.catch(i=>{}),{promise:n,resolve:t,reject:r}}ey.createDeferredPromise=FN;var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});var GE=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year",e))(GE||{}),HN=e=>Number.isInteger(e)&&e>=0,ZE=(e,t)=>{if(!HN(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function DN(e,t){return ZE(e,"count"),e*t}function zN(e){return ZE(e,"timestamp"),Date.now()-e}Xu.Duration=GE,Xu.inMilliseconds=DN,Xu.timeSince=zN;var Bi={},la={exports:{}};const jN="2.0.0",YE=256,qN=Number.MAX_SAFE_INTEGER||9007199254740991,VN=16,KN=YE-6;var Ph={MAX_LENGTH:YE,MAX_SAFE_COMPONENT_LENGTH:VN,MAX_SAFE_BUILD_LENGTH:KN,MAX_SAFE_INTEGER:qN,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:jN,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Fh=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ph,s=Fh;t=e.exports={};const o=t.re=[],a=t.safeRe=[],c=t.src=[],u=t.t={};let l=0;const h="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",i],[h,n]],w=k=>{for(const[I,H]of _)k=k.split(`${I}*`).join(`${I}{0,${H}}`).split(`${I}+`).join(`${I}{1,${H}}`);return k},A=(k,I,H)=>{const P=w(I),C=l++;s(k,C,I),u[k]=C,c[C]=I,o[C]=new RegExp(I,H?"g":void 0),a[C]=new RegExp(P,H?"g":void 0)};A("NUMERICIDENTIFIER","0|[1-9]\\d*"),A("NUMERICIDENTIFIERLOOSE","\\d+"),A("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),A("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),A("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),A("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),A("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),A("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),A("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),A("BUILDIDENTIFIER",`${h}+`),A("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),A("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),A("FULL",`^${c[u.FULLPLAIN]}$`),A("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),A("LOOSE",`^${c[u.LOOSEPLAIN]}$`),A("GTLT","((?:<|>)?=?)"),A("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),A("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),A("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),A("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),A("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),A("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),A("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),A("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),A("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),A("COERCERTL",c[u.COERCE],!0),A("COERCERTLFULL",c[u.COERCEFULL],!0),A("LONETILDE","(?:~>?)"),A("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",A("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),A("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),A("LONECARET","(?:\\^)"),A("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",A("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),A("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),A("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),A("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),A("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",A("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),A("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),A("STAR","(<|>)?=?\\s*\\*"),A("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),A("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(la,la.exports);const WN=Object.freeze({loose:!0}),GN=Object.freeze({});var ty=e=>e?typeof e!="object"?WN:e:GN;const XE=/^[0-9]+$/,JE=(e,t)=>{const r=XE.test(e),n=XE.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var QE={compareIdentifiers:JE,rcompareIdentifiers:(e,t)=>JE(t,e)};const Hh=Fh,{MAX_LENGTH:eS,MAX_SAFE_INTEGER:Dh}=Ph,{safeRe:tS,t:rS}=la.exports,ZN=ty,{compareIdentifiers:mc}=QE;class Ti{constructor(t,r){if(r=ZN(r),t instanceof Ti){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>eS)throw new TypeError(`version is longer than ${eS} characters`);Hh("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?tS[rS.LOOSE]:tS[rS.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Dh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dh||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Dh)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Hh("SemVer.compare",this.version,this.options,t),!(t instanceof Ti)){if(typeof t=="string"&&t===this.version)return 0;t=new Ti(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ti||(t=new Ti(t,this.options)),mc(this.major,t.major)||mc(this.minor,t.minor)||mc(this.patch,t.patch)}comparePre(t){if(t instanceof Ti||(t=new Ti(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(Hh("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return mc(n,i)}while(++r)}compareBuild(t){t instanceof Ti||(t=new Ti(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(Hh("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return mc(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),mc(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var Cn=Ti;const nS=Cn;var bc=(e,t,r=!1)=>{if(e instanceof nS)return e;try{return new nS(e,t)}catch(n){if(!r)return null;throw n}};const YN=bc;var XN=(e,t)=>{const r=YN(e,t);return r?r.version:null};const JN=bc;var QN=(e,t)=>{const r=JN(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const iS=Cn;var eP=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new iS(e instanceof iS?e.version:e,r).inc(t,n,i).version}catch{return null}};const sS=bc;var tP=(e,t)=>{const r=sS(e,null,!0),n=sS(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};const rP=Cn;var nP=(e,t)=>new rP(e,t).major;const iP=Cn;var sP=(e,t)=>new iP(e,t).minor;const oP=Cn;var aP=(e,t)=>new oP(e,t).patch;const cP=bc;var uP=(e,t)=>{const r=cP(e,t);return r&&r.prerelease.length?r.prerelease:null};const oS=Cn;var Ii=(e,t,r)=>new oS(e,r).compare(new oS(t,r));const fP=Ii;var lP=(e,t,r)=>fP(t,e,r);const hP=Ii;var dP=(e,t)=>hP(e,t,!0);const aS=Cn;var ry=(e,t,r)=>{const n=new aS(e,r),i=new aS(t,r);return n.compare(i)||n.compareBuild(i)};const pP=ry;var gP=(e,t)=>e.sort((r,n)=>pP(r,n,t));const yP=ry;var wP=(e,t)=>e.sort((r,n)=>yP(n,r,t));const mP=Ii;var zh=(e,t,r)=>mP(e,t,r)>0;const bP=Ii;var ny=(e,t,r)=>bP(e,t,r)<0;const _P=Ii;var cS=(e,t,r)=>_P(e,t,r)===0;const vP=Ii;var uS=(e,t,r)=>vP(e,t,r)!==0;const xP=Ii;var iy=(e,t,r)=>xP(e,t,r)>=0;const EP=Ii;var sy=(e,t,r)=>EP(e,t,r)<=0;const SP=cS,AP=uS,BP=zh,TP=iy,IP=ny,RP=sy;var fS=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return SP(e,r,n);case"!=":return AP(e,r,n);case">":return BP(e,r,n);case">=":return TP(e,r,n);case"<":return IP(e,r,n);case"<=":return RP(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const kP=Cn,CP=bc,{safeRe:jh,t:qh}=la.exports;var $P=(e,t)=>{if(e instanceof kP)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?jh[qh.COERCEFULL]:jh[qh.COERCE]);else{const c=t.includePrerelease?jh[qh.COERCERTLFULL]:jh[qh.COERCERTL];let u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return CP(`${n}.${i}.${s}${o}${a}`,t)};class LP{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}}var OP=LP,oy,lS;function Ri(){if(lS)return oy;lS=1;class e{constructor(f,d){if(d=n(d),f instanceof e)return f.loose===!!d.loose&&f.includePrerelease===!!d.includePrerelease?f:new e(f.raw,d);if(f instanceof i)return this.raw=f.value,this.set=[[f]],this.format(),this;if(this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease,this.raw=f.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(b=>this.parseRange(b.trim())).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(x=>!A(x[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const x of this.set)if(x.length===1&&k(x[0])){this.set=[x];break}}}this.format()}format(){return this.range=this.set.map(f=>f.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(f){const b=((this.options.includePrerelease&&_)|(this.options.loose&&w))+":"+f,x=r.get(b);if(x)return x;const E=this.options.loose,S=E?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];f=f.replace(S,ee(this.options.includePrerelease)),s("hyphen replace",f),f=f.replace(a[c.COMPARATORTRIM],u),s("comparator trim",f),f=f.replace(a[c.TILDETRIM],l),s("tilde trim",f),f=f.replace(a[c.CARETTRIM],h),s("caret trim",f);let L=f.split(" ").map(G=>H(G,this.options)).join(" ").split(/\s+/).map(G=>re(G,this.options));E&&(L=L.filter(G=>(s("loose invalid filter",G,this.options),!!G.match(a[c.COMPARATORLOOSE])))),s("range list",L);const T=new Map,p=L.map(G=>new i(G,this.options));for(const G of p){if(A(G))return[G];T.set(G.value,G)}T.size>1&&T.has("")&&T.delete("");const O=[...T.values()];return r.set(b,O),O}intersects(f,d){if(!(f instanceof e))throw new TypeError("a Range is required");return this.set.some(b=>I(b,d)&&f.set.some(x=>I(x,d)&&b.every(E=>x.every(S=>E.intersects(S,d)))))}test(f){if(!f)return!1;if(typeof f=="string")try{f=new o(f,this.options)}catch{return!1}for(let d=0;d<this.set.length;d++)if(R(this.set[d],f,this.options))return!0;return!1}}oy=e;const t=OP,r=new t,n=ty,i=Vh(),s=Fh,o=Cn,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:h}=la.exports,{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:w}=Ph,A=y=>y.value==="<0.0.0-0",k=y=>y.value==="",I=(y,f)=>{let d=!0;const b=y.slice();let x=b.pop();for(;d&&b.length;)d=b.every(E=>x.intersects(E,f)),x=b.pop();return d},H=(y,f)=>(s("comp",y,f),y=q(y,f),s("caret",y),y=C(y,f),s("tildes",y),y=V(y,f),s("xrange",y),y=X(y,f),s("stars",y),y),P=y=>!y||y.toLowerCase()==="x"||y==="*",C=(y,f)=>y.trim().split(/\s+/).map(d=>$(d,f)).join(" "),$=(y,f)=>{const d=f.loose?a[c.TILDELOOSE]:a[c.TILDE];return y.replace(d,(b,x,E,S,L)=>{s("tilde",y,b,x,E,S,L);let T;return P(x)?T="":P(E)?T=`>=${x}.0.0 <${+x+1}.0.0-0`:P(S)?T=`>=${x}.${E}.0 <${x}.${+E+1}.0-0`:L?(s("replaceTilde pr",L),T=`>=${x}.${E}.${S}-${L} <${x}.${+E+1}.0-0`):T=`>=${x}.${E}.${S} <${x}.${+E+1}.0-0`,s("tilde return",T),T})},q=(y,f)=>y.trim().split(/\s+/).map(d=>W(d,f)).join(" "),W=(y,f)=>{s("caret",y,f);const d=f.loose?a[c.CARETLOOSE]:a[c.CARET],b=f.includePrerelease?"-0":"";return y.replace(d,(x,E,S,L,T)=>{s("caret",y,x,E,S,L,T);let p;return P(E)?p="":P(S)?p=`>=${E}.0.0${b} <${+E+1}.0.0-0`:P(L)?E==="0"?p=`>=${E}.${S}.0${b} <${E}.${+S+1}.0-0`:p=`>=${E}.${S}.0${b} <${+E+1}.0.0-0`:T?(s("replaceCaret pr",T),E==="0"?S==="0"?p=`>=${E}.${S}.${L}-${T} <${E}.${S}.${+L+1}-0`:p=`>=${E}.${S}.${L}-${T} <${E}.${+S+1}.0-0`:p=`>=${E}.${S}.${L}-${T} <${+E+1}.0.0-0`):(s("no pr"),E==="0"?S==="0"?p=`>=${E}.${S}.${L}${b} <${E}.${S}.${+L+1}-0`:p=`>=${E}.${S}.${L}${b} <${E}.${+S+1}.0-0`:p=`>=${E}.${S}.${L} <${+E+1}.0.0-0`),s("caret return",p),p})},V=(y,f)=>(s("replaceXRanges",y,f),y.split(/\s+/).map(d=>z(d,f)).join(" ")),z=(y,f)=>{y=y.trim();const d=f.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return y.replace(d,(b,x,E,S,L,T)=>{s("xRange",y,b,x,E,S,L,T);const p=P(E),O=p||P(S),G=O||P(L),Z=G;return x==="="&&Z&&(x=""),T=f.includePrerelease?"-0":"",p?x===">"||x==="<"?b="<0.0.0-0":b="*":x&&Z?(O&&(S=0),L=0,x===">"?(x=">=",O?(E=+E+1,S=0,L=0):(S=+S+1,L=0)):x==="<="&&(x="<",O?E=+E+1:S=+S+1),x==="<"&&(T="-0"),b=`${x+E}.${S}.${L}${T}`):O?b=`>=${E}.0.0${T} <${+E+1}.0.0-0`:G&&(b=`>=${E}.${S}.0${T} <${E}.${+S+1}.0-0`),s("xRange return",b),b})},X=(y,f)=>(s("replaceStars",y,f),y.trim().replace(a[c.STAR],"")),re=(y,f)=>(s("replaceGTE0",y,f),y.trim().replace(a[f.includePrerelease?c.GTE0PRE:c.GTE0],"")),ee=y=>(f,d,b,x,E,S,L,T,p,O,G,Z)=>(P(b)?d="":P(x)?d=`>=${b}.0.0${y?"-0":""}`:P(E)?d=`>=${b}.${x}.0${y?"-0":""}`:S?d=`>=${d}`:d=`>=${d}${y?"-0":""}`,P(p)?T="":P(O)?T=`<${+p+1}.0.0-0`:P(G)?T=`<${p}.${+O+1}.0-0`:Z?T=`<=${p}.${O}.${G}-${Z}`:y?T=`<${p}.${O}.${+G+1}-0`:T=`<=${T}`,`${d} ${T}`.trim()),R=(y,f,d)=>{for(let b=0;b<y.length;b++)if(!y[b].test(f))return!1;if(f.prerelease.length&&!d.includePrerelease){for(let b=0;b<y.length;b++)if(s(y[b].semver),y[b].semver!==i.ANY&&y[b].semver.prerelease.length>0){const x=y[b].semver;if(x.major===f.major&&x.minor===f.minor&&x.patch===f.patch)return!0}return!1}return!0};return oy}var ay,hS;function Vh(){if(hS)return ay;hS=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,h){if(h=r(h),l instanceof t){if(l.loose===!!h.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,h),this.options=h,this.loose=!!h.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const h=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],_=l.match(h);if(!_)throw new TypeError(`Invalid comparator: ${l}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new a(_[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,h){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,h).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,h).test(l.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,h)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,h)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}ay=t;const r=ty,{safeRe:n,t:i}=la.exports,s=fS,o=Fh,a=Cn,c=Ri();return ay}const UP=Ri();var Kh=(e,t,r)=>{try{t=new UP(t,r)}catch{return!1}return t.test(e)};const MP=Ri();var NP=(e,t)=>new MP(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));const PP=Cn,FP=Ri();var HP=(e,t,r)=>{let n=null,i=null,s=null;try{s=new FP(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new PP(n,r))}),n};const DP=Cn,zP=Ri();var jP=(e,t,r)=>{let n=null,i=null,s=null;try{s=new zP(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new DP(n,r))}),n};const cy=Cn,qP=Ri(),dS=zh;var VP=(e,t)=>{e=new qP(e,t);let r=new cy("0.0.0");if(e.test(r)||(r=new cy("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new cy(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||dS(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||dS(r,s))&&(r=s)}return r&&e.test(r)?r:null};const KP=Ri();var WP=(e,t)=>{try{return new KP(e,t).range||"*"}catch{return null}};const GP=Cn,pS=Vh(),{ANY:ZP}=pS,YP=Ri(),XP=Kh,gS=zh,yS=ny,JP=sy,QP=iy;var uy=(e,t,r,n)=>{e=new GP(e,n),t=new YP(t,n);let i,s,o,a,c;switch(r){case">":i=gS,s=JP,o=yS,a=">",c=">=";break;case"<":i=yS,s=QP,o=gS,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(XP(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const l=t.set[u];let h=null,_=null;if(l.forEach(w=>{w.semver===ZP&&(w=new pS(">=0.0.0")),h=h||w,_=_||w,i(w.semver,h.semver,n)?h=w:o(w.semver,_.semver,n)&&(_=w)}),h.operator===a||h.operator===c||(!_.operator||_.operator===a)&&s(e,_.semver))return!1;if(_.operator===c&&o(e,_.semver))return!1}return!0};const e7=uy;var t7=(e,t,r)=>e7(e,t,">",r);const r7=uy;var n7=(e,t,r)=>r7(e,t,"<",r);const wS=Ri();var i7=(e,t,r)=>(e=new wS(e,r),t=new wS(t,r),e.intersects(t,r));const s7=Kh,o7=Ii;var a7=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((l,h)=>o7(l,h,r));for(const l of o)s7(l,t,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,h]of n)l===h?a.push(l):!h&&l===o[0]?a.push("*"):h?l===o[0]?a.push(`<=${h}`):a.push(`${l} - ${h}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t};const mS=Ri(),fy=Vh(),{ANY:ly}=fy,Ju=Kh,hy=Ii,c7=(e,t,r={})=>{if(e===t)return!0;e=new mS(e,r),t=new mS(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=f7(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},u7=[new fy(">=0.0.0-0")],bS=[new fy(">=0.0.0")],f7=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===ly){if(t.length===1&&t[0].semver===ly)return!0;r.includePrerelease?e=u7:e=bS}if(t.length===1&&t[0].semver===ly){if(r.includePrerelease)return!0;t=bS}const n=new Set;let i,s;for(const w of e)w.operator===">"||w.operator===">="?i=_S(i,w,r):w.operator==="<"||w.operator==="<="?s=vS(s,w,r):n.add(w.semver);if(n.size>1)return null;let o;if(i&&s){if(o=hy(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const w of n){if(i&&!Ju(w,String(i),r)||s&&!Ju(w,String(s),r))return null;for(const A of t)if(!Ju(w,String(A),r))return!1;return!0}let a,c,u,l,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,_=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const w of t){if(l=l||w.operator===">"||w.operator===">=",u=u||w.operator==="<"||w.operator==="<=",i){if(_&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===_.major&&w.semver.minor===_.minor&&w.semver.patch===_.patch&&(_=!1),w.operator===">"||w.operator===">="){if(a=_S(i,w,r),a===w&&a!==i)return!1}else if(i.operator===">="&&!Ju(i.semver,String(w),r))return!1}if(s){if(h&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===h.major&&w.semver.minor===h.minor&&w.semver.patch===h.patch&&(h=!1),w.operator==="<"||w.operator==="<="){if(c=vS(s,w,r),c===w&&c!==s)return!1}else if(s.operator==="<="&&!Ju(s.semver,String(w),r))return!1}if(!w.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||_||h)},_S=(e,t,r)=>{if(!e)return t;const n=hy(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},vS=(e,t,r)=>{if(!e)return t;const n=hy(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var l7=c7;const dy=la.exports,xS=Ph,h7=Cn,ES=QE,d7=bc,p7=XN,g7=QN,y7=eP,w7=tP,m7=nP,b7=sP,_7=aP,v7=uP,x7=Ii,E7=lP,S7=dP,A7=ry,B7=gP,T7=wP,I7=zh,R7=ny,k7=cS,C7=uS,$7=iy,L7=sy,O7=fS,U7=$P,M7=Vh(),N7=Ri();var P7={parse:d7,valid:p7,clean:g7,inc:y7,diff:w7,major:m7,minor:b7,patch:_7,prerelease:v7,compare:x7,rcompare:E7,compareLoose:S7,compareBuild:A7,sort:B7,rsort:T7,gt:I7,lt:R7,eq:k7,neq:C7,gte:$7,lte:L7,cmp:O7,coerce:U7,Comparator:M7,Range:N7,satisfies:Kh,toComparators:NP,maxSatisfying:HP,minSatisfying:jP,minVersion:VP,validRange:WP,outside:uy,gtr:t7,ltr:n7,intersects:i7,simplifyRange:a7,subset:l7,SemVer:h7,re:dy.re,src:dy.src,tokens:dy.t,SEMVER_SPEC_VERSION:xS.SEMVER_SPEC_VERSION,RELEASE_TYPES:xS.RELEASE_TYPES,compareIdentifiers:ES.compareIdentifiers,rcompareIdentifiers:ES.rcompareIdentifiers};Object.defineProperty(Bi,"__esModule",{value:!0});var SS=wi,Qu=P7,_c=bo,py=_c.refine.call(void 0,_c.string.call(void 0),"Version",e=>Qu.valid.call(void 0,e)===null?`Expected SemVer version, got "${e}"`:!0),gy=_c.refine.call(void 0,_c.string.call(void 0),"Version range",e=>Qu.validRange.call(void 0,e)===null?`Expected SemVer range, got "${e}"`:!0);function F7(e){return _c.is.call(void 0,e,py)}function H7(e){return _c.is.call(void 0,e,gy)}function D7(e){SS.assertStruct.call(void 0,e,py)}function z7(e){SS.assertStruct.call(void 0,e,gy)}function j7(e,t){return Qu.gt.call(void 0,e,t)}function q7(e,t){return Qu.gtr.call(void 0,e,t)}function V7(e,t){return Qu.satisfies.call(void 0,e,t,{includePrerelease:!0})}Bi.VersionStruct=py,Bi.VersionRangeStruct=gy,Bi.isValidSemVerVersion=F7,Bi.isValidSemVerRange=H7,Bi.assertIsSemVerVersion=D7,Bi.assertIsSemVerRange=z7,Bi.gtVersion=j7,Bi.gtRange=q7,Bi.satisfiesVersionRange=V7;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});var Ts=wi,K7=Rn,gt=bo,vc=e=>gt.object.call(void 0,e);function AS({path:e,branch:t}){const r=e[e.length-1];return K7.hasProperty.call(void 0,t[t.length-2],r)}function ef(e){return new gt.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!AS(r)||e.validator(t,r),refiner:(t,r)=>!AS(r)||e.refiner(t,r)})}var W7=()=>gt.define.call(void 0,"finite number",e=>gt.is.call(void 0,e,gt.number.call(void 0))&&Number.isFinite(e)),tf=gt.union.call(void 0,[gt.literal.call(void 0,null),gt.boolean.call(void 0),W7(),gt.string.call(void 0),gt.array.call(void 0,gt.lazy.call(void 0,()=>tf)),gt.record.call(void 0,gt.string.call(void 0),gt.lazy.call(void 0,()=>tf))]),ha=gt.coerce.call(void 0,tf,gt.any.call(void 0),e=>(Ts.assertStruct.call(void 0,e,tf),JSON.parse(JSON.stringify(e,(t,r)=>{if(!(t==="__proto__"||t==="constructor"))return r}))));function G7(e){try{return BS(e),!0}catch{return!1}}function BS(e){return gt.create.call(void 0,e,ha)}function Z7(e){Ts.assertStruct.call(void 0,e,ha,"Invalid JSON value");const t=JSON.stringify(e);return new TextEncoder().encode(t).byteLength}var TS="2.0",xc=gt.literal.call(void 0,TS),rf=gt.nullable.call(void 0,gt.union.call(void 0,[gt.number.call(void 0),gt.string.call(void 0)])),nf=vc({code:gt.integer.call(void 0),message:gt.string.call(void 0),data:ef(ha),stack:ef(gt.string.call(void 0))}),yy=gt.union.call(void 0,[gt.record.call(void 0,gt.string.call(void 0),ha),gt.array.call(void 0,ha)]),wy=vc({id:rf,jsonrpc:xc,method:gt.string.call(void 0),params:ef(yy)}),my=vc({jsonrpc:xc,method:gt.string.call(void 0),params:ef(yy)});function Y7(e){return gt.is.call(void 0,e,my)}function X7(e,t){Ts.assertStruct.call(void 0,e,my,"Invalid JSON-RPC notification",t)}function J7(e){return gt.is.call(void 0,e,wy)}function Q7(e,t){Ts.assertStruct.call(void 0,e,wy,"Invalid JSON-RPC request",t)}var by=gt.object.call(void 0,{id:rf,jsonrpc:xc,result:gt.optional.call(void 0,gt.unknown.call(void 0)),error:gt.optional.call(void 0,nf)}),Wh=vc({id:rf,jsonrpc:xc,result:ha}),Gh=vc({id:rf,jsonrpc:xc,error:nf}),_y=gt.union.call(void 0,[Wh,Gh]);function eF(e){return gt.is.call(void 0,e,by)}function tF(e,t){Ts.assertStruct.call(void 0,e,by,"Invalid pending JSON-RPC response",t)}function rF(e){return gt.is.call(void 0,e,_y)}function nF(e,t){Ts.assertStruct.call(void 0,e,_y,"Invalid JSON-RPC response",t)}function iF(e){return gt.is.call(void 0,e,Wh)}function sF(e,t){Ts.assertStruct.call(void 0,e,Wh,"Invalid JSON-RPC success response",t)}function oF(e){return gt.is.call(void 0,e,Gh)}function aF(e,t){Ts.assertStruct.call(void 0,e,Gh,"Invalid JSON-RPC failure response",t)}function cF(e){return gt.is.call(void 0,e,nf)}function uF(e,t){Ts.assertStruct.call(void 0,e,nf,"Invalid JSON-RPC error",t)}function fF(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return s=>!!(typeof s=="number"&&(r||Number.isInteger(s))||typeof s=="string"&&(t||s.length>0)||n&&s===null)}Ct.object=vc,Ct.exactOptional=ef,Ct.UnsafeJsonStruct=tf,Ct.JsonStruct=ha,Ct.isValidJson=G7,Ct.getSafeJson=BS,Ct.getJsonSize=Z7,Ct.jsonrpc2=TS,Ct.JsonRpcVersionStruct=xc,Ct.JsonRpcIdStruct=rf,Ct.JsonRpcErrorStruct=nf,Ct.JsonRpcParamsStruct=yy,Ct.JsonRpcRequestStruct=wy,Ct.JsonRpcNotificationStruct=my,Ct.isJsonRpcNotification=Y7,Ct.assertIsJsonRpcNotification=X7,Ct.isJsonRpcRequest=J7,Ct.assertIsJsonRpcRequest=Q7,Ct.PendingJsonRpcResponseStruct=by,Ct.JsonRpcSuccessStruct=Wh,Ct.JsonRpcFailureStruct=Gh,Ct.JsonRpcResponseStruct=_y,Ct.isPendingJsonRpcResponse=eF,Ct.assertIsPendingJsonRpcResponse=tF,Ct.isJsonRpcResponse=rF,Ct.assertIsJsonRpcResponse=nF,Ct.isJsonRpcSuccess=iF,Ct.assertIsJsonRpcSuccess=sF,Ct.isJsonRpcFailure=oF,Ct.assertIsJsonRpcFailure=aF,Ct.isJsonRpcError=cF,Ct.assertIsJsonRpcError=uF,Ct.getJsonRpcIdValidator=fF;var Zh={},vy={exports:{}},xy,IS;function lF(){if(IS)return xy;IS=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;xy=function(l,h){h=h||{};var _=typeof l;if(_==="string"&&l.length>0)return o(l);if(_==="number"&&isFinite(l))return h.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(h){var _=parseFloat(h[1]),w=(h[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return _*s;case"weeks":case"week":case"w":return _*i;case"days":case"day":case"d":return _*n;case"hours":case"hour":case"hrs":case"hr":case"h":return _*r;case"minutes":case"minute":case"mins":case"min":case"m":return _*t;case"seconds":case"second":case"secs":case"sec":case"s":return _*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function a(l){var h=Math.abs(l);return h>=n?Math.round(l/n)+"d":h>=r?Math.round(l/r)+"h":h>=t?Math.round(l/t)+"m":h>=e?Math.round(l/e)+"s":l+"ms"}function c(l){var h=Math.abs(l);return h>=n?u(l,h,n,"day"):h>=r?u(l,h,r,"hour"):h>=t?u(l,h,t,"minute"):h>=e?u(l,h,e,"second"):l+" ms"}function u(l,h,_,w){var A=h>=_*1.5;return Math.round(l/_)+" "+w+(A?"s":"")}return xy}function hF(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=lF(),r.destroy=u,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let h=0;for(let _=0;_<l.length;_++)h=(h<<5)-h+l.charCodeAt(_),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(l){let h,_=null,w,A;function k(...I){if(!k.enabled)return;const H=k,P=Number(new Date),C=P-(h||P);H.diff=C,H.prev=h,H.curr=P,h=P,I[0]=r.coerce(I[0]),typeof I[0]!="string"&&I.unshift("%O");let $=0;I[0]=I[0].replace(/%([a-zA-Z%])/g,(W,V)=>{if(W==="%%")return"%";$++;const z=r.formatters[V];if(typeof z=="function"){const X=I[$];W=z.call(H,X),I.splice($,1),$--}return W}),r.formatArgs.call(H,I),(H.log||r.log).apply(H,I)}return k.namespace=l,k.useColors=r.useColors(),k.color=r.selectColor(l),k.extend=n,k.destroy=r.destroy,Object.defineProperty(k,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(w!==r.namespaces&&(w=r.namespaces,A=r.enabled(l)),A),set:I=>{_=I}}),typeof r.init=="function"&&r.init(k),k}function n(l,h){const _=r(this.namespace+(typeof h>"u"?":":h)+l);return _.log=this.log,_}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let h;const _=(typeof l=="string"?l:"").split(/[\s,]+/),w=_.length;for(h=0;h<w;h++)_[h]&&(l=_[h].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let h,_;for(h=0,_=r.skips.length;h<_;h++)if(r.skips[h].test(l))return!1;for(h=0,_=r.names.length;h<_;h++)if(r.names[h].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var dF=hF;(function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,h=0;c[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(l++,_==="%c"&&(h=l))}),c.splice(h,0,u)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=dF(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(vy,vy.exports),Object.defineProperty(Zh,"__esModule",{value:!0});function pF(e){return e&&e.__esModule?e:{default:e}}var gF=vy.exports,yF=pF(gF),wF=yF.default.call(void 0,"metamask");function mF(e){return wF.extend(e)}function bF(e,t){return e.extend(t)}Zh.createProjectLogger=mF,Zh.createModuleLogger=bF;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});function RS(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var $n=bo,Ey=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Sy=/^[-a-z0-9]{3,8}$/u,Ay=/^[-_a-zA-Z0-9]{1,32}$/u,By=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,kS=/^[-.%a-zA-Z0-9]{1,128}$/u,CS=$n.pattern.call(void 0,$n.string.call(void 0),Ey),$S=$n.pattern.call(void 0,$n.string.call(void 0),Sy),LS=$n.pattern.call(void 0,$n.string.call(void 0),Ay),OS=$n.pattern.call(void 0,$n.string.call(void 0),By),US=$n.pattern.call(void 0,$n.string.call(void 0),kS),MS=(e=>(e.Eip155="eip155",e))(MS||{});function _F(e){return $n.is.call(void 0,e,CS)}function NS(e){return $n.is.call(void 0,e,$S)}function PS(e){return $n.is.call(void 0,e,LS)}function vF(e){return $n.is.call(void 0,e,OS)}function xF(e){return $n.is.call(void 0,e,US)}function EF(e){const t=Ey.exec(e);if(!RS([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function SF(e){const t=By.exec(e);if(!RS([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function AF(e,t){if(!NS(e))throw new Error(`Invalid "namespace", must match: ${Sy.toString()}`);if(!PS(t))throw new Error(`Invalid "reference", must match: ${Ay.toString()}`);return`${e}:${t}`}Ur.CAIP_CHAIN_ID_REGEX=Ey,Ur.CAIP_NAMESPACE_REGEX=Sy,Ur.CAIP_REFERENCE_REGEX=Ay,Ur.CAIP_ACCOUNT_ID_REGEX=By,Ur.CAIP_ACCOUNT_ADDRESS_REGEX=kS,Ur.CaipChainIdStruct=CS,Ur.CaipNamespaceStruct=$S,Ur.CaipReferenceStruct=LS,Ur.CaipAccountIdStruct=OS,Ur.CaipAccountAddressStruct=US,Ur.KnownCaipNamespace=MS,Ur.isCaipChainId=_F,Ur.isCaipNamespace=NS,Ur.isCaipReference=PS,Ur.isCaipAccountId=vF,Ur.isCaipAccountAddress=xF,Ur.parseCaipChainId=EF,Ur.parseCaipAccountId=SF,Ur.toCaipChainId=AF;var Ty={},Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});function FS(e,t){return e??t()}var BF=wi,TF=bo,IF=(e,t={})=>{const r=FS(t.paddingRequired,()=>!1),n=FS(t.characterSet,()=>"base64");let i;n==="base64"?i=String.raw`[A-Za-z0-9+\/]`:(BF.assert.call(void 0,n==="base64url"),i=String.raw`[-_A-Za-z0-9]`);let s;return r?s=new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):s=new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),TF.pattern.call(void 0,e,s)};Yh.base64=IF,Object.defineProperty(Ty,"__esModule",{value:!0});var RF=Yh,HS=bo,kF=HS.size.call(void 0,RF.base64.call(void 0,HS.string.call(void 0),{paddingRequired:!0}),44,44);Ty.ChecksumStruct=kF;var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});var Sc=$t,CF=wi,xr=bo,DS=xr.union.call(void 0,[xr.number.call(void 0),xr.bigint.call(void 0),xr.string.call(void 0),Sc.StrictHexStruct]),$F=xr.coerce.call(void 0,xr.number.call(void 0),DS,Number),LF=xr.coerce.call(void 0,xr.bigint.call(void 0),DS,BigInt);xr.union.call(void 0,[Sc.StrictHexStruct,xr.instance.call(void 0,Uint8Array)]);var OF=xr.coerce.call(void 0,xr.instance.call(void 0,Uint8Array),xr.union.call(void 0,[Sc.StrictHexStruct]),Sc.hexToBytes),UF=xr.coerce.call(void 0,Sc.StrictHexStruct,xr.instance.call(void 0,Uint8Array),Sc.bytesToHex);function MF(e){try{const t=xr.create.call(void 0,e,$F);return CF.assert.call(void 0,Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof xr.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}function NF(e){try{return xr.create.call(void 0,e,LF)}catch(t){throw t instanceof xr.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}function PF(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return xr.create.call(void 0,e,OF)}catch(t){throw t instanceof xr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}function FF(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return xr.create.call(void 0,e,UF)}catch(t){throw t instanceof xr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Ec.createNumber=MF,Ec.createBigInt=NF,Ec.createBytes=PF,Ec.createHex=FF;var Xh={},sf={};Object.defineProperty(sf,"__esModule",{value:!0});var zS=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},HF=(e,t,r)=>(zS(e,t,"read from private field"),r?r.call(e):t.get(e)),DF=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},zF=(e,t,r,n)=>(zS(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);sf.__privateGet=HF,sf.__privateAdd=DF,sf.__privateSet=zF,Object.defineProperty(Xh,"__esModule",{value:!0});var Wr=sf,ki,Iy=class{constructor(e){Wr.__privateAdd.call(void 0,this,ki,void 0),Wr.__privateSet.call(void 0,this,ki,new Map(e)),Object.freeze(this)}get size(){return Wr.__privateGet.call(void 0,this,ki).size}[Symbol.iterator](){return Wr.__privateGet.call(void 0,this,ki)[Symbol.iterator]()}entries(){return Wr.__privateGet.call(void 0,this,ki).entries()}forEach(e,t){return Wr.__privateGet.call(void 0,this,ki).forEach((r,n,i)=>e.call(t,r,n,this))}get(e){return Wr.__privateGet.call(void 0,this,ki).get(e)}has(e){return Wr.__privateGet.call(void 0,this,ki).has(e)}keys(){return Wr.__privateGet.call(void 0,this,ki).keys()}values(){return Wr.__privateGet.call(void 0,this,ki).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}};ki=new WeakMap;var Qi,Ry=class{constructor(e){Wr.__privateAdd.call(void 0,this,Qi,void 0),Wr.__privateSet.call(void 0,this,Qi,new Set(e)),Object.freeze(this)}get size(){return Wr.__privateGet.call(void 0,this,Qi).size}[Symbol.iterator](){return Wr.__privateGet.call(void 0,this,Qi)[Symbol.iterator]()}entries(){return Wr.__privateGet.call(void 0,this,Qi).entries()}forEach(e,t){return Wr.__privateGet.call(void 0,this,Qi).forEach((r,n,i)=>e.call(t,r,n,this))}has(e){return Wr.__privateGet.call(void 0,this,Qi).has(e)}keys(){return Wr.__privateGet.call(void 0,this,Qi).keys()}values(){return Wr.__privateGet.call(void 0,this,Qi).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};Qi=new WeakMap,Object.freeze(Iy),Object.freeze(Iy.prototype),Object.freeze(Ry),Object.freeze(Ry.prototype),Xh.FrozenMap=Iy,Xh.FrozenSet=Ry,Object.defineProperty(oe,"__esModule",{value:!0});var Jh=pc,jF=ey,ky=Xu,Is=Bi,Nt=Ct,jS=Zh,Gr=Ur,qF=Ty,VF=Yh,Qh=Ec,qt=$t,ed=wi,of=mo,Ci=Rn,qS=Xh;oe.AssertionError=ed.AssertionError,oe.CAIP_ACCOUNT_ADDRESS_REGEX=Gr.CAIP_ACCOUNT_ADDRESS_REGEX,oe.CAIP_ACCOUNT_ID_REGEX=Gr.CAIP_ACCOUNT_ID_REGEX,oe.CAIP_CHAIN_ID_REGEX=Gr.CAIP_CHAIN_ID_REGEX,oe.CAIP_NAMESPACE_REGEX=Gr.CAIP_NAMESPACE_REGEX,oe.CAIP_REFERENCE_REGEX=Gr.CAIP_REFERENCE_REGEX,oe.CaipAccountAddressStruct=Gr.CaipAccountAddressStruct,oe.CaipAccountIdStruct=Gr.CaipAccountIdStruct,oe.CaipChainIdStruct=Gr.CaipChainIdStruct,oe.CaipNamespaceStruct=Gr.CaipNamespaceStruct,oe.CaipReferenceStruct=Gr.CaipReferenceStruct,oe.ChecksumStruct=qF.ChecksumStruct,oe.Duration=ky.Duration,oe.ESCAPE_CHARACTERS_REGEXP=Ci.ESCAPE_CHARACTERS_REGEXP,oe.FrozenMap=qS.FrozenMap,oe.FrozenSet=qS.FrozenSet,oe.HexAddressStruct=qt.HexAddressStruct,oe.HexChecksumAddressStruct=qt.HexChecksumAddressStruct,oe.HexStruct=qt.HexStruct,oe.JsonRpcErrorStruct=Nt.JsonRpcErrorStruct,oe.JsonRpcFailureStruct=Nt.JsonRpcFailureStruct,oe.JsonRpcIdStruct=Nt.JsonRpcIdStruct,oe.JsonRpcNotificationStruct=Nt.JsonRpcNotificationStruct,oe.JsonRpcParamsStruct=Nt.JsonRpcParamsStruct,oe.JsonRpcRequestStruct=Nt.JsonRpcRequestStruct,oe.JsonRpcResponseStruct=Nt.JsonRpcResponseStruct,oe.JsonRpcSuccessStruct=Nt.JsonRpcSuccessStruct,oe.JsonRpcVersionStruct=Nt.JsonRpcVersionStruct,oe.JsonSize=Ci.JsonSize,oe.JsonStruct=Nt.JsonStruct,oe.KnownCaipNamespace=Gr.KnownCaipNamespace,oe.PendingJsonRpcResponseStruct=Nt.PendingJsonRpcResponseStruct,oe.StrictHexStruct=qt.StrictHexStruct,oe.UnsafeJsonStruct=Nt.UnsafeJsonStruct,oe.VersionRangeStruct=Is.VersionRangeStruct,oe.VersionStruct=Is.VersionStruct,oe.add0x=qt.add0x,oe.assert=ed.assert,oe.assertExhaustive=ed.assertExhaustive,oe.assertIsBytes=qt.assertIsBytes,oe.assertIsHexString=qt.assertIsHexString,oe.assertIsJsonRpcError=Nt.assertIsJsonRpcError,oe.assertIsJsonRpcFailure=Nt.assertIsJsonRpcFailure,oe.assertIsJsonRpcNotification=Nt.assertIsJsonRpcNotification,oe.assertIsJsonRpcRequest=Nt.assertIsJsonRpcRequest,oe.assertIsJsonRpcResponse=Nt.assertIsJsonRpcResponse,oe.assertIsJsonRpcSuccess=Nt.assertIsJsonRpcSuccess,oe.assertIsPendingJsonRpcResponse=Nt.assertIsPendingJsonRpcResponse,oe.assertIsSemVerRange=Is.assertIsSemVerRange,oe.assertIsSemVerVersion=Is.assertIsSemVerVersion,oe.assertIsStrictHexString=qt.assertIsStrictHexString,oe.assertStruct=ed.assertStruct,oe.base64=VF.base64,oe.base64ToBytes=qt.base64ToBytes,oe.bigIntToBytes=qt.bigIntToBytes,oe.bigIntToHex=Jh.bigIntToHex,oe.bytesToBase64=qt.bytesToBase64,oe.bytesToBigInt=qt.bytesToBigInt,oe.bytesToHex=qt.bytesToHex,oe.bytesToNumber=qt.bytesToNumber,oe.bytesToSignedBigInt=qt.bytesToSignedBigInt,oe.bytesToString=qt.bytesToString,oe.calculateNumberSize=Ci.calculateNumberSize,oe.calculateStringSize=Ci.calculateStringSize,oe.concatBytes=qt.concatBytes,oe.createBigInt=Qh.createBigInt,oe.createBytes=Qh.createBytes,oe.createDataView=qt.createDataView,oe.createDeferredPromise=jF.createDeferredPromise,oe.createHex=Qh.createHex,oe.createModuleLogger=jS.createModuleLogger,oe.createNumber=Qh.createNumber,oe.createProjectLogger=jS.createProjectLogger,oe.exactOptional=Nt.exactOptional,oe.getChecksumAddress=qt.getChecksumAddress,oe.getErrorMessage=of.getErrorMessage,oe.getJsonRpcIdValidator=Nt.getJsonRpcIdValidator,oe.getJsonSize=Nt.getJsonSize,oe.getKnownPropertyNames=Ci.getKnownPropertyNames,oe.getSafeJson=Nt.getSafeJson,oe.gtRange=Is.gtRange,oe.gtVersion=Is.gtVersion,oe.hasProperty=Ci.hasProperty,oe.hexToBigInt=Jh.hexToBigInt,oe.hexToBytes=qt.hexToBytes,oe.hexToNumber=Jh.hexToNumber,oe.inMilliseconds=ky.inMilliseconds,oe.isASCII=Ci.isASCII,oe.isBytes=qt.isBytes,oe.isCaipAccountAddress=Gr.isCaipAccountAddress,oe.isCaipAccountId=Gr.isCaipAccountId,oe.isCaipChainId=Gr.isCaipChainId,oe.isCaipNamespace=Gr.isCaipNamespace,oe.isCaipReference=Gr.isCaipReference,oe.isErrorWithCode=of.isErrorWithCode,oe.isErrorWithMessage=of.isErrorWithMessage,oe.isErrorWithStack=of.isErrorWithStack,oe.isHexString=qt.isHexString,oe.isJsonRpcError=Nt.isJsonRpcError,oe.isJsonRpcFailure=Nt.isJsonRpcFailure,oe.isJsonRpcNotification=Nt.isJsonRpcNotification,oe.isJsonRpcRequest=Nt.isJsonRpcRequest,oe.isJsonRpcResponse=Nt.isJsonRpcResponse,oe.isJsonRpcSuccess=Nt.isJsonRpcSuccess,oe.isNonEmptyArray=Ci.isNonEmptyArray,oe.isNullOrUndefined=Ci.isNullOrUndefined,oe.isObject=Ci.isObject,oe.isPendingJsonRpcResponse=Nt.isPendingJsonRpcResponse,oe.isPlainObject=Ci.isPlainObject,oe.isStrictHexString=qt.isStrictHexString,oe.isValidChecksumAddress=qt.isValidChecksumAddress,oe.isValidHexAddress=qt.isValidHexAddress,oe.isValidJson=Nt.isValidJson,oe.isValidSemVerRange=Is.isValidSemVerRange,oe.isValidSemVerVersion=Is.isValidSemVerVersion,oe.jsonrpc2=Nt.jsonrpc2,oe.numberToBytes=qt.numberToBytes,oe.numberToHex=Jh.numberToHex,oe.object=Nt.object,oe.parseCaipAccountId=Gr.parseCaipAccountId,oe.parseCaipChainId=Gr.parseCaipChainId,oe.remove0x=qt.remove0x,oe.satisfiesVersionRange=Is.satisfiesVersionRange,oe.signedBigIntToBytes=qt.signedBigIntToBytes,oe.stringToBytes=qt.stringToBytes,oe.timeSince=ky.timeSince,oe.toCaipChainId=Gr.toCaipChainId,oe.valueToBytes=qt.valueToBytes,oe.wrapError=of.wrapError,Object.defineProperty(hn,"__esModule",{value:!0}),hn.normalize=hn.recoverPublicKey=hn.concatSig=hn.legacyToBuffer=hn.isNullish=hn.padWithZeroes=void 0;const Rs=Ul,Ac=oe;function Cy(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}hn.padWithZeroes=Cy;function VS(e){return e==null}hn.isNullish=VS;function KF(e){return typeof e=="string"&&!(0,Rs.isHexString)(e)?se.Buffer.from(e):(0,Rs.toBuffer)(e)}hn.legacyToBuffer=KF;function WF(e,t,r){const n=(0,Rs.fromSigned)(t),i=(0,Rs.fromSigned)(r),s=(0,Rs.bufferToInt)(e),o=Cy((0,Rs.toUnsigned)(n).toString("hex"),64),a=Cy((0,Rs.toUnsigned)(i).toString("hex"),64),c=(0,Ac.remove0x)((0,Ac.numberToHex)(s));return(0,Ac.add0x)(o.concat(a,c))}hn.concatSig=WF;function GF(e,t){const r=(0,Rs.fromRpcSig)(t);return(0,Rs.ecrecover)(e,r.v,r.r,r.s)}hn.recoverPublicKey=GF;function ZF(e){if(!VS(e)){if(typeof e=="number"){if(e<0)return"0x";const t=(0,Ac.numberToBytes)(e);e=(0,Ac.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,Ac.add0x)(e.toLowerCase())}}hn.normalize=ZF,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.extractPublicKey=Ws.recoverPersonalSignature=Ws.personalSign=void 0;const Bc=Ul,es=hn;function YF({privateKey:e,data:t}){if((0,es.isNullish)(t))throw new Error("Missing data parameter");if((0,es.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,es.legacyToBuffer)(t),n=(0,Bc.hashPersonalMessage)(r),i=(0,Bc.ecsign)(n,e);return(0,es.concatSig)((0,Bc.toBuffer)(i.v),i.r,i.s)}Ws.personalSign=YF;function XF({data:e,signature:t}){if((0,es.isNullish)(e))throw new Error("Missing data parameter");if((0,es.isNullish)(t))throw new Error("Missing signature parameter");const r=KS(e,t),n=(0,Bc.publicToAddress)(r);return(0,Bc.bufferToHex)(n)}Ws.recoverPersonalSignature=XF;function JF({data:e,signature:t}){if((0,es.isNullish)(e))throw new Error("Missing data parameter");if((0,es.isNullish)(t))throw new Error("Missing signature parameter");return`0x${KS(e,t).toString("hex")}`}Ws.extractPublicKey=JF;function KS(e,t){const r=(0,Bc.hashPersonalMessage)((0,es.legacyToBuffer)(e));return(0,es.recoverPublicKey)(r,t)}var WS={},GS={},ZS={},$i={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=oe,r=s=>typeof s=="string"?s:s instanceof Error||(0,t.isObject)(s)&&(0,t.hasProperty)(s,"message")&&typeof s.message=="string"?s.message:"Unknown error.";e.getErrorMessage=r;const n=s=>{if(s instanceof Error)return s.stack};e.getErrorStack=n;class i extends Error{constructor(o,a){super(o),this.name="ParserError";const c=(0,e.getErrorStack)(a);c&&(this.stack=c)}}e.ParserError=i})($i);var $y={},td={};Object.defineProperty(td,"__esModule",{value:!0}),td.iterate=void 0;const YS=oe,QF=function*(e,t=32){for(let r=0;r<e.length;r+=t){const n=s=>{(0,YS.assert)(s>=0,"Cannot skip a negative number of bytes."),(0,YS.assert)(s%t===0,"Length must be a multiple of the size."),r+=s},i=e.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};td.iterate=QF;var Ly={},XS={},vo={},xo={};Object.defineProperty(xo,"__esModule",{value:!0}),xo.padEnd=xo.padStart=xo.set=void 0;const Oy=oe,JS=32,eH=(e,t,r)=>(0,Oy.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);xo.set=eH;const tH=(e,t=JS)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Oy.concatBytes)([r,e])};xo.padStart=tH;const rH=(e,t=JS)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Oy.concatBytes)([e,r])};xo.padEnd=rH,function(e){var t=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(xo,e)}(vo),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=oe,r=$i,n=vo,i=s=>{const o=(0,t.createBytes)(s);return(0,t.assert)(o.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${o.length} bytes.`)),(0,n.padStart)(o,20)};e.getAddress=i,e.address={isDynamic:!1,isType:s=>s==="address",getByteLength(){return 32},encode({buffer:s,value:o,packed:a}){const c=(0,e.getAddress)(o);if(a)return(0,t.concatBytes)([s,c]);const u=(0,n.padStart)(c);return(0,t.concatBytes)([s,u])},decode({value:s}){return(0,t.add0x)((0,t.bytesToHex)(s.slice(12,32)))}}}(XS);var Uy={},rd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=oe,r=$i,n=vo,i=/^bytes([0-9]{1,2})$/u,s=o=>{const a=o.match(i)?.[1];(0,t.assert)(a,`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`);const c=Number(a);return(0,t.assert)(c>0&&c<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`)),c};e.getByteLength=s,e.fixedBytes={isDynamic:!1,isType(o){return i.test(o)},getByteLength(){return 32},encode({type:o,buffer:a,value:c,packed:u}){const l=(0,e.getByteLength)(o),h=(0,t.createBytes)(c);return(0,t.assert)(h.length<=l,new r.ParserError(`Expected a value of length ${l}, but received a value of length ${h.length}.`)),u?(0,t.concatBytes)([a,(0,n.padEnd)(h,l)]):(0,t.concatBytes)([a,(0,n.padEnd)(h)])},decode({type:o,value:a}){const c=(0,e.getByteLength)(o);return a.slice(0,c)}}})(rd);var My={},QS;function eA(){return QS||(QS=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=oe,r=$i,n=jy(),i=/^\((.+)\)$/u,s=a=>i.test(a),o=a=>{(0,t.assert)(a.startsWith("(")&&a.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${a}".`));const c=[];let u="",l=0;for(let h=1;h<a.length-1;h++){const _=a[h];_===","&&l===0?(c.push(u.trim()),u=""):(u+=_,_==="("?l+=1:_===")"&&(l-=1))}return u.trim()&&c.push(u.trim()),c};e.getTupleElements=o,e.tuple={isDynamic(a){return(0,e.getTupleElements)(a).some(u=>{const l=(0,n.getParser)(u);return(0,n.isDynamicParser)(l,u)})},isType(a){return s(a)},getByteLength(a){return(0,n.isDynamicParser)(this,a)?32:(0,e.getTupleElements)(a).reduce((u,l)=>u+(0,n.getParser)(l).getByteLength(l),0)},encode({type:a,buffer:c,value:u,packed:l,tight:h}){const _=(0,e.getTupleElements)(a);return(0,n.pack)({types:_,values:u,byteArray:c,packed:l,tight:h})},decode({type:a,value:c,skip:u}){const l=(0,e.getTupleElements)(a),h=this.getByteLength(a)-32;return u(h),(0,n.unpack)(l,c)}}}(My)),My}var tA;function nH(){return tA||(tA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=oe,r=$i,n=jy(),i=vo,s=rd,o=eA(),a=/^(?<type>.*)\[(?<length>\d*?)\]$/u,c=h=>a.test(h);e.isArrayType=c;const u=h=>{const _=h.match(a);return(0,t.assert)(_?.groups?.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${h}".`)),[_.groups.type,_.groups.length?parseInt(_.groups.length,10):void 0]};e.getArrayType=u;const l=(h,_)=>`(${new Array(_).fill(h).join(",")})`;e.getTupleType=l,e.array={isDynamic(h){const[_,w]=(0,e.getArrayType)(h);return w===void 0||(0,n.isDynamicParser)((0,n.getParser)(_),_)},isType(h){return(0,e.isArrayType)(h)},getByteLength(h){(0,t.assert)((0,e.isArrayType)(h),new r.ParserError(`Expected an array type, but received "${h}".`));const[_,w]=(0,e.getArrayType)(h);return!(0,n.isDynamicParser)(this,h)&&w!==void 0?o.tuple.getByteLength((0,e.getTupleType)(_,w)):32},encode({type:h,buffer:_,value:w,packed:A,tight:k}){const[I,H]=(0,e.getArrayType)(h);if((0,t.assert)(!A||!(0,e.isArrayType)(I),new r.ParserError("Cannot pack nested arrays.")),A&&(0,n.isDynamicParser)((0,n.getParser)(I),I))return(0,n.pack)({types:new Array(w.length).fill(I),values:w,byteArray:_,packed:A,arrayPacked:!0,tight:k});if(H)return(0,t.assert)(H===w.length,new r.ParserError(`Array length does not match type length. Expected a length of ${H}, but received ${w.length}.`)),o.tuple.encode({type:(0,e.getTupleType)(I,H),buffer:_,value:w,packed:s.fixedBytes.isType(I)&&k,tight:k});if(A)return(0,n.pack)({types:new Array(w.length).fill(I),values:w,byteArray:_,packed:s.fixedBytes.isType(I)&&k,arrayPacked:!0,tight:k});const P=(0,i.padStart)((0,t.numberToBytes)(w.length));return(0,n.pack)({types:new Array(w.length).fill(I),values:w,byteArray:(0,t.concatBytes)([_,P]),packed:A,tight:k})},decode({type:h,value:_,...w}){const[A,k]=(0,e.getArrayType)(h);if(k){const H=o.tuple.decode({type:(0,e.getTupleType)(A,k),value:_,...w});return(0,t.assert)(H.length===k,new r.ParserError(`Array length does not match type length. Expected a length of ${k}, but received ${H.length}.`)),H}const I=(0,t.bytesToNumber)(_.subarray(0,32));return(0,n.unpack)(new Array(I).fill(A),_.subarray(32))}}}(Uy)),Uy}var rA={};class nA extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function iH(e){return bi(e)&&typeof e[Symbol.iterator]=="function"}function bi(e){return typeof e=="object"&&e!=null}function iA(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Zr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function sH(e){const{done:t,value:r}=e.next();return t?void 0:r}function oH(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Zr(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*Ny(e,t,r,n){iH(e)||(e=[e]);for(const i of e){const s=oH(i,t,r,n);s&&(yield s)}}function*Py(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&bi(t.schema)&&bi(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,h]of t.entries(e,a)){const _=Py(l,h,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const w of _)w[0]?(c=w[0].refinement!=null?"not_refined":"not_valid",yield[w[0],void 0]):s&&(l=w[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):bi(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Mr{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Ny(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Ny(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return sA(t,this,r)}create(t,r){return oA(t,this,r)}is(t){return Fy(t,this)}mask(t,r){return aA(t,this,r)}validate(t,r={}){return Tc(t,this,r)}}function sA(e,t,r){const n=Tc(e,t,{message:r});if(n[0])throw n[0]}function oA(e,t,r){const n=Tc(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function aA(e,t,r){const n=Tc(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Fy(e,t){return!Tc(e,t)[0]}function Tc(e,t,r={}){const n=Py(e,t,r),i=sH(n);return i[0]?[new nA(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function aH(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?cf(n):af(n)}function Dn(e,t){return new Mr({type:e,schema:null,validator:t})}function cH(e,t){return new Mr({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function uH(e){return new Mr({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function fH(e){let t;return new Mr({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function lH(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return cf(n);default:return af(n)}}function hH(e){const t=e instanceof Mr,r=t?{...e.schema}:{...e};for(const n in r)r[n]=cA(r[n]);return t&&e.type==="type"?cf(r):af(r)}function dH(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return cf(n);default:return af(n)}}function pH(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Dn(e,t)}function gH(){return Dn("any",()=>!0)}function yH(e){return new Mr({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Zr(t)}`}})}function wH(){return Dn("bigint",e=>typeof e=="bigint")}function mH(){return Dn("boolean",e=>typeof e=="boolean")}function bH(){return Dn("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Zr(e)}`)}function _H(e){const t={},r=e.map(n=>Zr(n)).join();for(const n of e)t[n]=n;return new Mr({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Zr(n)}`}})}function vH(){return Dn("func",e=>typeof e=="function"||`Expected a function, but received: ${Zr(e)}`)}function xH(e){return Dn("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Zr(t)}`)}function EH(){return Dn("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Zr(e)}`)}function SH(e){return new Mr({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function AH(e){const t=Zr(e),r=typeof e;return new Mr({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Zr(n)}`}})}function BH(e,t){return new Mr({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Zr(r)}`}})}function Hy(){return Dn("never",()=>!1)}function TH(e){return new Mr({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function IH(){return Dn("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Zr(e)}`)}function af(e){const t=e?Object.keys(e):[],r=Hy();return new Mr({type:"object",schema:e||null,*entries(n){if(e&&bi(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return bi(n)||`Expected an object, but received: ${Zr(n)}`},coercer(n){return bi(n)?{...n}:n}})}function cA(e){return new Mr({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function RH(e,t){return new Mr({type:"record",schema:null,*entries(r){if(bi(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return bi(r)||`Expected an object, but received: ${Zr(r)}`}})}function kH(){return Dn("regexp",e=>e instanceof RegExp)}function CH(e){return new Mr({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Zr(t)}`}})}function uA(){return Dn("string",e=>typeof e=="string"||`Expected a string, but received: ${Zr(e)}`)}function $H(e){const t=Hy();return new Mr({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Zr(r)}`}})}function cf(e){const t=Object.keys(e);return new Mr({type:"type",schema:e,*entries(r){if(bi(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return bi(r)||`Expected an object, but received: ${Zr(r)}`},coercer(r){return bi(r)?{...r}:r}})}function LH(e){const t=e.map(r=>r.type).join(" | ");return new Mr({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=Py(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Zr(r)}`,...i]}})}function fA(){return Dn("unknown",()=>!0)}function Dy(e,t,r){return new Mr({...e,coercer:(n,i)=>Fy(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function OH(e,t,r={}){return Dy(e,fA(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&iA(n)&&iA(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function UH(e){return Dy(e,uA(),t=>t.trim())}function MH(e){return da(e,"empty",t=>{const r=lA(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function lA(e){return e instanceof Map||e instanceof Set?e.size:e.length}function NH(e,t,r={}){const{exclusive:n}=r;return da(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function PH(e,t,r={}){const{exclusive:n}=r;return da(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function FH(e){return da(e,"nonempty",t=>lA(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function HH(e,t){return da(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function DH(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return da(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function da(e,t,r){return new Mr({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=Ny(s,i,e,n);for(const a of o)yield{...a,refinement:t}}})}var zH=Object.freeze({__proto__:null,Struct:Mr,StructError:nA,any:gH,array:yH,assert:sA,assign:aH,bigint:wH,boolean:mH,coerce:Dy,create:oA,date:bH,defaulted:OH,define:Dn,deprecated:cH,dynamic:uH,empty:MH,enums:_H,func:vH,instance:xH,integer:EH,intersection:SH,is:Fy,lazy:fH,literal:AH,map:BH,mask:aA,max:NH,min:PH,never:Hy,nonempty:FH,nullable:TH,number:IH,object:af,omit:lH,optional:cA,partial:hH,pattern:HH,pick:dH,record:RH,refine:da,regexp:kH,set:CH,size:DH,string:uA,struct:pH,trimmed:UH,tuple:$H,type:cf,union:LH,unknown:fA,validate:Tc}),hA=ni(zH),zy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=oe,r=$i,n=vo,i=/^u?int(?<length>[0-9]*)?$/u,s=u=>!u.startsWith("u");e.isSigned=s;const o=u=>{if(u==="int"||u==="uint")return 256;const l=u.match(i);(0,t.assert)(l?.groups?.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${u}".`));const h=parseInt(l.groups.length,10);return(0,t.assert)(h>=8&&h<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${u}".`)),(0,t.assert)(h%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${u}".`)),h};e.getLength=o;const a=(u,l)=>{const h=(0,e.getLength)(l),_=BigInt(2)**BigInt(h-((0,e.isSigned)(l)?1:0))-BigInt(1);if((0,e.isSigned)(l)){(0,t.assert)(u>=-(_+BigInt(1))&&u<=_,new r.ParserError(`Number "${u}" is out of range for type "${l}".`));return}(0,t.assert)(u<=_,new r.ParserError(`Number "${u}" is out of range for type "${l}".`))};e.assertNumberLength=a;const c=u=>{try{return(0,t.createBigInt)(u)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${u}".`)}};e.getBigInt=c,e.number={isDynamic:!1,isType(u){return i.test(u)},getByteLength(){return 32},encode({type:u,buffer:l,value:h,packed:_}){const w=(0,e.getBigInt)(h);if((0,e.assertNumberLength)(w,u),(0,e.isSigned)(u)){if(_){const A=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,t.signedBigIntToBytes)(w,A)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.signedBigIntToBytes)(w,32))])}if(_){const A=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(w),A)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(w))])},decode({type:u,value:l}){const h=l.subarray(0,32);if((0,e.isSigned)(u)){const w=(0,t.bytesToSignedBigInt)(h);return(0,e.assertNumberLength)(w,u),w}const _=(0,t.bytesToBigInt)(h);return(0,e.assertNumberLength)(_,u),_}}})(zy),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=oe,r=hA,n=$i,i=zy,s=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),a=>a==="true"),o=a=>{try{return(0,r.create)(a,s)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${a}".`)}};e.getBooleanValue=o,e.bool={isDynamic:!1,isType:a=>a==="bool",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const h=(0,e.getBooleanValue)(c);return u?(0,t.concatBytes)([a,(0,t.bigIntToBytes)(h)]):i.number.encode({type:"uint256",buffer:a,value:h,packed:u,tight:l})},decode(a){return i.number.decode({...a,type:"uint256"})===BigInt(1)}}}(rA);var uf={};Object.defineProperty(uf,"__esModule",{value:!0}),uf.bytes=void 0;const ff=oe,dA=vo;uf.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){const n=(0,ff.createBytes)(t);if(r)return(0,ff.concatBytes)([e,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,ff.concatBytes)([e,(0,dA.padStart)((0,ff.numberToBytes)(n.byteLength)),(0,dA.padEnd)(n,i)])},decode({value:e}){const t=e.subarray(0,32),r=(0,ff.bytesToNumber)(t);return e.slice(32,32+r)}};var pA={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=oe,r=hA,n=$i,i=rd,s=(0,r.coerce)((0,r.object)({address:t.StrictHexStruct,selector:t.StrictHexStruct}),(0,r.union)([t.StrictHexStruct,(0,r.instance)(Uint8Array)]),a=>{const c=(0,t.createBytes)(a);return(0,t.assert)(c.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${c.length} bytes.`)),{address:(0,t.bytesToHex)(c.subarray(0,20)),selector:(0,t.bytesToHex)(c.subarray(20,24))}}),o=a=>{const c=(0,r.create)(a,s);return(0,t.concatBytes)([(0,t.hexToBytes)(c.address),(0,t.hexToBytes)(c.selector)])};e.getFunction=o,e.fn={isDynamic:!1,isType:a=>a==="function",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const h=(0,e.getFunction)(c);return i.fixedBytes.encode({type:"bytes24",buffer:a,value:h,packed:u,tight:l})},decode({value:a}){return{address:(0,t.bytesToHex)(a.slice(0,20)),selector:(0,t.bytesToHex)(a.slice(20,24))}}}})(pA);var gA={};Object.defineProperty(gA,"__esModule",{value:!0});var nd={};Object.defineProperty(nd,"__esModule",{value:!0}),nd.string=void 0;const yA=oe,wA=uf;nd.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){return wA.bytes.encode({type:"bytes",buffer:e,value:(0,yA.stringToBytes)(t),packed:r,tight:n})},decode(e){return(0,yA.bytesToString)(wA.bytes.decode(e))}};var mA;function bA(){return mA||(mA=1,function(e){var t=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(XS,e),r(nH(),e),r(rA,e),r(uf,e),r(rd,e),r(pA,e),r(zy,e),r(gA,e),r(nd,e),r(eA(),e)}(Ly)),Ly}var _A;function jy(){return _A||(_A=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=oe,r=$i,n=td,i=bA(),s=vo,o=l=>{const h={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},_=h[l];if(_)return _;const w=Object.values(h).find(A=>A.isType(l));if(w)return w;throw new r.ParserError(`The type "${l}" is not supported.`)};e.getParser=o;const a=(l,h)=>{const{isDynamic:_}=l;return typeof _=="function"?_(h):_};e.isDynamicParser=a;const c=({types:l,values:h,packed:_=!1,tight:w=!1,arrayPacked:A=!1,byteArray:k=new Uint8Array})=>{(0,t.assert)(l.length===h.length,new r.ParserError(`The number of types (${l.length}) does not match the number of values (${h.length}).`));const{staticBuffer:I,dynamicBuffer:H,pointers:P}=l.reduce(({staticBuffer:q,dynamicBuffer:W,pointers:V},z,X)=>{const re=(0,e.getParser)(z),ee=h[X];if(_||A||!(0,e.isDynamicParser)(re,z))return{staticBuffer:re.encode({buffer:q,value:ee,type:z,packed:_,tight:w}),dynamicBuffer:W,pointers:V};const R=(0,t.concatBytes)([q,new Uint8Array(32)]),y=re.encode({buffer:W,value:ee,type:z,packed:_,tight:w});return{staticBuffer:R,dynamicBuffer:y,pointers:[...V,{position:q.length,pointer:W.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!_&&!A||H.length===0,new r.ParserError("Invalid pack state."));const C=I.length,$=P.reduce((q,{pointer:W,position:V})=>{const z=(0,s.padStart)((0,t.numberToBytes)(C+W));return(0,s.set)(q,z,V)},I);return(0,t.concatBytes)([k,$,H])};e.pack=c;const u=(l,h)=>{const _=(0,n.iterate)(h);return l.map(w=>{const{value:{value:A,skip:k},done:I}=_.next();(0,t.assert)(!I,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${w}".`));const H=(0,e.getParser)(w);if((0,e.isDynamicParser)(H,w)){const C=(0,t.bytesToNumber)(A.subarray(0,32)),$=h.subarray(C);return H.decode({type:w,value:$,skip:k})}return H.decode({type:w,value:A,skip:k})})};e.unpack=u}($y)),$y}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=oe,r=$i,n=jy(),i=(u,l,h,_)=>{try{return(0,n.pack)({types:u,values:l,packed:h,tight:_})}catch(w){throw w instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${w.message}`,w):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(w)}`,w)}};e.encode=i;const s=(u,l)=>(0,e.encode)([u],[l]);e.encodeSingle=s;const o=(u,l,h)=>(0,e.encode)(u,l,!0,h);e.encodePacked=o;const a=(u,l)=>{const h=(0,t.createBytes)(l);try{return(0,n.unpack)(u,h)}catch(_){throw _ instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${_.message}`,_):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(_)}`,_)}};e.decode=a;const c=(u,l)=>{const h=(0,e.decode)([u],l);return(0,t.assert)(h.length===1,new r.ParserError("Decoded value array has unexpected length.")),h[0]};e.decodeSingle=c})(ZS);var vA={},xA={};Object.defineProperty(xA,"__esModule",{value:!0}),function(e){var t=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(xA,e)}(vA),function(e){var t=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ZS,e),r($i,e),r(vA,e)}(GS),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=Ul,r=GS,n=bA(),i=vo,s=oe,o=li,a=hn;var c;(function(R){R.V1="V1",R.V3="V3",R.V4="V4"})(c=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function u(R,y){if(Object.keys(c).includes(R)){if(y&&!y.includes(R))throw new Error(`SignTypedDataVersion not allowed: '${R}'. Allowed versions are: ${y.join(", ")}`)}else throw new Error(`Invalid version: '${R}'`)}function l(R,y){(0,s.assert)(y!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${y}".`);const f=BigInt(y),d=(0,n.getLength)(R),b=BigInt(2)**BigInt(d)-BigInt(1);return(0,s.assert)(f>=-b&&f<=b,`Unable to encode value: Number "${y}" is out of range for type "${R}".`),f}function h(R){let y=BigInt(0);for(let f=0;f<R.length;f++){const d=BigInt(R.charCodeAt(f)-48);y*=BigInt(10),d>=49?y+=d-BigInt(49)+BigInt(10):d>=17?y+=d-BigInt(17)+BigInt(10):y+=d}return(0,i.padStart)((0,s.bigIntToBytes)(y),20)}function _(R,y,f,d,b){if(u(b,[c.V3,c.V4]),R[f]!==void 0)return["bytes32",b===c.V4&&d==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,o.keccak256)(w(f,d,R,b)))];if(f==="function")throw new Error('Unsupported or invalid type: "function"');if(d===void 0)throw new Error(`missing value for field ${y} of type ${f}`);if(f==="address"){if(typeof d=="number")return["address",(0,i.padStart)((0,s.numberToBytes)(d),20)];if((0,s.isStrictHexString)(d))return["address",(0,s.add0x)(d)];if(typeof d=="string")return["address",h(d).subarray(0,20)]}if(f==="bool")return["bool",!!d];if(f==="bytes")return typeof d=="number"?d=(0,s.numberToBytes)(d):(0,s.isStrictHexString)(d)||d==="0x"?d=(0,s.hexToBytes)(d):typeof d=="string"&&(d=(0,s.stringToBytes)(d)),["bytes32",(0,t.arrToBufArr)((0,o.keccak256)(d))];if(f.startsWith("bytes")&&f!=="bytes"&&!f.includes("["))return typeof d=="number"?d<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,s.bigIntToBytes)(BigInt(d))]:(0,s.isStrictHexString)(d)?["bytes32",(0,s.hexToBytes)(d)]:["bytes32",d];if(f.startsWith("int")&&!f.includes("[")){const x=l(f,d);return x>=BigInt(0)?["uint256",x]:["int256",x]}if(f==="string")return typeof d=="number"?d=(0,s.numberToBytes)(d):d=(0,s.stringToBytes)(d??""),["bytes32",(0,t.arrToBufArr)((0,o.keccak256)(d))];if(f.endsWith("]")){if(b===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const x=f.slice(0,f.lastIndexOf("[")),E=d.map(S=>_(R,y,x,S,b));return["bytes32",(0,t.arrToBufArr)((0,o.keccak256)((0,r.encode)(E.map(([S])=>S),E.map(([,S])=>S))))]}return[f,d]}function w(R,y,f,d){u(d,[c.V3,c.V4]);const b=["bytes32"],x=[H(R,f)];for(const E of f[R]){if(d===c.V3&&y[E.name]===void 0)continue;const[S,L]=_(f,E.name,E.type,y[E.name],d);b.push(S),x.push(L)}return(0,t.arrToBufArr)((0,r.encode)(b,x))}function A(R,y){let f="";const d=k(R,y);d.delete(R);const b=[R,...Array.from(d).sort()];for(const x of b){if(!y[x])throw new Error(`No type definition specified: ${x}`);f+=`${x}(${y[x].map(({name:S,type:L})=>`${L} ${S}`).join(",")})`}return f}function k(R,y,f=new Set){if(typeof R!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(R)}`);if([R]=R.match(/^\w*/u),f.has(R)||y[R]===void 0)return f;f.add(R);for(const b of y[R])k(b.type,y,f);return f}function I(R,y,f,d){u(d,[c.V3,c.V4]);const b=w(R,y,f,d),x=(0,o.keccak256)(b);return(0,t.arrToBufArr)(x)}function H(R,y){const f=(0,s.stringToBytes)(A(R,y));return(0,t.arrToBufArr)((0,o.keccak256)(f))}function P(R){const y={};for(const f in e.TYPED_MESSAGE_SCHEMA.properties)R[f]&&(y[f]=R[f]);return"types"in y&&(y.types=Object.assign({EIP712Domain:[]},y.types)),y}function C(R,y){u(y,[c.V3,c.V4]);const f=P(R),{domain:d}=f,b={EIP712Domain:f.types.EIP712Domain};return I("EIP712Domain",d,b,y)}function $(R,y){u(y,[c.V3,c.V4]);const f=P(R),d=[(0,s.hexToBytes)("1901")];return d.push(C(R,y)),f.primaryType!=="EIP712Domain"&&d.push(I(f.primaryType,f.message,f.types,y)),(0,t.arrToBufArr)((0,o.keccak256)((0,s.concatBytes)(d)))}e.TypedDataUtils={encodeData:w,encodeType:A,findTypeDependencies:k,hashStruct:I,hashType:H,sanitizeData:P,eip712Hash:$,eip712DomainHash:C};function q(R){const y=X(R);return(0,s.bytesToHex)(y)}e.typedSignatureHash=q;function W(R,y){if((0,n.isArrayType)(R)&&Array.isArray(y)){const[f]=(0,n.getArrayType)(R);return y.map(d=>W(f,d))}if(R==="address"){if(typeof y=="number")return(0,i.padStart)((0,s.numberToBytes)(y),20);if((0,s.isStrictHexString)(y))return(0,i.padStart)((0,s.hexToBytes)(y).subarray(0,20),20);if(y instanceof Uint8Array)return(0,i.padStart)(y.subarray(0,20),20)}if(R==="bool")return!!y;if(R.startsWith("bytes")&&R!=="bytes"){const f=(0,n.getByteLength)(R);if(typeof y=="number")return y<0?new Uint8Array:(0,s.numberToBytes)(y).subarray(0,f);if((0,s.isStrictHexString)(y))return(0,s.hexToBytes)(y).subarray(0,f);if(y instanceof Uint8Array)return y.subarray(0,f)}if(R.startsWith("uint")&&typeof y=="number")return Math.abs(y);if(R.startsWith("int")&&typeof y=="number"){const f=(0,n.getLength)(R);return BigInt.asIntN(f,BigInt(y))}return y}function V(R){return R.map(y=>typeof y=="number"?(0,i.padStart)((0,s.numberToBytes)(y),32):(0,s.isStrictHexString)(y)?(0,i.padStart)((0,s.hexToBytes)(y).subarray(0,32),32):y instanceof Uint8Array?(0,i.padStart)(y.subarray(0,32),32):y)}function z(R,y){return y.map(f=>{if(typeof f=="string"||typeof f=="number"||typeof f=="bigint"){const d=l(R,f);if(d>=BigInt(0))return(0,i.padStart)((0,s.bigIntToBytes)(d),32);const b=(0,n.getLength)(R),x=BigInt.asIntN(b,d);return(0,s.signedBigIntToBytes)(x,32)}return f})}function X(R){const y=new Error("Expect argument to be non-empty array");if(typeof R!="object"||!("length"in R)||!R.length)throw y;const f=R.map(({name:E,type:S,value:L})=>{if(S==="address[]")return{name:E,type:"bytes32[]",value:V(L)};if(S.startsWith("int")&&(0,n.isArrayType)(S)){const[T,p]=(0,n.getArrayType)(S);return{name:E,type:`bytes32[${p??""}]`,value:z(T,L)}}return{name:E,type:S,value:W(S,L)}}),d=f.map(E=>E.type!=="bytes"?E.value:(0,a.legacyToBuffer)(E.value)),b=f.map(E=>{if(E.type==="function")throw new Error('Unsupported or invalid type: "function"');return E.type}),x=R.map(E=>{if(!E.name)throw y;return`${E.type} ${E.name}`});return(0,t.arrToBufArr)((0,o.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,o.keccak256)((0,r.encodePacked)(["string[]"],[x],!0)),(0,o.keccak256)((0,r.encodePacked)(b,d,!0))])))}function re({privateKey:R,data:y,version:f}){if(u(f),(0,a.isNullish)(y))throw new Error("Missing data parameter");if((0,a.isNullish)(R))throw new Error("Missing private key parameter");const d=f===c.V1?X(y):e.TypedDataUtils.eip712Hash(y,f),b=(0,t.ecsign)(d,R);return(0,a.concatSig)((0,t.arrToBufArr)((0,s.bigIntToBytes)(b.v)),b.r,b.s)}e.signTypedData=re;function ee({data:R,signature:y,version:f}){if(u(f),(0,a.isNullish)(R))throw new Error("Missing data parameter");if((0,a.isNullish)(y))throw new Error("Missing signature parameter");const d=f===c.V1?X(R):e.TypedDataUtils.eip712Hash(R,f),b=(0,a.recoverPublicKey)(d,y),x=(0,t.publicToAddress)(b);return(0,s.bytesToHex)(x)}e.recoverTypedSignature=ee}(WS);var _i={},qy={exports:{}};(function(e){(function(t){var r=function(B){var M,N=new Float64Array(16);if(B)for(M=0;M<B.length;M++)N[M]=B[M];return N},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A(B,M,N,g){B[M]=N>>24&255,B[M+1]=N>>16&255,B[M+2]=N>>8&255,B[M+3]=N&255,B[M+4]=g>>24&255,B[M+5]=g>>16&255,B[M+6]=g>>8&255,B[M+7]=g&255}function k(B,M,N,g,F){var Q,Y=0;for(Q=0;Q<F;Q++)Y|=B[M+Q]^N[g+Q];return(1&Y-1>>>8)-1}function I(B,M,N,g){return k(B,M,N,g,16)}function H(B,M,N,g){return k(B,M,N,g,32)}function P(B,M,N,g){for(var F=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,Q=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,Y=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,fe=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,xe=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,Be=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,Ee=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,kt=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,Le=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Ze=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Je=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,dt=N[16]&255|(N[17]&255)<<8|(N[18]&255)<<16|(N[19]&255)<<24,ft=N[20]&255|(N[21]&255)<<8|(N[22]&255)<<16|(N[23]&255)<<24,Qe=N[24]&255|(N[25]&255)<<8|(N[26]&255)<<16|(N[27]&255)<<24,it=N[28]&255|(N[29]&255)<<8|(N[30]&255)<<16|(N[31]&255)<<24,et=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,Oe=F,De=Q,Re=Y,Me=fe,Ne=xe,Ie=Be,ce=Ee,ue=kt,we=Le,de=Ze,pe=Je,ve=dt,We=ft,mt=Qe,_t=it,bt=et,j,Bt=0;Bt<20;Bt+=2)j=Oe+We|0,Ne^=j<<7|j>>>32-7,j=Ne+Oe|0,we^=j<<9|j>>>32-9,j=we+Ne|0,We^=j<<13|j>>>32-13,j=We+we|0,Oe^=j<<18|j>>>32-18,j=Ie+De|0,de^=j<<7|j>>>32-7,j=de+Ie|0,mt^=j<<9|j>>>32-9,j=mt+de|0,De^=j<<13|j>>>32-13,j=De+mt|0,Ie^=j<<18|j>>>32-18,j=pe+ce|0,_t^=j<<7|j>>>32-7,j=_t+pe|0,Re^=j<<9|j>>>32-9,j=Re+_t|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,pe^=j<<18|j>>>32-18,j=bt+ve|0,Me^=j<<7|j>>>32-7,j=Me+bt|0,ue^=j<<9|j>>>32-9,j=ue+Me|0,ve^=j<<13|j>>>32-13,j=ve+ue|0,bt^=j<<18|j>>>32-18,j=Oe+Me|0,De^=j<<7|j>>>32-7,j=De+Oe|0,Re^=j<<9|j>>>32-9,j=Re+De|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,Oe^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,ue^=j<<9|j>>>32-9,j=ue+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+ue|0,Ie^=j<<18|j>>>32-18,j=pe+de|0,ve^=j<<7|j>>>32-7,j=ve+pe|0,we^=j<<9|j>>>32-9,j=we+ve|0,de^=j<<13|j>>>32-13,j=de+we|0,pe^=j<<18|j>>>32-18,j=bt+_t|0,We^=j<<7|j>>>32-7,j=We+bt|0,mt^=j<<9|j>>>32-9,j=mt+We|0,_t^=j<<13|j>>>32-13,j=_t+mt|0,bt^=j<<18|j>>>32-18;Oe=Oe+F|0,De=De+Q|0,Re=Re+Y|0,Me=Me+fe|0,Ne=Ne+xe|0,Ie=Ie+Be|0,ce=ce+Ee|0,ue=ue+kt|0,we=we+Le|0,de=de+Ze|0,pe=pe+Je|0,ve=ve+dt|0,We=We+ft|0,mt=mt+Qe|0,_t=_t+it|0,bt=bt+et|0,B[0]=Oe>>>0&255,B[1]=Oe>>>8&255,B[2]=Oe>>>16&255,B[3]=Oe>>>24&255,B[4]=De>>>0&255,B[5]=De>>>8&255,B[6]=De>>>16&255,B[7]=De>>>24&255,B[8]=Re>>>0&255,B[9]=Re>>>8&255,B[10]=Re>>>16&255,B[11]=Re>>>24&255,B[12]=Me>>>0&255,B[13]=Me>>>8&255,B[14]=Me>>>16&255,B[15]=Me>>>24&255,B[16]=Ne>>>0&255,B[17]=Ne>>>8&255,B[18]=Ne>>>16&255,B[19]=Ne>>>24&255,B[20]=Ie>>>0&255,B[21]=Ie>>>8&255,B[22]=Ie>>>16&255,B[23]=Ie>>>24&255,B[24]=ce>>>0&255,B[25]=ce>>>8&255,B[26]=ce>>>16&255,B[27]=ce>>>24&255,B[28]=ue>>>0&255,B[29]=ue>>>8&255,B[30]=ue>>>16&255,B[31]=ue>>>24&255,B[32]=we>>>0&255,B[33]=we>>>8&255,B[34]=we>>>16&255,B[35]=we>>>24&255,B[36]=de>>>0&255,B[37]=de>>>8&255,B[38]=de>>>16&255,B[39]=de>>>24&255,B[40]=pe>>>0&255,B[41]=pe>>>8&255,B[42]=pe>>>16&255,B[43]=pe>>>24&255,B[44]=ve>>>0&255,B[45]=ve>>>8&255,B[46]=ve>>>16&255,B[47]=ve>>>24&255,B[48]=We>>>0&255,B[49]=We>>>8&255,B[50]=We>>>16&255,B[51]=We>>>24&255,B[52]=mt>>>0&255,B[53]=mt>>>8&255,B[54]=mt>>>16&255,B[55]=mt>>>24&255,B[56]=_t>>>0&255,B[57]=_t>>>8&255,B[58]=_t>>>16&255,B[59]=_t>>>24&255,B[60]=bt>>>0&255,B[61]=bt>>>8&255,B[62]=bt>>>16&255,B[63]=bt>>>24&255}function C(B,M,N,g){for(var F=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,Q=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,Y=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,fe=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,xe=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,Be=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,Ee=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,kt=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,Le=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,Ze=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Je=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,dt=N[16]&255|(N[17]&255)<<8|(N[18]&255)<<16|(N[19]&255)<<24,ft=N[20]&255|(N[21]&255)<<8|(N[22]&255)<<16|(N[23]&255)<<24,Qe=N[24]&255|(N[25]&255)<<8|(N[26]&255)<<16|(N[27]&255)<<24,it=N[28]&255|(N[29]&255)<<8|(N[30]&255)<<16|(N[31]&255)<<24,et=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,Oe=F,De=Q,Re=Y,Me=fe,Ne=xe,Ie=Be,ce=Ee,ue=kt,we=Le,de=Ze,pe=Je,ve=dt,We=ft,mt=Qe,_t=it,bt=et,j,Bt=0;Bt<20;Bt+=2)j=Oe+We|0,Ne^=j<<7|j>>>32-7,j=Ne+Oe|0,we^=j<<9|j>>>32-9,j=we+Ne|0,We^=j<<13|j>>>32-13,j=We+we|0,Oe^=j<<18|j>>>32-18,j=Ie+De|0,de^=j<<7|j>>>32-7,j=de+Ie|0,mt^=j<<9|j>>>32-9,j=mt+de|0,De^=j<<13|j>>>32-13,j=De+mt|0,Ie^=j<<18|j>>>32-18,j=pe+ce|0,_t^=j<<7|j>>>32-7,j=_t+pe|0,Re^=j<<9|j>>>32-9,j=Re+_t|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,pe^=j<<18|j>>>32-18,j=bt+ve|0,Me^=j<<7|j>>>32-7,j=Me+bt|0,ue^=j<<9|j>>>32-9,j=ue+Me|0,ve^=j<<13|j>>>32-13,j=ve+ue|0,bt^=j<<18|j>>>32-18,j=Oe+Me|0,De^=j<<7|j>>>32-7,j=De+Oe|0,Re^=j<<9|j>>>32-9,j=Re+De|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,Oe^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,ue^=j<<9|j>>>32-9,j=ue+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+ue|0,Ie^=j<<18|j>>>32-18,j=pe+de|0,ve^=j<<7|j>>>32-7,j=ve+pe|0,we^=j<<9|j>>>32-9,j=we+ve|0,de^=j<<13|j>>>32-13,j=de+we|0,pe^=j<<18|j>>>32-18,j=bt+_t|0,We^=j<<7|j>>>32-7,j=We+bt|0,mt^=j<<9|j>>>32-9,j=mt+We|0,_t^=j<<13|j>>>32-13,j=_t+mt|0,bt^=j<<18|j>>>32-18;B[0]=Oe>>>0&255,B[1]=Oe>>>8&255,B[2]=Oe>>>16&255,B[3]=Oe>>>24&255,B[4]=Ie>>>0&255,B[5]=Ie>>>8&255,B[6]=Ie>>>16&255,B[7]=Ie>>>24&255,B[8]=pe>>>0&255,B[9]=pe>>>8&255,B[10]=pe>>>16&255,B[11]=pe>>>24&255,B[12]=bt>>>0&255,B[13]=bt>>>8&255,B[14]=bt>>>16&255,B[15]=bt>>>24&255,B[16]=ce>>>0&255,B[17]=ce>>>8&255,B[18]=ce>>>16&255,B[19]=ce>>>24&255,B[20]=ue>>>0&255,B[21]=ue>>>8&255,B[22]=ue>>>16&255,B[23]=ue>>>24&255,B[24]=we>>>0&255,B[25]=we>>>8&255,B[26]=we>>>16&255,B[27]=we>>>24&255,B[28]=de>>>0&255,B[29]=de>>>8&255,B[30]=de>>>16&255,B[31]=de>>>24&255}function $(B,M,N,g){P(B,M,N,g)}function q(B,M,N,g){C(B,M,N,g)}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function V(B,M,N,g,F,Q,Y){var fe=new Uint8Array(16),xe=new Uint8Array(64),Be,Ee;for(Ee=0;Ee<16;Ee++)fe[Ee]=0;for(Ee=0;Ee<8;Ee++)fe[Ee]=Q[Ee];for(;F>=64;){for($(xe,fe,Y,W),Ee=0;Ee<64;Ee++)B[M+Ee]=N[g+Ee]^xe[Ee];for(Be=1,Ee=8;Ee<16;Ee++)Be=Be+(fe[Ee]&255)|0,fe[Ee]=Be&255,Be>>>=8;F-=64,M+=64,g+=64}if(F>0)for($(xe,fe,Y,W),Ee=0;Ee<F;Ee++)B[M+Ee]=N[g+Ee]^xe[Ee];return 0}function z(B,M,N,g,F){var Q=new Uint8Array(16),Y=new Uint8Array(64),fe,xe;for(xe=0;xe<16;xe++)Q[xe]=0;for(xe=0;xe<8;xe++)Q[xe]=g[xe];for(;N>=64;){for($(Y,Q,F,W),xe=0;xe<64;xe++)B[M+xe]=Y[xe];for(fe=1,xe=8;xe<16;xe++)fe=fe+(Q[xe]&255)|0,Q[xe]=fe&255,fe>>>=8;N-=64,M+=64}if(N>0)for($(Y,Q,F,W),xe=0;xe<N;xe++)B[M+xe]=Y[xe];return 0}function X(B,M,N,g,F){var Q=new Uint8Array(32);q(Q,g,F,W);for(var Y=new Uint8Array(8),fe=0;fe<8;fe++)Y[fe]=g[fe+16];return z(B,M,N,Y,Q)}function re(B,M,N,g,F,Q,Y){var fe=new Uint8Array(32);q(fe,Q,Y,W);for(var xe=new Uint8Array(8),Be=0;Be<8;Be++)xe[Be]=Q[Be+16];return V(B,M,N,g,F,xe,fe)}var ee=function(B){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var M,N,g,F,Q,Y,fe,xe;M=B[0]&255|(B[1]&255)<<8,this.r[0]=M&8191,N=B[2]&255|(B[3]&255)<<8,this.r[1]=(M>>>13|N<<3)&8191,g=B[4]&255|(B[5]&255)<<8,this.r[2]=(N>>>10|g<<6)&7939,F=B[6]&255|(B[7]&255)<<8,this.r[3]=(g>>>7|F<<9)&8191,Q=B[8]&255|(B[9]&255)<<8,this.r[4]=(F>>>4|Q<<12)&255,this.r[5]=Q>>>1&8190,Y=B[10]&255|(B[11]&255)<<8,this.r[6]=(Q>>>14|Y<<2)&8191,fe=B[12]&255|(B[13]&255)<<8,this.r[7]=(Y>>>11|fe<<5)&8065,xe=B[14]&255|(B[15]&255)<<8,this.r[8]=(fe>>>8|xe<<8)&8191,this.r[9]=xe>>>5&127,this.pad[0]=B[16]&255|(B[17]&255)<<8,this.pad[1]=B[18]&255|(B[19]&255)<<8,this.pad[2]=B[20]&255|(B[21]&255)<<8,this.pad[3]=B[22]&255|(B[23]&255)<<8,this.pad[4]=B[24]&255|(B[25]&255)<<8,this.pad[5]=B[26]&255|(B[27]&255)<<8,this.pad[6]=B[28]&255|(B[29]&255)<<8,this.pad[7]=B[30]&255|(B[31]&255)<<8};ee.prototype.blocks=function(B,M,N){for(var g=this.fin?0:2048,F,Q,Y,fe,xe,Be,Ee,kt,Le,Ze,Je,dt,ft,Qe,it,et,Oe,De,Re,Me=this.h[0],Ne=this.h[1],Ie=this.h[2],ce=this.h[3],ue=this.h[4],we=this.h[5],de=this.h[6],pe=this.h[7],ve=this.h[8],We=this.h[9],mt=this.r[0],_t=this.r[1],bt=this.r[2],j=this.r[3],Bt=this.r[4],Pt=this.r[5],Ft=this.r[6],At=this.r[7],Ut=this.r[8],Mt=this.r[9];N>=16;)F=B[M+0]&255|(B[M+1]&255)<<8,Me+=F&8191,Q=B[M+2]&255|(B[M+3]&255)<<8,Ne+=(F>>>13|Q<<3)&8191,Y=B[M+4]&255|(B[M+5]&255)<<8,Ie+=(Q>>>10|Y<<6)&8191,fe=B[M+6]&255|(B[M+7]&255)<<8,ce+=(Y>>>7|fe<<9)&8191,xe=B[M+8]&255|(B[M+9]&255)<<8,ue+=(fe>>>4|xe<<12)&8191,we+=xe>>>1&8191,Be=B[M+10]&255|(B[M+11]&255)<<8,de+=(xe>>>14|Be<<2)&8191,Ee=B[M+12]&255|(B[M+13]&255)<<8,pe+=(Be>>>11|Ee<<5)&8191,kt=B[M+14]&255|(B[M+15]&255)<<8,ve+=(Ee>>>8|kt<<8)&8191,We+=kt>>>5|g,Le=0,Ze=Le,Ze+=Me*mt,Ze+=Ne*(5*Mt),Ze+=Ie*(5*Ut),Ze+=ce*(5*At),Ze+=ue*(5*Ft),Le=Ze>>>13,Ze&=8191,Ze+=we*(5*Pt),Ze+=de*(5*Bt),Ze+=pe*(5*j),Ze+=ve*(5*bt),Ze+=We*(5*_t),Le+=Ze>>>13,Ze&=8191,Je=Le,Je+=Me*_t,Je+=Ne*mt,Je+=Ie*(5*Mt),Je+=ce*(5*Ut),Je+=ue*(5*At),Le=Je>>>13,Je&=8191,Je+=we*(5*Ft),Je+=de*(5*Pt),Je+=pe*(5*Bt),Je+=ve*(5*j),Je+=We*(5*bt),Le+=Je>>>13,Je&=8191,dt=Le,dt+=Me*bt,dt+=Ne*_t,dt+=Ie*mt,dt+=ce*(5*Mt),dt+=ue*(5*Ut),Le=dt>>>13,dt&=8191,dt+=we*(5*At),dt+=de*(5*Ft),dt+=pe*(5*Pt),dt+=ve*(5*Bt),dt+=We*(5*j),Le+=dt>>>13,dt&=8191,ft=Le,ft+=Me*j,ft+=Ne*bt,ft+=Ie*_t,ft+=ce*mt,ft+=ue*(5*Mt),Le=ft>>>13,ft&=8191,ft+=we*(5*Ut),ft+=de*(5*At),ft+=pe*(5*Ft),ft+=ve*(5*Pt),ft+=We*(5*Bt),Le+=ft>>>13,ft&=8191,Qe=Le,Qe+=Me*Bt,Qe+=Ne*j,Qe+=Ie*bt,Qe+=ce*_t,Qe+=ue*mt,Le=Qe>>>13,Qe&=8191,Qe+=we*(5*Mt),Qe+=de*(5*Ut),Qe+=pe*(5*At),Qe+=ve*(5*Ft),Qe+=We*(5*Pt),Le+=Qe>>>13,Qe&=8191,it=Le,it+=Me*Pt,it+=Ne*Bt,it+=Ie*j,it+=ce*bt,it+=ue*_t,Le=it>>>13,it&=8191,it+=we*mt,it+=de*(5*Mt),it+=pe*(5*Ut),it+=ve*(5*At),it+=We*(5*Ft),Le+=it>>>13,it&=8191,et=Le,et+=Me*Ft,et+=Ne*Pt,et+=Ie*Bt,et+=ce*j,et+=ue*bt,Le=et>>>13,et&=8191,et+=we*_t,et+=de*mt,et+=pe*(5*Mt),et+=ve*(5*Ut),et+=We*(5*At),Le+=et>>>13,et&=8191,Oe=Le,Oe+=Me*At,Oe+=Ne*Ft,Oe+=Ie*Pt,Oe+=ce*Bt,Oe+=ue*j,Le=Oe>>>13,Oe&=8191,Oe+=we*bt,Oe+=de*_t,Oe+=pe*mt,Oe+=ve*(5*Mt),Oe+=We*(5*Ut),Le+=Oe>>>13,Oe&=8191,De=Le,De+=Me*Ut,De+=Ne*At,De+=Ie*Ft,De+=ce*Pt,De+=ue*Bt,Le=De>>>13,De&=8191,De+=we*j,De+=de*bt,De+=pe*_t,De+=ve*mt,De+=We*(5*Mt),Le+=De>>>13,De&=8191,Re=Le,Re+=Me*Mt,Re+=Ne*Ut,Re+=Ie*At,Re+=ce*Ft,Re+=ue*Pt,Le=Re>>>13,Re&=8191,Re+=we*Bt,Re+=de*j,Re+=pe*bt,Re+=ve*_t,Re+=We*mt,Le+=Re>>>13,Re&=8191,Le=(Le<<2)+Le|0,Le=Le+Ze|0,Ze=Le&8191,Le=Le>>>13,Je+=Le,Me=Ze,Ne=Je,Ie=dt,ce=ft,ue=Qe,we=it,de=et,pe=Oe,ve=De,We=Re,M+=16,N-=16;this.h[0]=Me,this.h[1]=Ne,this.h[2]=Ie,this.h[3]=ce,this.h[4]=ue,this.h[5]=we,this.h[6]=de,this.h[7]=pe,this.h[8]=ve,this.h[9]=We},ee.prototype.finish=function(B,M){var N=new Uint16Array(10),g,F,Q,Y;if(this.leftover){for(Y=this.leftover,this.buffer[Y++]=1;Y<16;Y++)this.buffer[Y]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(g=this.h[1]>>>13,this.h[1]&=8191,Y=2;Y<10;Y++)this.h[Y]+=g,g=this.h[Y]>>>13,this.h[Y]&=8191;for(this.h[0]+=g*5,g=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=g,g=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=g,N[0]=this.h[0]+5,g=N[0]>>>13,N[0]&=8191,Y=1;Y<10;Y++)N[Y]=this.h[Y]+g,g=N[Y]>>>13,N[Y]&=8191;for(N[9]-=8192,F=(g^1)-1,Y=0;Y<10;Y++)N[Y]&=F;for(F=~F,Y=0;Y<10;Y++)this.h[Y]=this.h[Y]&F|N[Y];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Q=this.h[0]+this.pad[0],this.h[0]=Q&65535,Y=1;Y<8;Y++)Q=(this.h[Y]+this.pad[Y]|0)+(Q>>>16)|0,this.h[Y]=Q&65535;B[M+0]=this.h[0]>>>0&255,B[M+1]=this.h[0]>>>8&255,B[M+2]=this.h[1]>>>0&255,B[M+3]=this.h[1]>>>8&255,B[M+4]=this.h[2]>>>0&255,B[M+5]=this.h[2]>>>8&255,B[M+6]=this.h[3]>>>0&255,B[M+7]=this.h[3]>>>8&255,B[M+8]=this.h[4]>>>0&255,B[M+9]=this.h[4]>>>8&255,B[M+10]=this.h[5]>>>0&255,B[M+11]=this.h[5]>>>8&255,B[M+12]=this.h[6]>>>0&255,B[M+13]=this.h[6]>>>8&255,B[M+14]=this.h[7]>>>0&255,B[M+15]=this.h[7]>>>8&255},ee.prototype.update=function(B,M,N){var g,F;if(this.leftover){for(F=16-this.leftover,F>N&&(F=N),g=0;g<F;g++)this.buffer[this.leftover+g]=B[M+g];if(N-=F,M+=F,this.leftover+=F,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(N>=16&&(F=N-N%16,this.blocks(B,M,F),M+=F,N-=F),N){for(g=0;g<N;g++)this.buffer[this.leftover+g]=B[M+g];this.leftover+=N}};function R(B,M,N,g,F,Q){var Y=new ee(Q);return Y.update(N,g,F),Y.finish(B,M),0}function y(B,M,N,g,F,Q){var Y=new Uint8Array(16);return R(Y,0,N,g,F,Q),I(B,M,Y,0)}function f(B,M,N,g,F){var Q;if(N<32)return-1;for(re(B,0,M,0,N,g,F),R(B,16,B,32,N-32,B),Q=0;Q<16;Q++)B[Q]=0;return 0}function d(B,M,N,g,F){var Q,Y=new Uint8Array(32);if(N<32||(X(Y,0,32,g,F),y(M,16,M,32,N-32,Y)!==0))return-1;for(re(B,0,M,0,N,g,F),Q=0;Q<32;Q++)B[Q]=0;return 0}function b(B,M){var N;for(N=0;N<16;N++)B[N]=M[N]|0}function x(B){var M,N,g=1;for(M=0;M<16;M++)N=B[M]+g+65535,g=Math.floor(N/65536),B[M]=N-g*65536;B[0]+=g-1+37*(g-1)}function E(B,M,N){for(var g,F=~(N-1),Q=0;Q<16;Q++)g=F&(B[Q]^M[Q]),B[Q]^=g,M[Q]^=g}function S(B,M){var N,g,F,Q=r(),Y=r();for(N=0;N<16;N++)Y[N]=M[N];for(x(Y),x(Y),x(Y),g=0;g<2;g++){for(Q[0]=Y[0]-65517,N=1;N<15;N++)Q[N]=Y[N]-65535-(Q[N-1]>>16&1),Q[N-1]&=65535;Q[15]=Y[15]-32767-(Q[14]>>16&1),F=Q[15]>>16&1,Q[14]&=65535,E(Y,Q,1-F)}for(N=0;N<16;N++)B[2*N]=Y[N]&255,B[2*N+1]=Y[N]>>8}function L(B,M){var N=new Uint8Array(32),g=new Uint8Array(32);return S(N,B),S(g,M),H(N,0,g,0)}function T(B){var M=new Uint8Array(32);return S(M,B),M[0]&1}function p(B,M){var N;for(N=0;N<16;N++)B[N]=M[2*N]+(M[2*N+1]<<8);B[15]&=32767}function O(B,M,N){for(var g=0;g<16;g++)B[g]=M[g]+N[g]}function G(B,M,N){for(var g=0;g<16;g++)B[g]=M[g]-N[g]}function Z(B,M,N){var g,F,Q=0,Y=0,fe=0,xe=0,Be=0,Ee=0,kt=0,Le=0,Ze=0,Je=0,dt=0,ft=0,Qe=0,it=0,et=0,Oe=0,De=0,Re=0,Me=0,Ne=0,Ie=0,ce=0,ue=0,we=0,de=0,pe=0,ve=0,We=0,mt=0,_t=0,bt=0,j=N[0],Bt=N[1],Pt=N[2],Ft=N[3],At=N[4],Ut=N[5],Mt=N[6],Nr=N[7],Qt=N[8],Cr=N[9],$r=N[10],Lr=N[11],Yr=N[12],Sn=N[13],An=N[14],Bn=N[15];g=M[0],Q+=g*j,Y+=g*Bt,fe+=g*Pt,xe+=g*Ft,Be+=g*At,Ee+=g*Ut,kt+=g*Mt,Le+=g*Nr,Ze+=g*Qt,Je+=g*Cr,dt+=g*$r,ft+=g*Lr,Qe+=g*Yr,it+=g*Sn,et+=g*An,Oe+=g*Bn,g=M[1],Y+=g*j,fe+=g*Bt,xe+=g*Pt,Be+=g*Ft,Ee+=g*At,kt+=g*Ut,Le+=g*Mt,Ze+=g*Nr,Je+=g*Qt,dt+=g*Cr,ft+=g*$r,Qe+=g*Lr,it+=g*Yr,et+=g*Sn,Oe+=g*An,De+=g*Bn,g=M[2],fe+=g*j,xe+=g*Bt,Be+=g*Pt,Ee+=g*Ft,kt+=g*At,Le+=g*Ut,Ze+=g*Mt,Je+=g*Nr,dt+=g*Qt,ft+=g*Cr,Qe+=g*$r,it+=g*Lr,et+=g*Yr,Oe+=g*Sn,De+=g*An,Re+=g*Bn,g=M[3],xe+=g*j,Be+=g*Bt,Ee+=g*Pt,kt+=g*Ft,Le+=g*At,Ze+=g*Ut,Je+=g*Mt,dt+=g*Nr,ft+=g*Qt,Qe+=g*Cr,it+=g*$r,et+=g*Lr,Oe+=g*Yr,De+=g*Sn,Re+=g*An,Me+=g*Bn,g=M[4],Be+=g*j,Ee+=g*Bt,kt+=g*Pt,Le+=g*Ft,Ze+=g*At,Je+=g*Ut,dt+=g*Mt,ft+=g*Nr,Qe+=g*Qt,it+=g*Cr,et+=g*$r,Oe+=g*Lr,De+=g*Yr,Re+=g*Sn,Me+=g*An,Ne+=g*Bn,g=M[5],Ee+=g*j,kt+=g*Bt,Le+=g*Pt,Ze+=g*Ft,Je+=g*At,dt+=g*Ut,ft+=g*Mt,Qe+=g*Nr,it+=g*Qt,et+=g*Cr,Oe+=g*$r,De+=g*Lr,Re+=g*Yr,Me+=g*Sn,Ne+=g*An,Ie+=g*Bn,g=M[6],kt+=g*j,Le+=g*Bt,Ze+=g*Pt,Je+=g*Ft,dt+=g*At,ft+=g*Ut,Qe+=g*Mt,it+=g*Nr,et+=g*Qt,Oe+=g*Cr,De+=g*$r,Re+=g*Lr,Me+=g*Yr,Ne+=g*Sn,Ie+=g*An,ce+=g*Bn,g=M[7],Le+=g*j,Ze+=g*Bt,Je+=g*Pt,dt+=g*Ft,ft+=g*At,Qe+=g*Ut,it+=g*Mt,et+=g*Nr,Oe+=g*Qt,De+=g*Cr,Re+=g*$r,Me+=g*Lr,Ne+=g*Yr,Ie+=g*Sn,ce+=g*An,ue+=g*Bn,g=M[8],Ze+=g*j,Je+=g*Bt,dt+=g*Pt,ft+=g*Ft,Qe+=g*At,it+=g*Ut,et+=g*Mt,Oe+=g*Nr,De+=g*Qt,Re+=g*Cr,Me+=g*$r,Ne+=g*Lr,Ie+=g*Yr,ce+=g*Sn,ue+=g*An,we+=g*Bn,g=M[9],Je+=g*j,dt+=g*Bt,ft+=g*Pt,Qe+=g*Ft,it+=g*At,et+=g*Ut,Oe+=g*Mt,De+=g*Nr,Re+=g*Qt,Me+=g*Cr,Ne+=g*$r,Ie+=g*Lr,ce+=g*Yr,ue+=g*Sn,we+=g*An,de+=g*Bn,g=M[10],dt+=g*j,ft+=g*Bt,Qe+=g*Pt,it+=g*Ft,et+=g*At,Oe+=g*Ut,De+=g*Mt,Re+=g*Nr,Me+=g*Qt,Ne+=g*Cr,Ie+=g*$r,ce+=g*Lr,ue+=g*Yr,we+=g*Sn,de+=g*An,pe+=g*Bn,g=M[11],ft+=g*j,Qe+=g*Bt,it+=g*Pt,et+=g*Ft,Oe+=g*At,De+=g*Ut,Re+=g*Mt,Me+=g*Nr,Ne+=g*Qt,Ie+=g*Cr,ce+=g*$r,ue+=g*Lr,we+=g*Yr,de+=g*Sn,pe+=g*An,ve+=g*Bn,g=M[12],Qe+=g*j,it+=g*Bt,et+=g*Pt,Oe+=g*Ft,De+=g*At,Re+=g*Ut,Me+=g*Mt,Ne+=g*Nr,Ie+=g*Qt,ce+=g*Cr,ue+=g*$r,we+=g*Lr,de+=g*Yr,pe+=g*Sn,ve+=g*An,We+=g*Bn,g=M[13],it+=g*j,et+=g*Bt,Oe+=g*Pt,De+=g*Ft,Re+=g*At,Me+=g*Ut,Ne+=g*Mt,Ie+=g*Nr,ce+=g*Qt,ue+=g*Cr,we+=g*$r,de+=g*Lr,pe+=g*Yr,ve+=g*Sn,We+=g*An,mt+=g*Bn,g=M[14],et+=g*j,Oe+=g*Bt,De+=g*Pt,Re+=g*Ft,Me+=g*At,Ne+=g*Ut,Ie+=g*Mt,ce+=g*Nr,ue+=g*Qt,we+=g*Cr,de+=g*$r,pe+=g*Lr,ve+=g*Yr,We+=g*Sn,mt+=g*An,_t+=g*Bn,g=M[15],Oe+=g*j,De+=g*Bt,Re+=g*Pt,Me+=g*Ft,Ne+=g*At,Ie+=g*Ut,ce+=g*Mt,ue+=g*Nr,we+=g*Qt,de+=g*Cr,pe+=g*$r,ve+=g*Lr,We+=g*Yr,mt+=g*Sn,_t+=g*An,bt+=g*Bn,Q+=38*De,Y+=38*Re,fe+=38*Me,xe+=38*Ne,Be+=38*Ie,Ee+=38*ce,kt+=38*ue,Le+=38*we,Ze+=38*de,Je+=38*pe,dt+=38*ve,ft+=38*We,Qe+=38*mt,it+=38*_t,et+=38*bt,F=1,g=Q+F+65535,F=Math.floor(g/65536),Q=g-F*65536,g=Y+F+65535,F=Math.floor(g/65536),Y=g-F*65536,g=fe+F+65535,F=Math.floor(g/65536),fe=g-F*65536,g=xe+F+65535,F=Math.floor(g/65536),xe=g-F*65536,g=Be+F+65535,F=Math.floor(g/65536),Be=g-F*65536,g=Ee+F+65535,F=Math.floor(g/65536),Ee=g-F*65536,g=kt+F+65535,F=Math.floor(g/65536),kt=g-F*65536,g=Le+F+65535,F=Math.floor(g/65536),Le=g-F*65536,g=Ze+F+65535,F=Math.floor(g/65536),Ze=g-F*65536,g=Je+F+65535,F=Math.floor(g/65536),Je=g-F*65536,g=dt+F+65535,F=Math.floor(g/65536),dt=g-F*65536,g=ft+F+65535,F=Math.floor(g/65536),ft=g-F*65536,g=Qe+F+65535,F=Math.floor(g/65536),Qe=g-F*65536,g=it+F+65535,F=Math.floor(g/65536),it=g-F*65536,g=et+F+65535,F=Math.floor(g/65536),et=g-F*65536,g=Oe+F+65535,F=Math.floor(g/65536),Oe=g-F*65536,Q+=F-1+37*(F-1),F=1,g=Q+F+65535,F=Math.floor(g/65536),Q=g-F*65536,g=Y+F+65535,F=Math.floor(g/65536),Y=g-F*65536,g=fe+F+65535,F=Math.floor(g/65536),fe=g-F*65536,g=xe+F+65535,F=Math.floor(g/65536),xe=g-F*65536,g=Be+F+65535,F=Math.floor(g/65536),Be=g-F*65536,g=Ee+F+65535,F=Math.floor(g/65536),Ee=g-F*65536,g=kt+F+65535,F=Math.floor(g/65536),kt=g-F*65536,g=Le+F+65535,F=Math.floor(g/65536),Le=g-F*65536,g=Ze+F+65535,F=Math.floor(g/65536),Ze=g-F*65536,g=Je+F+65535,F=Math.floor(g/65536),Je=g-F*65536,g=dt+F+65535,F=Math.floor(g/65536),dt=g-F*65536,g=ft+F+65535,F=Math.floor(g/65536),ft=g-F*65536,g=Qe+F+65535,F=Math.floor(g/65536),Qe=g-F*65536,g=it+F+65535,F=Math.floor(g/65536),it=g-F*65536,g=et+F+65535,F=Math.floor(g/65536),et=g-F*65536,g=Oe+F+65535,F=Math.floor(g/65536),Oe=g-F*65536,Q+=F-1+37*(F-1),B[0]=Q,B[1]=Y,B[2]=fe,B[3]=xe,B[4]=Be,B[5]=Ee,B[6]=kt,B[7]=Le,B[8]=Ze,B[9]=Je,B[10]=dt,B[11]=ft,B[12]=Qe,B[13]=it,B[14]=et,B[15]=Oe}function ne(B,M){Z(B,M,M)}function Se(B,M){var N=r(),g;for(g=0;g<16;g++)N[g]=M[g];for(g=253;g>=0;g--)ne(N,N),g!==2&&g!==4&&Z(N,N,M);for(g=0;g<16;g++)B[g]=N[g]}function _e(B,M){var N=r(),g;for(g=0;g<16;g++)N[g]=M[g];for(g=250;g>=0;g--)ne(N,N),g!==1&&Z(N,N,M);for(g=0;g<16;g++)B[g]=N[g]}function ye(B,M,N){var g=new Uint8Array(32),F=new Float64Array(80),Q,Y,fe=r(),xe=r(),Be=r(),Ee=r(),kt=r(),Le=r();for(Y=0;Y<31;Y++)g[Y]=M[Y];for(g[31]=M[31]&127|64,g[0]&=248,p(F,N),Y=0;Y<16;Y++)xe[Y]=F[Y],Ee[Y]=fe[Y]=Be[Y]=0;for(fe[0]=Ee[0]=1,Y=254;Y>=0;--Y)Q=g[Y>>>3]>>>(Y&7)&1,E(fe,xe,Q),E(Be,Ee,Q),O(kt,fe,Be),G(fe,fe,Be),O(Be,xe,Ee),G(xe,xe,Ee),ne(Ee,kt),ne(Le,fe),Z(fe,Be,fe),Z(Be,xe,kt),O(kt,fe,Be),G(fe,fe,Be),ne(xe,fe),G(Be,Ee,Le),Z(fe,Be,c),O(fe,fe,Ee),Z(Be,Be,fe),Z(fe,Ee,Le),Z(Ee,xe,F),ne(xe,kt),E(fe,xe,Q),E(Be,Ee,Q);for(Y=0;Y<16;Y++)F[Y+16]=fe[Y],F[Y+32]=Be[Y],F[Y+48]=xe[Y],F[Y+64]=Ee[Y];var Ze=F.subarray(32),Je=F.subarray(16);return Se(Ze,Ze),Z(Je,Je,Ze),S(B,Je),0}function nt(B,M){return ye(B,M,s)}function Fe(B,M){return n(M,32),nt(B,M)}function Pe(B,M,N){var g=new Uint8Array(32);return ye(g,N,M),q(B,i,g,W)}var ge=f,me=d;function Ce(B,M,N,g,F,Q){var Y=new Uint8Array(32);return Pe(Y,F,Q),ge(B,M,N,g,Y)}function St(B,M,N,g,F,Q){var Y=new Uint8Array(32);return Pe(Y,F,Q),me(B,M,N,g,Y)}var ze=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ot(B,M,N,g){for(var F=new Int32Array(16),Q=new Int32Array(16),Y,fe,xe,Be,Ee,kt,Le,Ze,Je,dt,ft,Qe,it,et,Oe,De,Re,Me,Ne,Ie,ce,ue,we,de,pe,ve,We=B[0],mt=B[1],_t=B[2],bt=B[3],j=B[4],Bt=B[5],Pt=B[6],Ft=B[7],At=M[0],Ut=M[1],Mt=M[2],Nr=M[3],Qt=M[4],Cr=M[5],$r=M[6],Lr=M[7],Yr=0;g>=128;){for(Ne=0;Ne<16;Ne++)Ie=8*Ne+Yr,F[Ne]=N[Ie+0]<<24|N[Ie+1]<<16|N[Ie+2]<<8|N[Ie+3],Q[Ne]=N[Ie+4]<<24|N[Ie+5]<<16|N[Ie+6]<<8|N[Ie+7];for(Ne=0;Ne<80;Ne++)if(Y=We,fe=mt,xe=_t,Be=bt,Ee=j,kt=Bt,Le=Pt,Ze=Ft,Je=At,dt=Ut,ft=Mt,Qe=Nr,it=Qt,et=Cr,Oe=$r,De=Lr,ce=Ft,ue=Lr,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=(j>>>14|Qt<<32-14)^(j>>>18|Qt<<32-18)^(Qt>>>41-32|j<<32-(41-32)),ue=(Qt>>>14|j<<32-14)^(Qt>>>18|j<<32-18)^(j>>>41-32|Qt<<32-(41-32)),we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,ce=j&Bt^~j&Pt,ue=Qt&Cr^~Qt&$r,we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,ce=ze[Ne*2],ue=ze[Ne*2+1],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,ce=F[Ne%16],ue=Q[Ne%16],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,Re=pe&65535|ve<<16,Me=we&65535|de<<16,ce=Re,ue=Me,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=(We>>>28|At<<32-28)^(At>>>34-32|We<<32-(34-32))^(At>>>39-32|We<<32-(39-32)),ue=(At>>>28|We<<32-28)^(We>>>34-32|At<<32-(34-32))^(We>>>39-32|At<<32-(39-32)),we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,ce=We&mt^We&_t^mt&_t,ue=At&Ut^At&Mt^Ut&Mt,we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,Ze=pe&65535|ve<<16,De=we&65535|de<<16,ce=Be,ue=Qe,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=Re,ue=Me,we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,Be=pe&65535|ve<<16,Qe=we&65535|de<<16,mt=Y,_t=fe,bt=xe,j=Be,Bt=Ee,Pt=kt,Ft=Le,We=Ze,Ut=Je,Mt=dt,Nr=ft,Qt=Qe,Cr=it,$r=et,Lr=Oe,At=De,Ne%16===15)for(Ie=0;Ie<16;Ie++)ce=F[Ie],ue=Q[Ie],we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=F[(Ie+9)%16],ue=Q[(Ie+9)%16],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,Re=F[(Ie+1)%16],Me=Q[(Ie+1)%16],ce=(Re>>>1|Me<<32-1)^(Re>>>8|Me<<32-8)^Re>>>7,ue=(Me>>>1|Re<<32-1)^(Me>>>8|Re<<32-8)^(Me>>>7|Re<<32-7),we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,Re=F[(Ie+14)%16],Me=Q[(Ie+14)%16],ce=(Re>>>19|Me<<32-19)^(Me>>>61-32|Re<<32-(61-32))^Re>>>6,ue=(Me>>>19|Re<<32-19)^(Re>>>61-32|Me<<32-(61-32))^(Me>>>6|Re<<32-6),we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,F[Ie]=pe&65535|ve<<16,Q[Ie]=we&65535|de<<16;ce=We,ue=At,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[0],ue=M[0],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[0]=We=pe&65535|ve<<16,M[0]=At=we&65535|de<<16,ce=mt,ue=Ut,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[1],ue=M[1],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[1]=mt=pe&65535|ve<<16,M[1]=Ut=we&65535|de<<16,ce=_t,ue=Mt,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[2],ue=M[2],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[2]=_t=pe&65535|ve<<16,M[2]=Mt=we&65535|de<<16,ce=bt,ue=Nr,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[3],ue=M[3],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[3]=bt=pe&65535|ve<<16,M[3]=Nr=we&65535|de<<16,ce=j,ue=Qt,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[4],ue=M[4],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[4]=j=pe&65535|ve<<16,M[4]=Qt=we&65535|de<<16,ce=Bt,ue=Cr,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[5],ue=M[5],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[5]=Bt=pe&65535|ve<<16,M[5]=Cr=we&65535|de<<16,ce=Pt,ue=$r,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[6],ue=M[6],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[6]=Pt=pe&65535|ve<<16,M[6]=$r=we&65535|de<<16,ce=Ft,ue=Lr,we=ue&65535,de=ue>>>16,pe=ce&65535,ve=ce>>>16,ce=B[7],ue=M[7],we+=ue&65535,de+=ue>>>16,pe+=ce&65535,ve+=ce>>>16,de+=we>>>16,pe+=de>>>16,ve+=pe>>>16,B[7]=Ft=pe&65535|ve<<16,M[7]=Lr=we&65535|de<<16,Yr+=128,g-=128}return g}function Kt(B,M,N){var g=new Int32Array(8),F=new Int32Array(8),Q=new Uint8Array(256),Y,fe=N;for(g[0]=1779033703,g[1]=3144134277,g[2]=1013904242,g[3]=2773480762,g[4]=1359893119,g[5]=2600822924,g[6]=528734635,g[7]=1541459225,F[0]=4089235720,F[1]=2227873595,F[2]=4271175723,F[3]=1595750129,F[4]=2917565137,F[5]=725511199,F[6]=4215389547,F[7]=327033209,ot(g,F,M,N),N%=128,Y=0;Y<N;Y++)Q[Y]=M[fe-N+Y];for(Q[N]=128,N=256-128*(N<112?1:0),Q[N-9]=0,A(Q,N-8,fe/536870912|0,fe<<3),ot(g,F,Q,N),Y=0;Y<8;Y++)A(B,8*Y,g[Y],F[Y]);return 0}function ht(B,M){var N=r(),g=r(),F=r(),Q=r(),Y=r(),fe=r(),xe=r(),Be=r(),Ee=r();G(N,B[1],B[0]),G(Ee,M[1],M[0]),Z(N,N,Ee),O(g,B[0],B[1]),O(Ee,M[0],M[1]),Z(g,g,Ee),Z(F,B[3],M[3]),Z(F,F,l),Z(Q,B[2],M[2]),O(Q,Q,Q),G(Y,g,N),G(fe,Q,F),O(xe,Q,F),O(Be,g,N),Z(B[0],Y,fe),Z(B[1],Be,xe),Z(B[2],xe,fe),Z(B[3],Y,Be)}function wt(B,M,N){var g;for(g=0;g<4;g++)E(B[g],M[g],N)}function Jt(B,M){var N=r(),g=r(),F=r();Se(F,M[2]),Z(N,M[0],F),Z(g,M[1],F),S(B,g),B[31]^=T(N)<<7}function Tt(B,M,N){var g,F;for(b(B[0],o),b(B[1],a),b(B[2],a),b(B[3],o),F=255;F>=0;--F)g=N[F/8|0]>>(F&7)&1,wt(B,M,g),ht(M,B),ht(B,B),wt(B,M,g)}function Rt(B,M){var N=[r(),r(),r(),r()];b(N[0],h),b(N[1],_),b(N[2],a),Z(N[3],h,_),Tt(B,N,M)}function nr(B,M,N){var g=new Uint8Array(64),F=[r(),r(),r(),r()],Q;for(N||n(M,32),Kt(g,M,32),g[0]&=248,g[31]&=127,g[31]|=64,Rt(F,g),Jt(B,F),Q=0;Q<32;Q++)M[Q+32]=B[Q];return 0}var Lt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function U(B,M){var N,g,F,Q;for(g=63;g>=32;--g){for(N=0,F=g-32,Q=g-12;F<Q;++F)M[F]+=N-16*M[g]*Lt[F-(g-32)],N=Math.floor((M[F]+128)/256),M[F]-=N*256;M[F]+=N,M[g]=0}for(N=0,F=0;F<32;F++)M[F]+=N-(M[31]>>4)*Lt[F],N=M[F]>>8,M[F]&=255;for(F=0;F<32;F++)M[F]-=N*Lt[F];for(g=0;g<32;g++)M[g+1]+=M[g]>>8,B[g]=M[g]&255}function m(B){var M=new Float64Array(64),N;for(N=0;N<64;N++)M[N]=B[N];for(N=0;N<64;N++)B[N]=0;U(B,M)}function v(B,M,N,g){var F=new Uint8Array(64),Q=new Uint8Array(64),Y=new Uint8Array(64),fe,xe,Be=new Float64Array(64),Ee=[r(),r(),r(),r()];Kt(F,g,32),F[0]&=248,F[31]&=127,F[31]|=64;var kt=N+64;for(fe=0;fe<N;fe++)B[64+fe]=M[fe];for(fe=0;fe<32;fe++)B[32+fe]=F[32+fe];for(Kt(Y,B.subarray(32),N+32),m(Y),Rt(Ee,Y),Jt(B,Ee),fe=32;fe<64;fe++)B[fe]=g[fe];for(Kt(Q,B,N+64),m(Q),fe=0;fe<64;fe++)Be[fe]=0;for(fe=0;fe<32;fe++)Be[fe]=Y[fe];for(fe=0;fe<32;fe++)for(xe=0;xe<32;xe++)Be[fe+xe]+=Q[fe]*F[xe];return U(B.subarray(32),Be),kt}function D(B,M){var N=r(),g=r(),F=r(),Q=r(),Y=r(),fe=r(),xe=r();return b(B[2],a),p(B[1],M),ne(F,B[1]),Z(Q,F,u),G(F,F,B[2]),O(Q,B[2],Q),ne(Y,Q),ne(fe,Y),Z(xe,fe,Y),Z(N,xe,F),Z(N,N,Q),_e(N,N),Z(N,N,F),Z(N,N,Q),Z(N,N,Q),Z(B[0],N,Q),ne(g,B[0]),Z(g,g,Q),L(g,F)&&Z(B[0],B[0],w),ne(g,B[0]),Z(g,g,Q),L(g,F)?-1:(T(B[0])===M[31]>>7&&G(B[0],o,B[0]),Z(B[3],B[0],B[1]),0)}function K(B,M,N,g){var F,Q=new Uint8Array(32),Y=new Uint8Array(64),fe=[r(),r(),r(),r()],xe=[r(),r(),r(),r()];if(N<64||D(xe,g))return-1;for(F=0;F<N;F++)B[F]=M[F];for(F=0;F<32;F++)B[F+32]=g[F];if(Kt(Y,B,N),m(Y),Tt(fe,xe,Y),Rt(xe,M.subarray(32)),ht(fe,xe),Jt(Q,fe),N-=64,H(M,0,Q,0)){for(F=0;F<N;F++)B[F]=0;return-1}for(F=0;F<N;F++)B[F]=M[F+64];return N}var J=32,ae=24,Ye=32,Xe=16,Ge=32,Wt=32,Ve=32,ur=32,Kc=32,Sr=ae,Rr=Ye,Ud=Xe,Gt=64,rr=32,Os=64,wr=32,mr=64;t.lowlevel={crypto_core_hsalsa20:q,crypto_stream_xor:re,crypto_stream:X,crypto_stream_salsa20_xor:V,crypto_stream_salsa20:z,crypto_onetimeauth:R,crypto_onetimeauth_verify:y,crypto_verify_16:I,crypto_verify_32:H,crypto_secretbox:f,crypto_secretbox_open:d,crypto_scalarmult:ye,crypto_scalarmult_base:nt,crypto_box_beforenm:Pe,crypto_box_afternm:ge,crypto_box:Ce,crypto_box_open:St,crypto_box_keypair:Fe,crypto_hash:Kt,crypto_sign:v,crypto_sign_keypair:nr,crypto_sign_open:K,crypto_secretbox_KEYBYTES:J,crypto_secretbox_NONCEBYTES:ae,crypto_secretbox_ZEROBYTES:Ye,crypto_secretbox_BOXZEROBYTES:Xe,crypto_scalarmult_BYTES:Ge,crypto_scalarmult_SCALARBYTES:Wt,crypto_box_PUBLICKEYBYTES:Ve,crypto_box_SECRETKEYBYTES:ur,crypto_box_BEFORENMBYTES:Kc,crypto_box_NONCEBYTES:Sr,crypto_box_ZEROBYTES:Rr,crypto_box_BOXZEROBYTES:Ud,crypto_sign_BYTES:Gt,crypto_sign_PUBLICKEYBYTES:rr,crypto_sign_SECRETKEYBYTES:Os,crypto_sign_SEEDBYTES:wr,crypto_hash_BYTES:mr,gf:r,D:u,L:Lt,pack25519:S,unpack25519:p,M:Z,A:O,S:ne,Z:G,pow2523:_e,add:ht,set25519:b,modL:U,scalarmult:Tt,scalarbase:Rt};function Lf(B,M){if(B.length!==J)throw new Error("bad key size");if(M.length!==ae)throw new Error("bad nonce size")}function kr(B,M){if(B.length!==Ve)throw new Error("bad public key size");if(M.length!==ur)throw new Error("bad secret key size")}function Ot(){for(var B=0;B<arguments.length;B++)if(!(arguments[B]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Of(B){for(var M=0;M<B.length;M++)B[M]=0}t.randomBytes=function(B){var M=new Uint8Array(B);return n(M,B),M},t.secretbox=function(B,M,N){Ot(B,M,N),Lf(N,M);for(var g=new Uint8Array(Ye+B.length),F=new Uint8Array(g.length),Q=0;Q<B.length;Q++)g[Q+Ye]=B[Q];return f(F,g,g.length,M,N),F.subarray(Xe)},t.secretbox.open=function(B,M,N){Ot(B,M,N),Lf(N,M);for(var g=new Uint8Array(Xe+B.length),F=new Uint8Array(g.length),Q=0;Q<B.length;Q++)g[Q+Xe]=B[Q];return g.length<32||d(F,g,g.length,M,N)!==0?null:F.subarray(Ye)},t.secretbox.keyLength=J,t.secretbox.nonceLength=ae,t.secretbox.overheadLength=Xe,t.scalarMult=function(B,M){if(Ot(B,M),B.length!==Wt)throw new Error("bad n size");if(M.length!==Ge)throw new Error("bad p size");var N=new Uint8Array(Ge);return ye(N,B,M),N},t.scalarMult.base=function(B){if(Ot(B),B.length!==Wt)throw new Error("bad n size");var M=new Uint8Array(Ge);return nt(M,B),M},t.scalarMult.scalarLength=Wt,t.scalarMult.groupElementLength=Ge,t.box=function(B,M,N,g){var F=t.box.before(N,g);return t.secretbox(B,M,F)},t.box.before=function(B,M){Ot(B,M),kr(B,M);var N=new Uint8Array(Kc);return Pe(N,B,M),N},t.box.after=t.secretbox,t.box.open=function(B,M,N,g){var F=t.box.before(N,g);return t.secretbox.open(B,M,F)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var B=new Uint8Array(Ve),M=new Uint8Array(ur);return Fe(B,M),{publicKey:B,secretKey:M}},t.box.keyPair.fromSecretKey=function(B){if(Ot(B),B.length!==ur)throw new Error("bad secret key size");var M=new Uint8Array(Ve);return nt(M,B),{publicKey:M,secretKey:new Uint8Array(B)}},t.box.publicKeyLength=Ve,t.box.secretKeyLength=ur,t.box.sharedKeyLength=Kc,t.box.nonceLength=Sr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(B,M){if(Ot(B,M),M.length!==Os)throw new Error("bad secret key size");var N=new Uint8Array(Gt+B.length);return v(N,B,B.length,M),N},t.sign.open=function(B,M){if(Ot(B,M),M.length!==rr)throw new Error("bad public key size");var N=new Uint8Array(B.length),g=K(N,B,B.length,M);if(g<0)return null;for(var F=new Uint8Array(g),Q=0;Q<F.length;Q++)F[Q]=N[Q];return F},t.sign.detached=function(B,M){for(var N=t.sign(B,M),g=new Uint8Array(Gt),F=0;F<g.length;F++)g[F]=N[F];return g},t.sign.detached.verify=function(B,M,N){if(Ot(B,M,N),M.length!==Gt)throw new Error("bad signature size");if(N.length!==rr)throw new Error("bad public key size");var g=new Uint8Array(Gt+B.length),F=new Uint8Array(Gt+B.length),Q;for(Q=0;Q<Gt;Q++)g[Q]=M[Q];for(Q=0;Q<B.length;Q++)g[Q+Gt]=B[Q];return K(F,g,g.length,N)>=0},t.sign.keyPair=function(){var B=new Uint8Array(rr),M=new Uint8Array(Os);return nr(B,M),{publicKey:B,secretKey:M}},t.sign.keyPair.fromSecretKey=function(B){if(Ot(B),B.length!==Os)throw new Error("bad secret key size");for(var M=new Uint8Array(rr),N=0;N<M.length;N++)M[N]=B[32+N];return{publicKey:M,secretKey:new Uint8Array(B)}},t.sign.keyPair.fromSeed=function(B){if(Ot(B),B.length!==wr)throw new Error("bad seed size");for(var M=new Uint8Array(rr),N=new Uint8Array(Os),g=0;g<32;g++)N[g]=B[g];return nr(M,N,!0),{publicKey:M,secretKey:N}},t.sign.publicKeyLength=rr,t.sign.secretKeyLength=Os,t.sign.seedLength=wr,t.sign.signatureLength=Gt,t.hash=function(B){Ot(B);var M=new Uint8Array(mr);return Kt(M,B,B.length),M},t.hash.hashLength=mr,t.verify=function(B,M){return Ot(B,M),B.length===0||M.length===0||B.length!==M.length?!1:k(B,0,M,0,B.length)===0},t.setPRNG=function(B){n=B},function(){var B=typeof self<"u"?self.crypto||self.msCrypto:null;if(B&&B.getRandomValues){var M=65536;t.setPRNG(function(N,g){var F,Q=new Uint8Array(g);for(F=0;F<g;F+=M)B.getRandomValues(Q.subarray(F,F+Math.min(g-F,M)));for(F=0;F<g;F++)N[F]=Q[F];Of(Q)})}else typeof Sp<"u"&&(B=Nw,B&&B.randomBytes&&t.setPRNG(function(N,g){var F,Q=B.randomBytes(g);for(F=0;F<g;F++)N[F]=Q[F];Of(Q)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(qy);var id=qy.exports,jH=lt&&lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qH=lt&&lt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VH=lt&&lt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&jH(t,e,r);return qH(t,e),t};Object.defineProperty(_i,"__esModule",{value:!0}),_i.getEncryptionPublicKey=_i.decryptSafely=_i.decrypt=_i.encryptSafely=_i.encrypt=void 0;const ts=Yg,pa=VH(qy.exports),rs=hn;function EA({publicKey:e,data:t,version:r}){if((0,rs.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,rs.isNullish)(t))throw new Error("Missing data parameter");if((0,rs.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");const n=pa.box.keyPair();let i;try{i=ts.base64.decode(e)}catch{throw new Error("Bad public key")}const s=ts.utf8.decode(t),o=pa.randomBytes(pa.box.nonceLength),a=pa.box(s,o,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:ts.base64.encode(o),ephemPublicKey:ts.base64.encode(n.publicKey),ciphertext:ts.base64.encode(a)}}default:throw new Error("Encryption type/version not supported")}}_i.encrypt=EA;function KH({publicKey:e,data:t,version:r}){if((0,rs.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,rs.isNullish)(t))throw new Error("Missing data parameter");if((0,rs.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:t,padding:""},a=se.Buffer.byteLength(JSON.stringify(s),"utf-8")%n;let c=0;a>0&&(c=n-a-i),s.padding="0".repeat(c);const u=JSON.stringify(s);return EA({publicKey:e,data:u,version:r})}_i.encryptSafely=KH;function SA({encryptedData:e,privateKey:t}){if((0,rs.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,rs.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const r=se.Buffer.from(t,"hex"),n=pa.box.keyPair.fromSecretKey(r).secretKey,i=ts.base64.decode(e.nonce),s=ts.base64.decode(e.ciphertext),o=ts.base64.decode(e.ephemPublicKey),a=pa.box.open(s,i,o,n);try{if(!a)throw new Error;const c=ts.utf8.encode(a);if(!c)throw new Error;return c}catch(c){throw c&&typeof c.message=="string"&&c.message.length?new Error(`Decryption failed: ${c.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}_i.decrypt=SA;function WH({encryptedData:e,privateKey:t}){if((0,rs.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,rs.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(SA({encryptedData:e,privateKey:t})).data}_i.decryptSafely=WH;function GH(e){const t=se.Buffer.from(e,"hex"),r=pa.box.keyPair.fromSecretKey(t).publicKey;return ts.base64.encode(r)}_i.getEncryptionPublicKey=GH,function(e){var t=lt&&lt.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=lt&&lt.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,r(Ws,e),r(WS,e),r(_i,e);var n=hn;Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return n.normalize}})}(Wa);class AA extends Error{constructor(t,r){super(),this.code=t,this.message=r}toString(){return`${this.message} (${this.code})`}}var ZH=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},YH=(e,t,r)=>(ZH(e,t,"read from private field"),r?r.call(e):t.get(e)),XH=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Vy;const Ic=class{constructor(e){XH(this,Vy,["eth_newFilter","eth_newBlockFilter","eth_newPendingTransactionFilter","eth_uninstallFilter","eth_subscribe"]),this.provider=e}static isUTF8(e){try{return new TextDecoder("utf8",{fatal:!0}).decode(e),!0}catch{return!1}}static bufferToHex(e){return"0x"+se.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=se.Buffer.from([]);try{typeof e=="string"?t=se.Buffer.from(e.replace("0x",""),"hex"):t=se.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}async request(e){if(YH(this,Vy).includes(e.method))return Promise.reject(new AA(4200,`EthereumProvider does not support calling ${e.method}`));switch(e.method){case"wallet_requestPermissions":return this.provider.internalRequest({method:"wallet_requestPermissions",params:e.params});case"eth_requestAccounts":return this.provider.internalRequest({method:"requestAccounts",params:{}});case"eth_sign":return this.ethSign(e.params);case"personal_sign":return this.personalSign(e.params);case"personal_ecRecover":return this.personalECRecover(e.params);case"eth_signTypedData_v3":return this.ethSignTypedData(e.params,Wa.SignTypedDataVersion.V3);case"eth_signTypedData_v4":return this.ethSignTypedData(e.params,Wa.SignTypedDataVersion.V4);case"eth_signTypedData":return this.ethSignTypedData(e.params,Wa.SignTypedDataVersion.V1);case"eth_sendTransaction":return this.provider.internalRequest({method:"signTransaction",params:e.params[0]});case"wallet_watchAsset":{const{options:t,type:r}=e.params,{address:n,symbol:i,decimals:s}=t;return this.provider.internalRequest({method:"watchAsset",params:{type:r,contract:n,symbol:i,decimals:s||0}})}case"wallet_addEthereumChain":return this.provider.internalRequest({method:"addEthereumChain",params:e.params[0]});case"wallet_switchEthereumChain":return this.provider.internalRequest({method:"switchEthereumChain",params:e.params[0]});default:return(await this.provider.getRPC().call({method:e.method,jsonrpc:"2.0",params:e.params})).result}}personalECRecover(e){return this.provider.internalRequest({method:"ecRecover",params:{signature:e[1],message:e[0]}})}async personalSign(e){const[t]=await this.provider.request({method:"eth_accounts"});if(!t)throw new Error("Unable to execute personal_sign");let[r,n]=e;typeof r=="string"&&t.toLowerCase()===r.toLowerCase()&&(r=e[1],n=e[0]);const i=Ic.messageToBuffer(r);return this.provider.internalRequest({method:"signPersonalMessage",params:{data:i.length===0?Ic.bufferToHex(r):r,address:n}})}ethSign(e){if(!e)throw new Error("Missing params");const[t,r]=e,n=Ic.messageToBuffer(r),i=Ic.bufferToHex(n);return this.provider.internalRequest({method:Ic.isUTF8(n)?"signPersonalMessage":"signMessage",params:{data:i,address:t}})}async ethSignTypedData(e,t){const[r]=await this.provider.request({method:"eth_accounts"});if(!r)throw new Error("Unable to execute ethSignTypedData, address is not present");let[n,i]=e;typeof n=="string"&&r.toLowerCase()===n.toLowerCase()&&(n=e[1],i=e[0]);const s=typeof n=="string"?JSON.parse(n):n,{chainId:o}=s.domain||{};if(typeof o<"u"&&Number(o)!==Number(this.provider.getChainId()))throw new Error("Provided chainId does not match the currently active chain");const a=t!==Wa.SignTypedDataVersion.V1?Wa.TypedDataUtils.eip712Hash(s,t):"";return this.provider.internalRequest({method:"signTypedMessage",params:{data:"0x"+a.toString("hex"),raw:typeof n=="string"?n:JSON.stringify(n),address:i,version:t}})}};let JH=Ic;Vy=new WeakMap;var QH=Object.defineProperty,BA=Object.getOwnPropertySymbols,e9=Object.prototype.hasOwnProperty,t9=Object.prototype.propertyIsEnumerable,TA=(e,t,r)=>t in e?QH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r9=(e,t)=>{for(var r in t||(t={}))e9.call(t,r)&&TA(e,r,t[r]);if(BA)for(var r of BA(t))t9.call(t,r)&&TA(e,r,t[r]);return e},IA=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},n9=(e,t,r)=>(IA(e,t,"read from private field"),r?r.call(e):t.get(e)),i9=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},s9=(e,t,r,n)=>(IA(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),sd;class RA{constructor(t){i9(this,sd,void 0),s9(this,sd,t)}async getBlockNumber(){return(await this.call({jsonrpc:"2.0",method:"eth_blockNumber",params:[]})).result}async getBlockByNumber(t){return(await this.call({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:[t,!1]})).result}getFilterLogs(t){return this.call({jsonrpc:"2.0",method:"eth_getLogs",params:[t]})}async call(t){const r=await(await fetch(n9(this,sd),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r9({id:new Date().getTime()+Math.floor(Math.random()*1e3)},t))})).json();if(!r.result&&r.error)throw new Error(r.error.message||"rpc error");return r}}sd=new WeakMap;var kA=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},xn=(e,t,r)=>(kA(e,t,"read from private field"),r?r.call(e):t.get(e)),Rc=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},zn=(e,t,r,n)=>(kA(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),CA,Li,kc,od,lf,ns,Cc;const $A=class extends jd{constructor(e){super(),Rc(this,Li,void 0),Rc(this,kc,void 0),Rc(this,od,!1),Rc(this,lf,!0),Rc(this,ns,void 0),Rc(this,Cc,void 0),this.isOnto=!0,this.isONTO=!0,this.isTrust=!1,this.isTrustWallet=!1,this.signer={uri:((CA=crypto.randomUUID)==null?void 0:CA.call(crypto))||Math.random()},this.request=this.request.bind(this),e&&(e.chainId&&zn(this,Li,e.chainId),(e.rpc||e.rpcUrl)&&zn(this,kc,e.rpc||e.rpcUrl),e.address&&zn(this,ns,e.address),typeof e.overwriteMetamask<"u"&&zn(this,lf,e.overwriteMetamask),typeof e.disableMobileAdapter<"u"&&zn(this,od,e.disableMobileAdapter),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust),zn(this,Cc,new RA(xn(this,kc)))),xn(this,od)||(this.mobileAdapter=new JH(this)),super.on("onResponseReady",this.onResponseReady.bind(this)),this.connect()}connect(){this.emit("connect",{chainId:xn(this,Li)})}enable(){return this.request({method:"eth_requestAccounts"})}sendAsync(e,t){Array.isArray(e)?Promise.all(e.map(r=>this.request(r))).then(r=>t(null,r)).catch(r=>t(r,null)):this.request(e).then(r=>t(null,r)).catch(r=>t(r,null))}_send(e){const t={jsonrpc:"2.0",result:null};switch(e.method){case"eth_accounts":case"eth_coinbase":case"net_version":case"eth_chainId":t.result=this.handleStaticRequests({method:"eth_accounts"});break;default:throw new AA(4200,`Trust does not support calling ${e.method} synchronously without a callback. Please provide a callback parameter to call ${e.method} asynchronously.`)}return t}send(e,t){if(typeof e=="string"&&(!t||Array.isArray(t))){const r=this;return new Promise((n,i)=>{try{const s=r.request({method:e,params:t});s instanceof Promise?s.then(n).catch(i):n(s)}catch(s){i(s)}})}else if(e&&typeof e=="object"&&typeof t=="function")return this.request(e).then(t);return this._send(e)}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);if(this.mobileAdapter){const r=this.handleStaticRequests(e,()=>this.mobileAdapter.request(e));return r instanceof Promise?r:Promise.resolve(r)}return this.handleStaticRequests(e,t)}handleStaticRequests(e,t){switch(e.method){case"net_version":return xn(this,Li)?parseInt(xn(this,Li)):void 0;case"eth_chainId":return xn(this,Li);case"eth_accounts":case"eth_coinbase":return xn(this,ns)?[xn(this,ns)]:[]}if(t)return t()}onResponseReady(e,t){var r,n,i,s;if(t)switch(e.method){case"eth_requestAccounts":case"requestAccounts":zn(this,ns,t[0]);break;case"wallet_requestPermissions":zn(this,ns,(s=(i=(n=(r=t[0])==null?void 0:r.caveats)==null?void 0:n[0])==null?void 0:i.value)==null?void 0:s[0]);break}}getNetwork(){return $A.NETWORK}get connected(){return!0}get isMetaMask(){return xn(this,lf)}getChainId(){return xn(this,Li)}getNetworkVersion(){return this.handleStaticRequests({method:"net_version "})}get networkVersion(){return xn(this,Li)}get chainId(){return xn(this,Li)}setConfig(e){this.setChainId("0x"+parseInt(e.chainId||"1").toString(16)),e.address&&this.setAddress(e.address),e.rpcUrl&&this.setRPCUrl(e.rpcUrl)}emitChainChanged(e){this.setChainId("0x"+parseInt(e||"1").toString(16)),this.emit("chainChanged",this.getChainId()),this.emit("networkChanged",parseInt(e||"1")),this.emit("accountsChanged",[this.getAddress()])}setChainId(e){zn(this,Li,e)}setRPCUrl(e){zn(this,kc,e),zn(this,Cc,new RA(xn(this,kc)))}getRPC(){return xn(this,Cc)}setOverwriteMetamask(e){zn(this,lf,e)}get selectedAddress(){return xn(this,ns)}getAddress(){return xn(this,ns)}setAddress(e){zn(this,ns,e)}setRPC(e){zn(this,Cc,e)}};let LA=$A;Li=new WeakMap,kc=new WeakMap,od=new WeakMap,lf=new WeakMap,ns=new WeakMap,Cc=new WeakMap,LA.NETWORK="ethereum";class o9{constructor(t){this.provider=t}async request(t,r){if(t.method==="getKey"){const i=await this.provider.internalRequest({method:"requestAccounts",params:t.params}),s=JSON.parse(i);return{algo:"secp256k1",address:s.address,bech32Address:s.address,pubKey:se.Buffer.from(s.pubKey,"hex")}}const n={signAmino:"signTransaction",signDirect:"signTransaction",signArbitrary:"signMessage",sendTx:"sendTransaction"};return n[t.method]?this.provider.internalRequest({method:n[t.method],params:t.params}):r()}}var OA=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},UA=(e,t,r)=>(OA(e,t,"read from private field"),r?r.call(e):t.get(e)),a9=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},c9=(e,t,r,n)=>(OA(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),hf;const df=class extends jd{constructor(e){super(),a9(this,hf,!1),this.isKeplr=!0,this.isTrust=!0,this.isTrustWallet=!0,e&&(typeof e.disableMobileAdapter<"u"&&c9(this,hf,e.disableMobileAdapter),typeof e.isKeplr<"u"&&(this.isKeplr=e.isKeplr),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust)),UA(this,hf)||(this.mobileAdapter=new o9(this))}static bufferToHex(e){return"0x"+se.Buffer.from(e).toString("hex")}getNetwork(){return df.NETWORK}isMobileAdapterEnabled(){return!UA(this,hf)}enable(e){return this.request({method:"enable",params:{chainIds:e}})}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()}getKey(e){return this.request({method:"getKey",params:{chainId:e}})}async sendTx(e,t,r){const n=se.Buffer.from(t).toString("base64"),i=await this.request({method:"sendTx",params:{raw:n,chainId:e,mode:r}});return se.Buffer.from(i,"hex")}async signArbitrary(e,t,r){const n=se.Buffer.from(r),i=df.bufferToHex(n);return await this.request({method:"signArbitrary",params:{chainId:e,data:i,signerAddress:t}})}async signAmino(e,t,r){const n=await this.request({method:"signAmino",params:{chainId:e,sign_doc:r}}),{signed:i,signature:s}=JSON.parse(n);return{signed:i,signature:s}}async signDirect(e,t,r){const n={bodyBytes:df.bufferToHex(r.bodyBytes),authInfoBytes:df.bufferToHex(r.authInfoBytes)},i=await this.request({method:"signDirect",params:{signerAddress:t,chainId:e,sign_doc:n}}),{signature:s}=JSON.parse(i);return{signed:r,signature:s}}experimentalSuggestChain(){}getOfflineSignerDirect(e){return{getAccounts:async()=>[await this.getKey(e)],signDirect:async(t,r)=>{if(e!==r.chainId)throw new Error("Unmatched chain id with the offline signer");if((await this.getKey(r.chainId)).address!==t)throw new Error("Unknown signer address");return await this.signDirect(e,t,r)}}}getOfflineSigner(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAuto(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAmino(e){return{getAccounts:async()=>{const t=await this.getKey(e);return[{address:t.bech32Address,algo:"secp256k1",pubkey:t.pubKey}]},sign:(t,r)=>this.signAmino(e,t,r),signAmino:(t,r)=>this.signAmino(e,t,r)}}};let MA=df;hf=new WeakMap,MA.NETWORK="cosmos";function ga(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function u9(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ky(e,...t){if(!u9(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function NA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ga(e.outputLen),ga(e.blockLen)}function $c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function PA(e,t){Ky(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f9=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function FA(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}const ad=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),is=(e,t)=>e<<32-t|e>>>t;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const l9=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function HA(e){if(!FA(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=l9[e[r]];return t}const ks={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function DA(e){if(e>=ks._0&&e<=ks._9)return e-ks._0;if(e>=ks._A&&e<=ks._F)return e-(ks._A-10);if(e>=ks._a&&e<=ks._f)return e-(ks._a-10)}function zA(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=DA(e.charCodeAt(s)),a=DA(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function h9(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Lc(e){if(typeof e=="string"&&(e=h9(e)),!FA(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class Wy{clone(){return this._cloneInto()}}const d9={}.toString;function p9(e,t){if(t!==void 0&&d9.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Gy(e){const t=n=>e().update(Lc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}class jA extends Wy{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,NA(t);const n=Lc(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return $c(this),this.iHash.update(t),this}digestInto(t){$c(this),Ky(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cd=(e,t,r)=>new jA(e,t).update(r).digest();cd.create=(e,t)=>new jA(e,t);function g9(e,t,r,n){NA(e);const i=p9({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:a}=i;if(ga(s),ga(o),ga(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Lc(t),u=Lc(r),l=new Uint8Array(o),h=cd.create(e,c),_=h._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:h,PRFSalt:_}}function y9(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function w9(e,t,r,n){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=g9(e,t,r,n);let u;const l=new Uint8Array(4),h=ad(l),_=new Uint8Array(a.outputLen);for(let w=1,A=0;A<s;w++,A+=a.outputLen){const k=o.subarray(A,A+a.outputLen);h.setInt32(0,w,!1),(u=c._cloneInto(u)).update(l).digestInto(_),k.set(_.subarray(0,k.length));for(let I=1;I<i;I++){a._cloneInto(u).update(_).digestInto(_);for(let H=0;H<k.length;H++)k[H]^=_[H]}}return y9(a,c,o,u,_)}function m9(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}class qA extends Wy{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ad(this.buffer)}update(t){$c(this);const{view:r,buffer:n,blockLen:i}=this;t=Lc(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=ad(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$c(this),PA(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;m9(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=ad(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,l[h],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const b9=(e,t,r)=>e&t^~e&r,_9=(e,t,r)=>e&t^e&r^t&r,v9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Eo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),So=new Uint32Array(64);class x9 extends qA{constructor(){super(64,32,8,!1),this.A=Eo[0]|0,this.B=Eo[1]|0,this.C=Eo[2]|0,this.D=Eo[3]|0,this.E=Eo[4]|0,this.F=Eo[5]|0,this.G=Eo[6]|0,this.H=Eo[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let h=0;h<16;h++,r+=4)So[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){const _=So[h-15],w=So[h-2],A=is(_,7)^is(_,18)^_>>>3,k=is(w,17)^is(w,19)^w>>>10;So[h]=k+So[h-7]+A+So[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let h=0;h<64;h++){const _=is(a,6)^is(a,11)^is(a,25),w=l+_+b9(a,c,u)+v9[h]+So[h]|0,k=(is(n,2)^is(n,13)^is(n,22))+_9(n,i,s)|0;l=u,u=c,c=a,a=o+w|0,o=s,s=i,i=n,n=w+k|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){So.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const E9=Gy(()=>new x9),ud=BigInt(2**32-1),Zy=BigInt(32);function VA(e,t=!1){return t?{h:Number(e&ud),l:Number(e>>Zy&ud)}:{h:Number(e>>Zy&ud)|0,l:Number(e&ud)|0}}function KA(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=VA(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const S9=(e,t)=>BigInt(e>>>0)<<Zy|BigInt(t>>>0),A9=(e,t,r)=>e>>>r,B9=(e,t,r)=>e<<32-r|t>>>r,T9=(e,t,r)=>e>>>r|t<<32-r,I9=(e,t,r)=>e<<32-r|t>>>r,R9=(e,t,r)=>e<<64-r|t>>>r-32,k9=(e,t,r)=>e>>>r-32|t<<64-r,C9=(e,t)=>t,$9=(e,t)=>e,WA=(e,t,r)=>e<<r|t>>>32-r,GA=(e,t,r)=>t<<r|e>>>32-r,ZA=(e,t,r)=>t<<r-32|e>>>64-r,YA=(e,t,r)=>e<<r-32|t>>>64-r;function L9(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const Et={fromBig:VA,split:KA,toBig:S9,shrSH:A9,shrSL:B9,rotrSH:T9,rotrSL:I9,rotrBH:R9,rotrBL:k9,rotr32H:C9,rotr32L:$9,rotlSH:WA,rotlSL:GA,rotlBH:ZA,rotlBL:YA,add:L9,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[O9,U9]=(()=>Et.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Ao=new Uint32Array(80),Bo=new Uint32Array(80);class M9 extends qA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:h,Fl:_,Gh:w,Gl:A,Hh:k,Hl:I}=this;return[t,r,n,i,s,o,a,c,u,l,h,_,w,A,k,I]}set(t,r,n,i,s,o,a,c,u,l,h,_,w,A,k,I){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=h|0,this.Fl=_|0,this.Gh=w|0,this.Gl=A|0,this.Hh=k|0,this.Hl=I|0}process(t,r){for(let C=0;C<16;C++,r+=4)Ao[C]=t.getUint32(r),Bo[C]=t.getUint32(r+=4);for(let C=16;C<80;C++){const $=Ao[C-15]|0,q=Bo[C-15]|0,W=Et.rotrSH($,q,1)^Et.rotrSH($,q,8)^Et.shrSH($,q,7),V=Et.rotrSL($,q,1)^Et.rotrSL($,q,8)^Et.shrSL($,q,7),z=Ao[C-2]|0,X=Bo[C-2]|0,re=Et.rotrSH(z,X,19)^Et.rotrBH(z,X,61)^Et.shrSH(z,X,6),ee=Et.rotrSL(z,X,19)^Et.rotrBL(z,X,61)^Et.shrSL(z,X,6),R=Et.add4L(V,ee,Bo[C-7],Bo[C-16]),y=Et.add4H(R,W,re,Ao[C-7],Ao[C-16]);Ao[C]=y|0,Bo[C]=R|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:h,El:_,Fh:w,Fl:A,Gh:k,Gl:I,Hh:H,Hl:P}=this;for(let C=0;C<80;C++){const $=Et.rotrSH(h,_,14)^Et.rotrSH(h,_,18)^Et.rotrBH(h,_,41),q=Et.rotrSL(h,_,14)^Et.rotrSL(h,_,18)^Et.rotrBL(h,_,41),W=h&w^~h&k,V=_&A^~_&I,z=Et.add5L(P,q,V,U9[C],Bo[C]),X=Et.add5H(z,H,$,W,O9[C],Ao[C]),re=z|0,ee=Et.rotrSH(n,i,28)^Et.rotrBH(n,i,34)^Et.rotrBH(n,i,39),R=Et.rotrSL(n,i,28)^Et.rotrBL(n,i,34)^Et.rotrBL(n,i,39),y=n&s^n&a^s&a,f=i&o^i&c^o&c;H=k|0,P=I|0,k=w|0,I=A|0,w=h|0,A=_|0,{h,l:_}=Et.add(u|0,l|0,X|0,re|0),u=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const d=Et.add3L(re,R,f);n=Et.add3H(d,X,ee,y),i=d|0}({h:n,l:i}=Et.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Et.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Et.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Et.add(this.Dh|0,this.Dl|0,u|0,l|0),{h,l:_}=Et.add(this.Eh|0,this.El|0,h|0,_|0),{h:w,l:A}=Et.add(this.Fh|0,this.Fl|0,w|0,A|0),{h:k,l:I}=Et.add(this.Gh|0,this.Gl|0,k|0,I|0),{h:H,l:P}=Et.add(this.Hh|0,this.Hl|0,H|0,P|0),this.set(n,i,s,o,a,c,u,l,h,_,w,A,k,I,H,P)}roundClean(){Ao.fill(0),Bo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Yy=Gy(()=>new M9);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fd(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function N9(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ss(...e){const t=s=>s,r=(s,o)=>a=>s(o(a)),n=e.map(s=>s.encode).reduceRight(r,t),i=e.map(s=>s.decode).reduce(r,t);return{encode:n,decode:i}}function os(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(fd(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})}}}function as(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function ld(e,t="="){if(fd(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function XA(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}const JA=(e,t)=>t?JA(t,e%t):e,hd=(e,t)=>e+(t-JA(e,t));function QA(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(hd(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${hd(t,r)}`);let i=0,s=0;const o=2**r-1,a=[];for(const c of e){if(fd(c),c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)a.push((i>>s-r&o)>>>0);i&=2**s-1}if(i=i<<r-s&o,!n&&s>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&a.push(i>>>0),a}function Cs(e,t=!1){if(fd(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(hd(8,e)>32||hd(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!N9(r))throw new Error("radix2.encode input should be Uint8Array");return QA(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(QA(r,e,8,t))}}}Cs(4),os("0123456789ABCDEF"),as(""),Cs(5),os("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ld(5),as(""),Cs(5),os("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ld(5),as(""),Cs(5),os("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),as(""),XA(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")),Cs(6),os("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ld(6),as(""),Cs(6),os("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),as(""),Cs(6),os("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ld(6),as(""),Cs(6),os("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),as(""),os("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),as(""),Cs(4),os("0123456789abcdef"),as(""),XA(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()});function e3(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function P9(e){const t=e3(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}const F9=e=>e3(`mnemonic${e}`);function H9(e,t=""){return w9(Yy,P9(e).nfkd,F9(t),{c:2048,dkLen:64})}const[t3,r3,n3]=[[],[],[]],D9=BigInt(0),pf=BigInt(1),z9=BigInt(2),j9=BigInt(7),q9=BigInt(256),V9=BigInt(113);for(let e=0,t=pf,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],t3.push(2*(5*n+r)),r3.push((e+1)*(e+2)/2%64);let i=D9;for(let s=0;s<7;s++)t=(t<<pf^(t>>j9)*V9)%q9,t&z9&&(i^=pf<<(pf<<BigInt(s))-pf);n3.push(i)}const[K9,W9]=KA(n3,!0),i3=(e,t,r)=>r>32?ZA(e,t,r):WA(e,t,r),s3=(e,t,r)=>r>32?YA(e,t,r):GA(e,t,r);function G9(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],h=i3(u,l,1)^r[a],_=s3(u,l,1)^r[a+1];for(let w=0;w<50;w+=10)e[o+w]^=h,e[o+w+1]^=_}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=r3[o],c=i3(i,s,a),u=s3(i,s,a),l=t3[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=K9[n],e[1]^=W9[n]}r.fill(0)}class Xy extends Wy{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ga(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=f9(this.state)}keccak(){G9(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){$c(this);const{blockLen:r,state:n}=this;t=Lc(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){$c(this,!1),Ky(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ga(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(PA(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Xy(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Oc=((e,t,r)=>Gy(()=>new Xy(t,e,r)))(6,136,256/8);function o3(e,t){return function(){return e.apply(t,arguments)}}const{toString:Z9}=Object.prototype,{getPrototypeOf:Jy}=Object,dd=(e=>t=>{const r=Z9.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Oi=e=>(e=e.toLowerCase(),t=>dd(t)===e),pd=e=>t=>typeof t===e,{isArray:Uc}=Array,gf=pd("undefined");function Y9(e){return e!==null&&!gf(e)&&e.constructor!==null&&!gf(e.constructor)&&ri(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const a3=Oi("ArrayBuffer");function X9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&a3(e.buffer),t}const J9=pd("string"),ri=pd("function"),c3=pd("number"),gd=e=>e!==null&&typeof e=="object",Q9=e=>e===!0||e===!1,yd=e=>{if(dd(e)!=="object")return!1;const t=Jy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eD=Oi("Date"),tD=Oi("File"),rD=Oi("Blob"),nD=Oi("FileList"),iD=e=>gd(e)&&ri(e.pipe),sD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ri(e.append)&&((t=dd(e))==="formdata"||t==="object"&&ri(e.toString)&&e.toString()==="[object FormData]"))},oD=Oi("URLSearchParams"),[aD,cD,uD,fD]=["ReadableStream","Request","Response","Headers"].map(Oi),lD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yf(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Uc(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(n=0;n<o;n++)a=s[n],t.call(null,e[a],a,e)}}function u3(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ya=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),f3=e=>!gf(e)&&e!==ya;function Qy(){const{caseless:e}=f3(this)&&this||{},t={},r=(n,i)=>{const s=e&&u3(t,i)||i;yd(t[s])&&yd(n)?t[s]=Qy(t[s],n):yd(n)?t[s]=Qy({},n):Uc(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&yf(arguments[n],r);return t}const hD=(e,t,r,{allOwnKeys:n}={})=>(yf(t,(i,s)=>{r&&ri(i)?e[s]=o3(i,r):e[s]=i},{allOwnKeys:n}),e),dD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pD=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},gD=(e,t,r,n)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&Jy(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},yD=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},wD=e=>{if(!e)return null;if(Uc(e))return e;let t=e.length;if(!c3(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jy(Uint8Array)),bD=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},_D=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},vD=Oi("HTMLFormElement"),xD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),l3=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ED=Oi("RegExp"),h3=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};yf(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},SD=e=>{h3(e,(t,r)=>{if(ri(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ri(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},AD=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Uc(e)?n(e):n(String(e).split(t)),r},BD=()=>{},TD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,e1="abcdefghijklmnopqrstuvwxyz",d3="0123456789",p3={DIGIT:d3,ALPHA:e1,ALPHA_DIGIT:e1+e1.toUpperCase()+d3},ID=(e=16,t=p3.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function RD(e){return!!(e&&ri(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const kD=e=>{const t=new Array(10),r=(n,i)=>{if(gd(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Uc(n)?[]:{};return yf(n,(o,a)=>{const c=r(o,i+1);!gf(c)&&(s[a]=c)}),t[i]=void 0,s}}return n};return r(e,0)},CD=Oi("AsyncFunction"),$D=e=>e&&(gd(e)||ri(e))&&ri(e.then)&&ri(e.catch),g3=((e,t)=>e?setImmediate:t?((r,n)=>(ya.addEventListener("message",({source:i,data:s})=>{i===ya&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ya.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ri(ya.postMessage)),LD=typeof queueMicrotask<"u"?queueMicrotask.bind(ya):typeof process<"u"&&process.nextTick||g3;var le={isArray:Uc,isArrayBuffer:a3,isBuffer:Y9,isFormData:sD,isArrayBufferView:X9,isString:J9,isNumber:c3,isBoolean:Q9,isObject:gd,isPlainObject:yd,isReadableStream:aD,isRequest:cD,isResponse:uD,isHeaders:fD,isUndefined:gf,isDate:eD,isFile:tD,isBlob:rD,isRegExp:ED,isFunction:ri,isStream:iD,isURLSearchParams:oD,isTypedArray:mD,isFileList:nD,forEach:yf,merge:Qy,extend:hD,trim:lD,stripBOM:dD,inherits:pD,toFlatObject:gD,kindOf:dd,kindOfTest:Oi,endsWith:yD,toArray:wD,forEachEntry:bD,matchAll:_D,isHTMLForm:vD,hasOwnProperty:l3,hasOwnProp:l3,reduceDescriptors:h3,freezeMethods:SD,toObjectSet:AD,toCamelCase:xD,noop:BD,toFiniteNumber:TD,findKey:u3,global:ya,isContextDefined:f3,ALPHABET:p3,generateString:ID,isSpecCompliantForm:RD,toJSONObject:kD,isAsyncFn:CD,isThenable:$D,setImmediate:g3,asap:LD};function yt(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}le.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const y3=yt.prototype,w3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{w3[e]={value:e}}),Object.defineProperties(yt,w3),Object.defineProperty(y3,"isAxiosError",{value:!0}),yt.from=(e,t,r,n,i,s)=>{const o=Object.create(y3);return le.toFlatObject(e,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),yt.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var OD=null;function t1(e){return le.isPlainObject(e)||le.isArray(e)}function m3(e){return le.endsWith(e,"[]")?e.slice(0,-2):e}function b3(e,t,r){return e?e.concat(t).map(function(i,s){return i=m3(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function UD(e){return le.isArray(e)&&!e.some(t1)}const MD=le.toFlatObject(le,{},null,function(t){return/^is[A-Z]/.test(t)});function wd(e,t,r){if(!le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,I){return!le.isUndefined(I[k])});const n=r.metaTokens,i=r.visitor||l,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(t);if(!le.isFunction(i))throw new TypeError("visitor must be a function");function u(A){if(A===null)return"";if(le.isDate(A))return A.toISOString();if(!c&&le.isBlob(A))throw new yt("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(A)||le.isTypedArray(A)?c&&typeof Blob=="function"?new Blob([A]):se.Buffer.from(A):A}function l(A,k,I){let H=A;if(A&&!I&&typeof A=="object"){if(le.endsWith(k,"{}"))k=n?k:k.slice(0,-2),A=JSON.stringify(A);else if(le.isArray(A)&&UD(A)||(le.isFileList(A)||le.endsWith(k,"[]"))&&(H=le.toArray(A)))return k=m3(k),H.forEach(function(C,$){!(le.isUndefined(C)||C===null)&&t.append(o===!0?b3([k],$,s):o===null?k:k+"[]",u(C))}),!1}return t1(A)?!0:(t.append(b3(I,k,s),u(A)),!1)}const h=[],_=Object.assign(MD,{defaultVisitor:l,convertValue:u,isVisitable:t1});function w(A,k){if(!le.isUndefined(A)){if(h.indexOf(A)!==-1)throw Error("Circular reference detected in "+k.join("."));h.push(A),le.forEach(A,function(H,P){(!(le.isUndefined(H)||H===null)&&i.call(t,H,le.isString(P)?P.trim():P,k,_))===!0&&w(H,k?k.concat(P):[P])}),h.pop()}}if(!le.isObject(e))throw new TypeError("data must be an object");return w(e),t}function _3(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function r1(e,t){this._pairs=[],e&&wd(e,this,t)}const v3=r1.prototype;v3.append=function(t,r){this._pairs.push([t,r])},v3.toString=function(t){const r=t?function(n){return t.call(this,n,_3)}:_3;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function ND(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function x3(e,t,r){if(!t)return e;const n=r&&r.encode||ND,i=r&&r.serialize;let s;if(i?s=i(t,r):s=le.isURLSearchParams(t)?t.toString():new r1(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class E3{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){le.forEach(this.handlers,function(n){n!==null&&t(n)})}}var S3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PD=typeof URLSearchParams<"u"?URLSearchParams:r1,FD=typeof FormData<"u"?FormData:null,HD=typeof Blob<"u"?Blob:null,DD={isBrowser:!0,classes:{URLSearchParams:PD,FormData:FD,Blob:HD},protocols:["http","https","file","blob","url","data"]};const n1=typeof window<"u"&&typeof document<"u",zD=(e=>n1&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),jD=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),qD=n1&&window.location.href||"http://localhost";var VD=Object.freeze({__proto__:null,hasBrowserEnv:n1,hasStandardBrowserWebWorkerEnv:jD,hasStandardBrowserEnv:zD,origin:qD}),Ui={...VD,...DD};function KD(e,t){return wd(e,new Ui.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Ui.isNode&&le.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function WD(e){return le.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GD(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function A3(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=r.length;return o=!o&&le.isArray(i)?i.length:o,c?(le.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!le.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&le.isArray(i[o])&&(i[o]=GD(i[o])),!a)}if(le.isFormData(e)&&le.isFunction(e.entries)){const r={};return le.forEachEntry(e,(n,i)=>{t(WD(n),i,r,0)}),r}return null}function ZD(e,t,r){if(le.isString(e))try{return(t||JSON.parse)(e),le.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const wf={transitional:S3,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=le.isObject(t);if(s&&le.isHTMLForm(t)&&(t=new FormData(t)),le.isFormData(t))return i?JSON.stringify(A3(t)):t;if(le.isArrayBuffer(t)||le.isBuffer(t)||le.isStream(t)||le.isFile(t)||le.isBlob(t)||le.isReadableStream(t))return t;if(le.isArrayBufferView(t))return t.buffer;if(le.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return KD(t,this.formSerializer).toString();if((a=le.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return wd(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),ZD(t)):t}],transformResponse:[function(t){const r=this.transitional||wf.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(le.isResponse(t)||le.isReadableStream(t))return t;if(t&&le.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?yt.from(a,yt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ui.classes.FormData,Blob:Ui.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],e=>{wf.headers[e]={}});const YD=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var XD=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&YD[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t};const B3=Symbol("internals");function mf(e){return e&&String(e).trim().toLowerCase()}function md(e){return e===!1||e==null?e:le.isArray(e)?e.map(md):String(e)}function JD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const QD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function i1(e,t,r,n,i){if(le.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!le.isString(t)){if(le.isString(n))return t.indexOf(n)!==-1;if(le.isRegExp(n))return n.test(t)}}function ez(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function tz(e,t){const r=le.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}class jn{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(a,c,u){const l=mf(c);if(!l)throw new Error("header name must be a non-empty string");const h=le.findKey(i,l);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=md(a))}const o=(a,c)=>le.forEach(a,(u,l)=>s(u,l,c));if(le.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(le.isString(t)&&(t=t.trim())&&!QD(t))o(XD(t),r);else if(le.isHeaders(t))for(const[a,c]of t.entries())s(c,a,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=mf(t),t){const n=le.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return JD(i);if(le.isFunction(r))return r.call(this,i,n);if(le.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=mf(t),t){const n=le.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||i1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=mf(o),o){const a=le.findKey(n,o);a&&(!r||i1(n,n[a],a,r))&&(delete n[a],i=!0)}}return le.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||i1(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return le.forEach(this,(i,s)=>{const o=le.findKey(n,s);if(o){r[o]=md(i),delete r[s];return}const a=t?ez(s):String(s).trim();a!==s&&delete r[s],r[a]=md(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return le.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&le.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[B3]=this[B3]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=mf(o);n[a]||(tz(i,o),n[a]=!0)}return le.isArray(t)?t.forEach(s):s(t),this}}jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),le.reduceDescriptors(jn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}}),le.freezeMethods(jn);function s1(e,t){const r=this||wf,n=t||r,i=jn.from(n.headers);let s=n.data;return le.forEach(e,function(a){s=a.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function T3(e){return!!(e&&e.__CANCEL__)}function Mc(e,t,r){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,r),this.name="CanceledError"}le.inherits(Mc,yt,{__CANCEL__:!0});function I3(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new yt("Request failed with status code "+r.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function rz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nz(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),l=n[s];o||(o=u),r[i]=c,n[i]=u;let h=s,_=0;for(;h!==i;)_+=r[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const w=l&&u-l;return w?Math.round(_*1e3/w):void 0}}function iz(e,t){let r=0,n=1e3/t,i,s;const o=(u,l=Date.now())=>{r=l,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const l=Date.now(),h=l-r;h>=n?o(u,l):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-h)))},()=>i&&o(i)]}const bd=(e,t,r=3)=>{let n=0;const i=nz(50,250);return iz(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-n,u=i(c),l=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},r)},R3=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},k3=e=>(...t)=>le.asap(()=>e(...t));var sz=Ui.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=le.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),oz=Ui.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];le.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),le.isString(n)&&o.push("path="+n),le.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function az(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function C3(e,t){return e&&!az(t)?cz(e,t):t}const $3=e=>e instanceof jn?{...e}:e;function wa(e,t){t=t||{};const r={};function n(u,l,h){return le.isPlainObject(u)&&le.isPlainObject(l)?le.merge.call({caseless:h},u,l):le.isPlainObject(l)?le.merge({},l):le.isArray(l)?l.slice():l}function i(u,l,h){if(le.isUndefined(l)){if(!le.isUndefined(u))return n(void 0,u,h)}else return n(u,l,h)}function s(u,l){if(!le.isUndefined(l))return n(void 0,l)}function o(u,l){if(le.isUndefined(l)){if(!le.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,h){if(h in t)return n(u,l);if(h in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l)=>i($3(u),$3(l),!0)};return le.forEach(Object.keys(Object.assign({},e,t)),function(l){const h=c[l]||i,_=h(e[l],t[l],l);le.isUndefined(_)&&h!==a||(r[l]=_)}),r}var L3=e=>{const t=wa({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=jn.from(o),t.url=x3(C3(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(le.isFormData(r)){if(Ui.hasStandardBrowserEnv||Ui.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...l]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(Ui.hasStandardBrowserEnv&&(n&&le.isFunction(n)&&(n=n(t)),n||n!==!1&&sz(t.url))){const u=i&&s&&oz.read(s);u&&o.set(i,u)}return t},uz=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(r,n){const i=L3(e);let s=i.data;const o=jn.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,l,h,_,w,A;function k(){w&&w(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function H(){if(!I)return;const C=jn.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),q={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:C,config:e,request:I};I3(function(V){r(V),k()},function(V){n(V),k()},q),I=null}"onloadend"in I?I.onloadend=H:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(H)},I.onabort=function(){I&&(n(new yt("Request aborted",yt.ECONNABORTED,e,I)),I=null)},I.onerror=function(){n(new yt("Network Error",yt.ERR_NETWORK,e,I)),I=null},I.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const q=i.transitional||S3;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),n(new yt($,q.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&le.forEach(o.toJSON(),function($,q){I.setRequestHeader(q,$)}),le.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),a&&a!=="json"&&(I.responseType=i.responseType),u&&([_,A]=bd(u,!0),I.addEventListener("progress",_)),c&&I.upload&&([h,w]=bd(c),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(l=C=>{I&&(n(!C||C.type?new Mc(null,e,I):C),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const P=rz(i.url);if(P&&Ui.protocols.indexOf(P)===-1){n(new yt("Unsupported protocol "+P+":",yt.ERR_BAD_REQUEST,e));return}I.send(s||null)})};const fz=(e,t)=>{let r=new AbortController,n;const i=function(c){if(!n){n=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof yt?u:new Mc(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{i(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),e=null)};e.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},lz=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},hz=async function*(e,t,r){for await(const n of e)yield*lz(ArrayBuffer.isView(n)?n:await r(String(n)),t)},O3=(e,t,r,n,i)=>{const s=hz(e,t,i);let o=0,a,c=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:l,value:h}=await s.next();if(l){c(),u.close();return}let _=h.byteLength;if(r){let w=o+=_;r(w)}u.enqueue(new Uint8Array(h))}catch(l){throw c(l),l}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},_d=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",U3=_d&&typeof ReadableStream=="function",o1=_d&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),M3=(e,...t)=>{try{return!!e(...t)}catch{return!1}},dz=U3&&M3(()=>{let e=!1;const t=new Request(Ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),N3=64*1024,a1=U3&&M3(()=>le.isReadableStream(new Response("").body)),vd={stream:a1&&(e=>e.body)};_d&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!vd[t]&&(vd[t]=le.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new yt(`Response type '${t}' is not supported`,yt.ERR_NOT_SUPPORT,n)})})})(new Response);const pz=async e=>{if(e==null)return 0;if(le.isBlob(e))return e.size;if(le.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(le.isArrayBufferView(e)||le.isArrayBuffer(e))return e.byteLength;if(le.isURLSearchParams(e)&&(e=e+""),le.isString(e))return(await o1(e)).byteLength},gz=async(e,t)=>{const r=le.toFiniteNumber(e.getContentLength());return r??pz(t)};var yz=_d&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:h="same-origin",fetchOptions:_}=L3(e);u=u?(u+"").toLowerCase():"text";let[w,A]=i||s||o?fz([i,s],o):[],k,I;const H=()=>{!k&&setTimeout(()=>{w&&w.unsubscribe()}),k=!0};let P;try{if(c&&dz&&r!=="get"&&r!=="head"&&(P=await gz(l,n))!==0){let W=new Request(t,{method:"POST",body:n,duplex:"half"}),V;if(le.isFormData(n)&&(V=W.headers.get("content-type"))&&l.setContentType(V),W.body){const[z,X]=R3(P,bd(k3(c)));n=O3(W.body,N3,z,X,o1)}}le.isString(h)||(h=h?"include":"omit"),I=new Request(t,{..._,signal:w,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:h});let C=await fetch(I);const $=a1&&(u==="stream"||u==="response");if(a1&&(a||$)){const W={};["status","statusText","headers"].forEach(re=>{W[re]=C[re]});const V=le.toFiniteNumber(C.headers.get("content-length")),[z,X]=a&&R3(V,bd(k3(a),!0))||[];C=new Response(O3(C.body,N3,z,()=>{X&&X(),$&&H()},o1),W)}u=u||"text";let q=await vd[le.findKey(vd,u)||"text"](C,e);return!$&&H(),A&&A(),await new Promise((W,V)=>{I3(W,V,{data:q,headers:jn.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:I})})}catch(C){throw H(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,e,I),{cause:C.cause||C}):yt.from(C,C&&C.code,e,I)}});const c1={http:OD,xhr:uz,fetch:yz};le.forEach(c1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const P3=e=>`- ${e}`,wz=e=>le.isFunction(e)||e===null||e===!1;var F3={getAdapter:e=>{e=le.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!wz(r)&&(n=c1[(o=String(r)).toLowerCase()],n===void 0))throw new yt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(P3).join(`
`):" "+P3(s[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:c1};function u1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mc(null,e)}function H3(e){return u1(e),e.headers=jn.from(e.headers),e.data=s1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),F3.getAdapter(e.adapter||wf.adapter)(e).then(function(n){return u1(e),n.data=s1.call(e,e.transformResponse,n),n.headers=jn.from(n.headers),n},function(n){return T3(n)||(u1(e),n&&n.response&&(n.response.data=s1.call(e,e.transformResponse,n.response),n.response.headers=jn.from(n.response.headers))),Promise.reject(n)})}const D3="1.7.4",f1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{f1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const z3={};f1.transitional=function(t,r,n){function i(s,o){return"[Axios v"+D3+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(t===!1)throw new yt(i(o," has been removed"+(r?" in "+r:"")),yt.ERR_DEPRECATED);return r&&!z3[o]&&(z3[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,a):!0}};function mz(e,t,r){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const a=e[s],c=a===void 0||o(a,s,e);if(c!==!0)throw new yt("option "+s+" must be "+c,yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new yt("Unknown option "+s,yt.ERR_BAD_OPTION)}}var l1={assertOptions:mz,validators:f1};const To=l1.validators;class ma{constructor(t){this.defaults=t,this.interceptors={request:new E3,response:new E3}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wa(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&l1.assertOptions(n,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(le.isFunction(i)?r.paramsSerializer={serialize:i}:l1.assertOptions(i,{encode:To.function,serialize:To.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&le.merge(s.common,s[r.method]);s&&le.forEach(["delete","get","head","post","put","patch","common"],A=>{delete s[A]}),r.headers=jn.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(c=c&&k.synchronous,a.unshift(k.fulfilled,k.rejected))});const u=[];this.interceptors.response.forEach(function(k){u.push(k.fulfilled,k.rejected)});let l,h=0,_;if(!c){const A=[H3.bind(this),void 0];for(A.unshift.apply(A,a),A.push.apply(A,u),_=A.length,l=Promise.resolve(r);h<_;)l=l.then(A[h++],A[h++]);return l}_=a.length;let w=r;for(h=0;h<_;){const A=a[h++],k=a[h++];try{w=A(w)}catch(I){k.call(this,I);break}}try{l=H3.call(this,w)}catch(A){return Promise.reject(A)}for(h=0,_=u.length;h<_;)l=l.then(u[h++],u[h++]);return l}getUri(t){t=wa(this.defaults,t);const r=C3(t.baseURL,t.url);return x3(r,t.params,t.paramsSerializer)}}le.forEach(["delete","get","head","options"],function(t){ma.prototype[t]=function(r,n){return this.request(wa(n||{},{method:t,url:r,data:(n||{}).data}))}}),le.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,a){return this.request(wa(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ma.prototype[t]=r(),ma.prototype[t+"Form"]=r(!0)});class h1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,a){n.reason||(n.reason=new Mc(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new h1(function(i){t=i}),cancel:t}}}function bz(e){return function(r){return e.apply(null,r)}}function _z(e){return le.isObject(e)&&e.isAxiosError===!0}const d1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(d1).forEach(([e,t])=>{d1[t]=e});function j3(e){const t=new ma(e),r=o3(ma.prototype.request,t);return le.extend(r,ma.prototype,t,{allOwnKeys:!0}),le.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return j3(wa(e,i))},r}const Dr=j3(wf);Dr.Axios=ma,Dr.CanceledError=Mc,Dr.CancelToken=h1,Dr.isCancel=T3,Dr.VERSION=D3,Dr.toFormData=wd,Dr.AxiosError=yt,Dr.Cancel=Dr.CanceledError,Dr.all=function(t){return Promise.all(t)},Dr.spread=bz,Dr.isAxiosError=_z,Dr.mergeConfig=wa,Dr.AxiosHeaders=jn,Dr.formToJSON=e=>A3(le.isHTMLForm(e)?new FormData(e):e),Dr.getAdapter=F3.getAdapter,Dr.HttpStatusCode=d1,Dr.default=Dr;async function vz(e){var t;const{params:r,method:n,url:i,headers:s,body:o,overrides:a}=e,c={headers:s,method:n,url:i,params:r,data:o,withCredentials:(t=a?.WITH_CREDENTIALS)!=null?t:!0};try{const u=await Dr(c);return{status:u.status,statusText:u.statusText,data:u.data,headers:u.headers,config:u.config}}catch(u){const l=u;if(l.response)return l.response;throw u}}var xz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,h,_){if(typeof l!="function")throw new TypeError("The listener must be a function");var w=new i(l,h||c,_),A=r?r+u:u;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],w]:c._events[A].push(w):(c._events[A]=w,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,h;if(this._eventsCount===0)return u;for(h in l=this._events)t.call(l,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,h=this._events[l];if(!h)return[];if(h.fn)return[h.fn];for(var _=0,w=h.length,A=new Array(w);_<w;_++)A[_]=h[_].fn;return A},a.prototype.listenerCount=function(u){var l=r?r+u:u,h=this._events[l];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,l,h,_,w,A){var k=r?r+u:u;if(!this._events[k])return!1;var I=this._events[k],H=arguments.length,P,C;if(I.fn){switch(I.once&&this.removeListener(u,I.fn,void 0,!0),H){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,l),!0;case 3:return I.fn.call(I.context,l,h),!0;case 4:return I.fn.call(I.context,l,h,_),!0;case 5:return I.fn.call(I.context,l,h,_,w),!0;case 6:return I.fn.call(I.context,l,h,_,w,A),!0}for(C=1,P=new Array(H-1);C<H;C++)P[C-1]=arguments[C];I.fn.apply(I.context,P)}else{var $=I.length,q;for(C=0;C<$;C++)switch(I[C].once&&this.removeListener(u,I[C].fn,void 0,!0),H){case 1:I[C].fn.call(I[C].context);break;case 2:I[C].fn.call(I[C].context,l);break;case 3:I[C].fn.call(I[C].context,l,h);break;case 4:I[C].fn.call(I[C].context,l,h,_);break;default:if(!P)for(q=1,P=new Array(H-1);q<H;q++)P[q-1]=arguments[q];I[C].fn.apply(I[C].context,P)}}return!0},a.prototype.on=function(u,l,h){return s(this,u,l,h,!1)},a.prototype.once=function(u,l,h){return s(this,u,l,h,!0)},a.prototype.removeListener=function(u,l,h,_){var w=r?r+u:u;if(!this._events[w])return this;if(!l)return o(this,w),this;var A=this._events[w];if(A.fn)A.fn===l&&(!_||A.once)&&(!h||A.context===h)&&o(this,w);else{for(var k=0,I=[],H=A.length;k<H;k++)(A[k].fn!==l||_&&!A[k].once||h&&A[k].context!==h)&&I.push(A[k]);I.length?this._events[w]=I.length===1?I[0]:I:o(this,w)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(xz);var q3=Object.defineProperty,Ez=Object.getOwnPropertyDescriptor,xd=(e,t)=>{for(var r in t)q3(e,r,{get:t[r],enumerable:!0})},Vt=(e,t,r,n)=>{for(var i=n>1?void 0:n?Ez(t,r):t,s=e.length-1,o;s>=0;s--)(o=e[s])&&(i=(n?o(t,r,i):o(i))||i);return n&&i&&q3(t,r,i),i},Sz=/^m(\/[0-9]+')+$/,V3=e=>e.replace("'",""),Az="ed25519 seed",Bz=2147483648,Tz=e=>{const r=cd.create(Yy,Az).update(zA(e)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},Iz=({key:e,chainCode:t},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(n),s=new Uint8Array([0]),o=new Uint8Array([...s,...e,...i]),a=cd.create(Yy,t).update(o).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},Rz=e=>Sz.test(e)?!e.split("/").slice(1).map(V3).some(Number.isNaN):!1,kz=(e,t,r=Bz)=>{if(!Rz(e))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=Tz(t);return e.split("/").slice(1).map(V3).map(o=>parseInt(o,10)).reduce((o,a)=>Iz(o,a+r),{key:n,chainCode:i})},Cz="1.21.0";async function $z(e){return new Promise(t=>{setTimeout(t,e)})}var K3="/v1";function Lz(e){let t=`${e}`;return t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.endsWith(K3)||(t=`${t}${K3}`),t}var W3=2e5,G3=20,Oz=20,Uz="0x1::aptos_coin::AptosCoin";function Ed(e){let t,r,n;return typeof e=="object"?(t=e.hashFunction,r=e.ttlMs,n=e.tags):t=e,(i,s,o)=>{if(o.value!=null)o.value=Y3(o.value,t,r,n);else if(o.get!=null)o.get=Y3(o.get,t,r,n);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function Z3(e,t){return Ed({ttlMs:e,hashFunction:t})}var Sd=new Map;function Mz(e){const t=new Set;for(const r of e){const n=Sd.get(r);if(n)for(const i of n)t.has(i)||(i.clear(),t.add(i))}return t.size}function Y3(e,t,r=0,n){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(n))for(const u of n)Sd.has(u)?Sd.get(u).push(c):Sd.set(u,[c]);if(t||s.length>0||r>0){let u;t===!0?u=s.map(_=>_.toString()).join("!"):t?u=t.apply(a,s):u=s[0];const l=`${u}__timestamp`;let h=!1;if(r>0)if(!c.has(l))h=!0;else{const _=c.get(l);h=Date.now()-_>r}c.has(u)&&!h?o=c.get(u):(o=e.apply(a,s),c.set(u,o),r>0&&c.set(l,Date.now()))}else{const u=a;c.has(u)?o=c.get(u):(o=e.apply(a,s),c.set(u,o))}return o}}var X3=class extends Error{constructor(e,t,r){super(r),this.name="AptosApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.data=t.data,this.request=e}},Nz={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function Pz(e,t,r,n,i,s){const o={...s?.HEADERS,"x-aptos-client":`aptos-ts-sdk/${Cz}`,"content-type":n??"application/json"};return s?.TOKEN&&(o.Authorization=`Bearer ${s?.TOKEN}`),await vz({url:e,method:t,body:r,params:i,headers:o,overrides:s})}async function J3(e){const{url:t,endpoint:r,method:n,body:i,contentType:s,params:o,overrides:a}=e,c=`${t}/${r??""}`,u=await Pz(c,n,i,s,o,a),l={status:u.status,statusText:u.statusText,data:u.data,headers:u.headers,config:u.config,url:c};if(l.status>=200&&l.status<300)return l;const h=Nz[l.status];throw new X3(e,l,h??"Generic Error")}async function qn(e){return await J3({...e,method:"GET"})}async function bf(e){return await J3({...e,method:"POST"})}async function Q3(e){const t=[];let r;const n=e.params;for(;;){n.start=r;const i=await qn({url:e.url,endpoint:e.endpoint,params:n,originMethod:e.originMethod,overrides:e.overrides});if(r=i.headers["x-aptos-cursor"],delete i.headers,t.push(...i.data),r==null)break}return t}var Fz={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},Hz={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},qe=class Md{static fromBuffer(t){return Md.fromUint8Array(t)}static fromUint8Array(t){return new Md(HA(t))}static ensure(t){return typeof t=="string"?new Md(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(zA(this.noPrefix()))}},cr={};xd(cr,{AccountAddress:()=>Xt,AccountAuthenticator:()=>Ro,AccountAuthenticatorEd25519:()=>aB,AccountAuthenticatorMultiEd25519:()=>cB,ArgumentABI:()=>kd,AuthenticationKey:()=>P1,ChainId:()=>T1,ChangeSet:()=>oj,Ed25519PublicKey:()=>Mi,Ed25519Signature:()=>Ls,EntryFunction:()=>Td,EntryFunctionABI:()=>If,FeePayerRawTransaction:()=>S1,Identifier:()=>En,Module:()=>sj,ModuleId:()=>Bf,MultiAgentRawTransaction:()=>E1,MultiEd25519PublicKey:()=>Bd,MultiEd25519Signature:()=>w1,MultiSig:()=>pB,MultiSigTransactionPayload:()=>dB,RawTransaction:()=>zc,RawTransactionWithData:()=>x1,RotationProofChallenge:()=>cj,Script:()=>v1,ScriptABI:()=>Cd,SignedTransaction:()=>Id,StructTag:()=>Dc,Transaction:()=>yB,TransactionArgument:()=>Ni,TransactionArgumentAddress:()=>O1,TransactionArgumentBool:()=>M1,TransactionArgumentU128:()=>$1,TransactionArgumentU16:()=>R1,TransactionArgumentU256:()=>L1,TransactionArgumentU32:()=>k1,TransactionArgumentU64:()=>C1,TransactionArgumentU8:()=>I1,TransactionArgumentU8Vector:()=>U1,TransactionAuthenticator:()=>Nc,TransactionAuthenticatorEd25519:()=>m1,TransactionAuthenticatorFeePayer:()=>oB,TransactionAuthenticatorMultiAgent:()=>sB,TransactionAuthenticatorMultiEd25519:()=>b1,TransactionPayload:()=>Tf,TransactionPayloadEntryFunction:()=>B1,TransactionPayloadMultisig:()=>gB,TransactionPayloadScript:()=>A1,TransactionScriptABI:()=>N1,TypeArgumentABI:()=>Rd,TypeTag:()=>pn,TypeTagAddress:()=>_a,TypeTagBool:()=>Pc,TypeTagParser:()=>Af,TypeTagParserError:()=>hB,TypeTagSigner:()=>uB,TypeTagStruct:()=>va,TypeTagU128:()=>Hc,TypeTagU16:()=>vf,TypeTagU256:()=>Ef,TypeTagU32:()=>xf,TypeTagU64:()=>Fc,TypeTagU8:()=>ko,TypeTagVector:()=>Sf,UserTransaction:()=>wB,WriteSet:()=>aj,objectStructTag:()=>tj,optionStructTag:()=>ej,stringStructTag:()=>_1});var Dz={};xd(Dz,{Deserializer:()=>p1,Serializer:()=>Er,bcsSerializeBool:()=>Xz,bcsSerializeBytes:()=>Io,bcsSerializeFixedBytes:()=>Qz,bcsSerializeStr:()=>Jz,bcsSerializeU128:()=>Zz,bcsSerializeU16:()=>Wz,bcsSerializeU256:()=>Yz,bcsSerializeU32:()=>Gz,bcsSerializeU8:()=>g1,bcsSerializeUint64:()=>Kz,bcsToBytes:()=>$s,deserializeVector:()=>Ln,serializeVector:()=>dn,serializeVectorWithFunc:()=>Vz});var zz=2**8-1,jz=2**16-1,_f=2**32-1,eB=BigInt(2**64)-BigInt(1),tB=BigInt(2**128)-BigInt(1),qz=BigInt(2**256)-BigInt(1),Er=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);const n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(_f),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){const t=BigInt(e.toString())&eB,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){const t=BigInt(e.toString())&tB,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e;const r=[];for(;t>>>7;)r.push(t&127|128),t>>>=7;r.push(t),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};Vt([ba(0,zz)],Er.prototype,"serializeU8",1),Vt([ba(0,jz)],Er.prototype,"serializeU16",1),Vt([ba(0,_f)],Er.prototype,"serializeU32",1),Vt([ba(BigInt(0),eB)],Er.prototype,"serializeU64",1),Vt([ba(BigInt(0),tB)],Er.prototype,"serializeU128",1),Vt([ba(BigInt(0),qz)],Er.prototype,"serializeU256",1),Vt([ba(0,_f)],Er.prototype,"serializeU32AsUleb128",1);function ba(e,t,r){return(n,i,s)=>{const o=s.value;return s.value=function(c){const u=BigInt(c.toString());if(u>BigInt(t.toString())||u<BigInt(e.toString()))throw new Error(r||"Value is out of range");o.apply(this,[c])},s}}var p1=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<_f;){const r=this.deserializeU8();if(e|=BigInt(r&127)<<BigInt(t),!(r&128))break;t+=7}if(e>_f)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function dn(e,t){t.serializeU32AsUleb128(e.length),e.forEach(r=>{r.serialize(t)})}function Vz(e,t){const r=new Er;r.serializeU32AsUleb128(e.length);const n=r[t];return e.forEach(i=>{n.call(r,i)}),r.getBytes()}function Ln(e,t){const r=e.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(t.deserialize(e));return n}function $s(e){const t=new Er;return e.serialize(t),t.getBytes()}function Kz(e){const t=new Er;return t.serializeU64(e),t.getBytes()}function g1(e){const t=new Er;return t.serializeU8(e),t.getBytes()}function Wz(e){const t=new Er;return t.serializeU16(e),t.getBytes()}function Gz(e){const t=new Er;return t.serializeU32(e),t.getBytes()}function Zz(e){const t=new Er;return t.serializeU128(e),t.getBytes()}function Yz(e){const t=new Er;return t.serializeU256(e),t.getBytes()}function Xz(e){const t=new Er;return t.serializeBool(e),t.getBytes()}function Jz(e){const t=new Er;return t.serializeStr(e),t.getBytes()}function Io(e){const t=new Er;return t.serializeBytes(e),t.getBytes()}function Qz(e){const t=new Er;return t.serializeFixedBytes(e),t.getBytes()}var Ad=class Pi{constructor(t){if(t.length!==Pi.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let r=qe.ensure(t);r.noPrefix().length%2!==0&&(r=new qe(`0${r.noPrefix()}`));const n=r.toUint8Array();if(n.length>Pi.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===Pi.LENGTH)return new Pi(n);const i=new Uint8Array(Pi.LENGTH);return i.set(n,Pi.LENGTH-n.length),new Pi(i)}static isValid(t){if(t==="")return!1;let r=qe.ensure(t);return r.noPrefix().length%2!==0&&(r=new qe(`0${r.noPrefix()}`)),r.toUint8Array().length<=Pi.LENGTH}toHexString(){return qe.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Pi(t.deserializeFixedBytes(Pi.LENGTH))}static standardizeAddress(t){const r=t.toLowerCase();return`0x${(r.startsWith("0x")?r.slice(2):r).padStart(64,"0")}`}};Ad.LENGTH=32,Ad.CORE_CODE_ADDRESS=Ad.fromHex("0x1");var Xt=Ad,rB=class Nd{constructor(t){if(t.length!==Nd.LENGTH)throw new Error(`Ed25519PublicKey length should be ${Nd.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const r=t.deserializeBytes();return new Nd(r)}};rB.LENGTH=32;var Mi=rB,nB=class Pd{constructor(t){if(this.value=t,t.length!==Pd.LENGTH)throw new Error(`Ed25519Signature length should be ${Pd.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const r=t.deserializeBytes();return new Pd(r)}};nB.LENGTH=64;var Ls=nB,y1=32,Bd=class KB{constructor(t,r){if(this.public_keys=t,this.threshold=r,r>y1)throw new Error(`"threshold" cannot be larger than ${y1}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*Mi.LENGTH+1);return this.public_keys.forEach((r,n)=>{t.set(r.value,n*Mi.LENGTH)}),t[this.public_keys.length*Mi.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const r=t.deserializeBytes(),n=r[r.length-1],i=[];for(let s=0;s<r.length-1;s+=Mi.LENGTH){const o=s;i.push(new Mi(r.subarray(o,o+Mi.LENGTH)))}return new KB(i,n)}},iB=class Uf{constructor(t,r){if(this.signatures=t,this.bitmap=r,r.length!==Uf.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Uf.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*Ls.LENGTH+Uf.BITMAP_LEN);return this.signatures.forEach((r,n)=>{t.set(r.value,n*Ls.LENGTH)}),t.set(this.bitmap,this.signatures.length*Ls.LENGTH),t}static createBitmap(t){const n=new Uint8Array([0,0,0,0]),i=new Set;return t.forEach(s=>{if(s>=y1)throw new Error(`Invalid bit value ${s}.`);if(i.has(s))throw new Error("Duplicated bits detected.");i.add(s);const o=Math.floor(s/8);let a=n[o];a|=128>>s%8,n[o]=a}),n}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const r=t.deserializeBytes(),n=r.subarray(r.length-4),i=[];for(let s=0;s<r.length-n.length;s+=Ls.LENGTH){const o=s;i.push(new Ls(r.subarray(o,o+Ls.LENGTH)))}return new Uf(i,n)}};iB.BITMAP_LEN=4;var w1=iB,Nc=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return m1.load(e);case 1:return b1.load(e);case 2:return sB.load(e);case 3:return oB.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},m1=class WB extends Nc{constructor(t,r){super(),this.public_key=t,this.signature=r}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const r=Mi.deserialize(t),n=Ls.deserialize(t);return new WB(r,n)}},b1=class GB extends Nc{constructor(t,r){super(),this.public_key=t,this.signature=r}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const r=Bd.deserialize(t),n=w1.deserialize(t);return new GB(r,n)}},sB=class ZB extends Nc{constructor(t,r,n){super(),this.sender=t,this.secondary_signer_addresses=r,this.secondary_signers=n}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),dn(this.secondary_signer_addresses,t),dn(this.secondary_signers,t)}static load(t){const r=Ro.deserialize(t),n=Ln(t,Xt),i=Ln(t,Ro);return new ZB(r,n,i)}},oB=class YB extends Nc{constructor(t,r,n,i){super(),this.sender=t,this.secondary_signer_addresses=r,this.secondary_signers=n,this.fee_payer=i}serialize(t){t.serializeU32AsUleb128(3),this.sender.serialize(t),dn(this.secondary_signer_addresses,t),dn(this.secondary_signers,t),this.fee_payer.address.serialize(t),this.fee_payer.authenticator.serialize(t)}static load(t){const r=Ro.deserialize(t),n=Ln(t,Xt),i=Ln(t,Ro),s=Xt.deserialize(t),o=Ro.deserialize(t),a={address:s,authenticator:o};return new YB(r,n,i,a)}},Ro=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return aB.load(e);case 1:return cB.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},aB=class XB extends Ro{constructor(t,r){super(),this.public_key=t,this.signature=r}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const r=Mi.deserialize(t),n=Ls.deserialize(t);return new XB(r,n)}},cB=class JB extends Ro{constructor(t,r){super(),this.public_key=t,this.signature=r}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const r=Bd.deserialize(t),n=w1.deserialize(t);return new JB(r,n)}},En=class QB{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const r=t.deserializeStr();return new QB(r)}},pn=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Pc.load(e);case 1:return ko.load(e);case 2:return Fc.load(e);case 3:return Hc.load(e);case 4:return _a.load(e);case 5:return uB.load(e);case 6:return Sf.load(e);case 7:return va.load(e);case 8:return vf.load(e);case 9:return xf.load(e);case 10:return Ef.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},Pc=class e6 extends pn{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new e6}},ko=class t6 extends pn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new t6}},vf=class r6 extends pn{serialize(t){t.serializeU32AsUleb128(8)}static load(t){return new r6}},xf=class n6 extends pn{serialize(t){t.serializeU32AsUleb128(9)}static load(t){return new n6}},Fc=class i6 extends pn{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new i6}},Hc=class s6 extends pn{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new s6}},Ef=class o6 extends pn{serialize(t){t.serializeU32AsUleb128(10)}static load(t){return new o6}},_a=class a6 extends pn{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new a6}},uB=class c6 extends pn{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new c6}},Sf=class u6 extends pn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const r=pn.deserialize(t);return new u6(r)}},va=class f6 extends pn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const r=Dc.deserialize(t);return new f6(r)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===Xt.CORE_CODE_ADDRESS.toHexString()}},Dc=class q1{constructor(t,r,n,i){this.address=t,this.module_name=r,this.name=n,this.type_args=i}static fromString(t){const r=new Af(t).parseTypeTag();return new q1(r.value.address,r.value.module_name,r.value.name,r.value.type_args)}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),dn(this.type_args,t)}static deserialize(t){const r=Xt.deserialize(t),n=En.deserialize(t),i=En.deserialize(t),s=Ln(t,pn);return new q1(r,n,i,s)}},_1=new Dc(Xt.fromHex("0x1"),new En("string"),new En("String"),[]);function ej(e){return new Dc(Xt.fromHex("0x1"),new En("option"),new En("Option"),[e])}function tj(e){return new Dc(Xt.fromHex("0x1"),new En("object"),new En("Object"),[e])}function Co(e){throw new hB(e)}function fB(e){return!!e.match(/\s/)}function lB(e){return!!e.match(/[_A-Za-z0-9]/g)}function rj(e){return!!e.match(/T\d+/g)}function nj(e,t){const r=e[t];if(r===":"){if(e.slice(t,t+2)==="::")return[["COLON","::"],2];Co("Unrecognized token.")}else{if(r==="<")return[["LT","<"],1];if(r===">")return[["GT",">"],1];if(r===",")return[["COMMA",","],1];if(fB(r)){let n="";for(let i=t;i<e.length;i+=1){const s=e[i];if(fB(s))n=`${n}${s}`;else break}return[["SPACE",n],n.length]}else if(lB(r)){let n="";for(let i=t;i<e.length;i+=1){const s=e[i];if(lB(s))n=`${n}${s}`;else break}return rj(n)?[["GENERIC",n],n.length]:[["IDENT",n],n.length]}}throw new Error("Unrecognized token.")}function ij(e){let t=0;const r=[];for(;t<e.length;){const[n,i]=nj(e,t);n[0]!=="SPACE"&&r.push(n),t+=i}return r}var Af=class l6{constructor(t,r){this.typeTags=[],this.tokens=ij(t),this.typeTags=r||[]}consume(t){const r=this.tokens.shift();(!r||r[1]!==t)&&Co("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");this.tokens[0][1]!==">";)this.tokens[0][1]==="<"?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(t,r){const n=[];for(this.tokens.length<=0&&Co("Invalid type tag.");this.tokens[0][1]!==t&&(n.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&r)));)this.tokens.length<=0&&Co("Invalid type tag.");return n}parseTypeTag(){this.tokens.length===0&&Co("Invalid type tag.");const[t,r]=this.tokens.shift();if(r==="u8")return new ko;if(r==="u16")return new vf;if(r==="u32")return new xf;if(r==="u64")return new Fc;if(r==="u128")return new Hc;if(r==="u256")return new Ef;if(r==="bool")return new Pc;if(r==="address")return new _a;if(r==="vector"){this.consume("<");const n=this.parseTypeTag();return this.consume(">"),new Sf(n)}if(r==="string")return new va(_1);if(t==="IDENT"&&(r.startsWith("0x")||r.startsWith("0X"))){const n=Xt.fromHex(r);this.consume("::");const[i,s]=this.tokens.shift();i!=="IDENT"&&Co("Invalid type tag."),this.consume("::");const[o,a]=this.tokens.shift();if(o!=="IDENT"&&Co("Invalid type tag."),Xt.CORE_CODE_ADDRESS.toHexString()===n.toHexString()&&s==="object"&&a==="Object")return this.consumeWholeGeneric(),new _a;let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));const u=new Dc(n,new En(s),new En(a),c);return new va(u)}if(t==="GENERIC"){this.typeTags.length===0&&Co("Can't convert generic type since no typeTags were specified.");const n=parseInt(r.substring(1),10);return new l6(this.typeTags[n]).parseTypeTag()}throw new Error("Invalid type tag.")}},hB=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},zc=class h6{constructor(t,r,n,i,s,o,a){this.sender=t,this.sequence_number=r,this.payload=n,this.max_gas_amount=i,this.gas_unit_price=s,this.expiration_timestamp_secs=o,this.chain_id=a}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const r=Xt.deserialize(t),n=t.deserializeU64(),i=Tf.deserialize(t),s=t.deserializeU64(),o=t.deserializeU64(),a=t.deserializeU64(),c=T1.deserialize(t);return new h6(r,n,i,s,o,a,c)}},v1=class d6{constructor(t,r,n){this.code=t,this.ty_args=r,this.args=n}serialize(t){t.serializeBytes(this.code),dn(this.ty_args,t),dn(this.args,t)}static deserialize(t){const r=t.deserializeBytes(),n=Ln(t,pn),i=Ln(t,Ni);return new d6(r,n,i)}},Td=class Fd{constructor(t,r,n,i){this.module_name=t,this.function_name=r,this.ty_args=n,this.args=i}static natural(t,r,n,i){return new Fd(Bf.fromStr(t),new En(r),n,i)}static natual(t,r,n,i){return Fd.natural(t,r,n,i)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),dn(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(r=>{t.serializeBytes(r)})}static deserialize(t){const r=Bf.deserialize(t),n=En.deserialize(t),i=Ln(t,pn),s=t.deserializeUleb128AsU32(),o=[];for(let c=0;c<s;c+=1)o.push(t.deserializeBytes());const a=o;return new Fd(r,n,i,a)}},dB=class p6{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new p6(Td.deserialize(t))}},pB=class g6{constructor(t,r){this.multisig_address=t,this.transaction_payload=r}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const r=Xt.deserialize(t),n=t.deserializeBool();let i;return n&&(i=dB.deserialize(t)),new g6(r,i)}},sj=class y6{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const r=t.deserializeBytes();return new y6(r)}},Bf=class V1{constructor(t,r){this.address=t,this.name=r}static fromStr(t){const r=t.split("::");if(r.length!==2)throw new Error("Invalid module id.");return new V1(Xt.fromHex(new qe(r[0])),new En(r[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const r=Xt.deserialize(t),n=En.deserialize(t);return new V1(r,n)}},oj=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},aj=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},Id=class w6{constructor(t,r){this.raw_txn=t,this.authenticator=r}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const r=zc.deserialize(t),n=Nc.deserialize(t);return new w6(r,n)}},x1=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return E1.load(e);case 1:return S1.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},E1=class m6 extends x1{constructor(t,r){super(),this.raw_txn=t,this.secondary_signer_addresses=r}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),dn(this.secondary_signer_addresses,t)}static load(t){const r=zc.deserialize(t),n=Ln(t,Xt);return new m6(r,n)}},S1=class b6 extends x1{constructor(t,r,n){super(),this.raw_txn=t,this.secondary_signer_addresses=r,this.fee_payer_address=n}serialize(t){t.serializeU32AsUleb128(1),this.raw_txn.serialize(t),dn(this.secondary_signer_addresses,t),this.fee_payer_address.serialize(t)}static load(t){const r=zc.deserialize(t),n=Ln(t,Xt),i=Xt.deserialize(t);return new b6(r,n,i)}},Tf=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return A1.load(e);case 2:return B1.load(e);case 3:return gB.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},A1=class _6 extends Tf{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const r=v1.deserialize(t);return new _6(r)}},B1=class v6 extends Tf{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const r=Td.deserialize(t);return new v6(r)}},gB=class x6 extends Tf{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const r=pB.deserialize(t);return new x6(r)}},T1=class E6{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const r=t.deserializeU8();return new E6(r)}},Ni=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return I1.load(e);case 1:return C1.load(e);case 2:return $1.load(e);case 3:return O1.load(e);case 4:return U1.load(e);case 5:return M1.load(e);case 6:return R1.load(e);case 7:return k1.load(e);case 8:return L1.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},I1=class S6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const r=t.deserializeU8();return new S6(r)}},R1=class A6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const r=t.deserializeU16();return new A6(r)}},k1=class B6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const r=t.deserializeU32();return new B6(r)}},C1=class T6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const r=t.deserializeU64();return new T6(r)}},$1=class I6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const r=t.deserializeU128();return new I6(r)}},L1=class R6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const r=t.deserializeU256();return new R6(r)}},O1=class k6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const r=Xt.deserialize(t);return new k6(r)}},U1=class C6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const r=t.deserializeBytes();return new C6(r)}},M1=class $6 extends Ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const r=t.deserializeBool();return new $6(r)}},yB=class{getHashSalt(){const e=Oc.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return wB.load(e);default:throw new Error(`Unknown variant index for Transaction: ${t}`)}}},wB=class L6 extends yB{constructor(t){super(),this.value=t}hash(){const t=Oc.create();return t.update(this.getHashSalt()),t.update($s(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new L6(Id.deserialize(t))}},Rd=class O6{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const r=t.deserializeStr();return new O6(r)}},kd=class U6{constructor(t,r){this.name=t,this.type_tag=r}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const r=t.deserializeStr(),n=pn.deserialize(t);return new U6(r,n)}},Cd=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return N1.load(e);case 1:return If.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},N1=class M6 extends Cd{constructor(t,r,n,i,s){super(),this.name=t,this.doc=r,this.code=n,this.ty_args=i,this.args=s}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),dn(this.ty_args,t),dn(this.args,t)}static load(t){const r=t.deserializeStr(),n=t.deserializeStr(),i=t.deserializeBytes(),s=Ln(t,Rd),o=Ln(t,kd);return new M6(r,n,i,s,o)}},If=class N6 extends Cd{constructor(t,r,n,i,s){super(),this.name=t,this.module_name=r,this.doc=n,this.ty_args=i,this.args=s}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),dn(this.ty_args,t),dn(this.args,t)}static load(t){const r=t.deserializeStr(),n=Bf.deserialize(t),i=t.deserializeStr(),s=Ln(t,Rd),o=Ln(t,kd);return new N6(r,n,i,s,o)}},Rf=class Wc{constructor(t){if(t.length!==Wc.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const r=t.toBytes(),n=new Uint8Array(r.length+1);n.set(r),n.set([Wc.MULTI_ED25519_SCHEME],r.length);const i=Oc.create();return i.update(n),new Wc(i.digest())}static fromEd25519PublicKey(t){const r=t.value,n=new Uint8Array(r.length+1);n.set(r),n.set([Wc.ED25519_SCHEME],r.length);const i=Oc.create();return i.update(n),new Wc(i.digest())}derivedAddress(){return qe.fromUint8Array(this.bytes)}};Rf.LENGTH=32,Rf.MULTI_ED25519_SCHEME=1,Rf.ED25519_SCHEME=0,Rf.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var P1=Rf,cj=class{constructor(e,t,r,n,i,s,o){this.accountAddress=e,this.moduleName=t,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},mB=class Hd{static fromAptosAccountObject(t){return new Hd(qe.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(t){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t)}static fromDerivePath(t,r){if(!Hd.isValidPath(t))throw new Error("Invalid derivation path");const n=r.trim().split(/\s+/).map(s=>s.toLowerCase()).join(" "),{key:i}=kz(t,HA(H9(n)));return new Hd(i)}constructor(t,r){t?this.signingKey=id.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=id.sign.keyPair(),this.accountAddress=qe.ensure(r||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new Mi(this.signingKey.publicKey);return P1.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,r){const n=$s(Xt.fromHex(t)),i=new Uint8Array([...n,...r,P1.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=Oc.create();return s.update(i),qe.fromUint8Array(s.digest())}static getCollectionID(t,r){const n=new TextEncoder().encode(`${t}::${r}`),i=E9.create();return i.update(n),qe.fromUint8Array(i.digest())}pubKey(){return qe.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const r=id.sign.detached(t,this.signingKey.secretKey);return qe.fromUint8Array(r)}signHexString(t){const r=qe.ensure(t).toUint8Array();return this.signBuffer(r)}verifySignature(t,r){const n=qe.ensure(t).toUint8Array(),i=qe.ensure(r).toUint8Array();return id.sign.detached.verify(n,i,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:qe.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};Vt([Ed()],mB.prototype,"authKey",1);var bB=mB,kf=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,uj=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,fj=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,_B=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,lj=`
    query getAccountCoinsDataCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,hj=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,dj=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${uj}
${fj}`,pj=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,gj=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,yj=`
    query getAccountTransactionsData($where_condition: account_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [account_transactions_order_by!]) {
  account_transactions(
    where: $where_condition
    order_by: $order_by
    limit: $limit
    offset: $offset
  ) {
    token_activities_v2 {
      ...TokenActivitiesFields
    }
    transaction_version
    account_address
  }
}
    ${_B}`,wj=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collections_v2_order_by!]) {
  current_collections_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,mj=`
    query getCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,bj=`
    query getCurrentObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,_j=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,vj=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,xj=`
    query getNumberOfDelegators($poolAddress: String) {
  num_active_delegator_per_pool(
    where: {pool_address: {_eq: $poolAddress}, num_active_delegator: {_gt: "0"}}
    distinct_on: pool_address
  ) {
    num_active_delegator
    pool_address
  }
}
    `,Ej=`
    query getOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${kf}`,Sj=`
    query getOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${kf}`,Aj=`
    query getTokenActivities($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${_B}`,Bj=`
    query getTokenActivitiesCount($token_id: String) {
  token_activities_v2_aggregate(where: {token_data_id: {_eq: $token_id}}) {
    aggregate {
      count
    }
  }
}
    `,Tj=`
    query getTokenCurrentOwnerData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${kf}`,Ij=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,Rj=`
    query getTokenOwnedFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${kf}`,kj=`
    query getTokenOwnersData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${kf}`,Cj=`
    query getTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,$j=`
    query getUserTransactions($where_condition: user_transactions_bool_exp!, $offset: Int, $limit: Int, $order_by: [user_transactions_order_by!]) {
  user_transactions(
    order_by: $order_by
    where: $where_condition
    limit: $limit
    offset: $offset
  ) {
    version
  }
}
    `;function $d(e,t,r){if(!t?.includes(typeof e))throw new Error(r||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function vB(e){if($d(e,["boolean","string"]),typeof e=="boolean")return e;if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean string.")}function jc(e){if($d(e,["number","string"]),typeof e=="number")return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function qc(e){return $d(e,["number","bigint","string"]),BigInt(e)}function Lj(e,t,r){F1(e,t,r)}function F1(e,t,r,n){if(t instanceof Pc)r.serializeBool(vB(e));else if(t instanceof ko)r.serializeU8(jc(e));else if(t instanceof vf)r.serializeU16(jc(e));else if(t instanceof xf)r.serializeU32(jc(e));else if(t instanceof Fc)r.serializeU64(qc(e));else if(t instanceof Hc)r.serializeU128(qc(e));else if(t instanceof Ef)r.serializeU256(qc(e));else if(t instanceof _a)xB(e,r);else if(t instanceof Sf)Oj(e,t,r);else if(t instanceof va)Uj(e,t,r);else throw new Error("Unsupported arg type.")}function xB(e,t){let r;if(typeof e=="string"||e instanceof qe)r=Xt.fromHex(e);else if(e instanceof Xt)r=e;else throw new Error("Invalid account address.");r.serialize(t)}function Oj(e,t,r,n){if(t.value instanceof ko){if(e instanceof Uint8Array){r.serializeBytes(e);return}if(e instanceof qe){r.serializeBytes(e.toUint8Array());return}if(typeof e=="string"){r.serializeStr(e);return}}if(!Array.isArray(e))throw new Error("Invalid vector args.");r.serializeU32AsUleb128(e.length),e.forEach(i=>F1(i,t.value,r))}function Uj(e,t,r,n){const{address:i,module_name:s,name:o,type_args:a}=t.value,c=`${qe.fromUint8Array(i.address).toShortString()}::${s.value}::${o.value}`;if(c==="0x1::string::String")$d(e,["string"]),r.serializeStr(e);else if(c==="0x1::object::Object")xB(e,r);else if(c==="0x1::option::Option"){if(a.length!==1)throw new Error(`Option has the wrong number of type arguments ${a.length}`);Mj(e,a[0],r)}else throw new Error("Unsupported struct type in function argument")}function Mj(e,t,r,n){e==null?r.serializeU32AsUleb128(0):(r.serializeU32AsUleb128(1),F1(e,t,r))}function Nj(e,t){if(t instanceof Pc)return new M1(vB(e));if(t instanceof ko)return new I1(jc(e));if(t instanceof vf)return new R1(jc(e));if(t instanceof xf)return new k1(jc(e));if(t instanceof Fc)return new C1(qc(e));if(t instanceof Hc)return new $1(qc(e));if(t instanceof Ef)return new L1(qc(e));if(t instanceof _a){let r;if(typeof e=="string"||e instanceof qe)r=Xt.fromHex(e);else if(e instanceof Xt)r=e;else throw new Error("Invalid account address.");return new O1(r)}if(t instanceof Sf&&t.value instanceof ko){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new U1(e)}throw new Error("Unknown type for TransactionArgument.")}var Pj="APTOS::RawTransaction",EB="APTOS::RawTransactionWithData",Cf=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,r)}static getSigningMessage(e){const t=Oc.create();if(e instanceof zc)t.update(Pj);else if(e instanceof E1)t.update(EB);else if(e instanceof S1)t.update(EB);else throw new Error("Unknown transaction type.");const r=t.digest(),n=$s(e),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},H1=class extends Cf{constructor(e,t,r){super(e,r),this.publicKey=t}rawToSigned(e){const t=Cf.getSigningMessage(e),r=this.signingFunction(t),n=new m1(new Mi(this.publicKey),r);return new Id(e,n)}sign(e){return $s(this.rawToSigned(e))}},Fj=class extends Cf{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Cf.getSigningMessage(e),r=this.signingFunction(t),n=new b1(this.publicKey,r);return new Id(e,n)}sign(e){return $s(this.rawToSigned(e))}},Hj=class K1{constructor(t,r){this.abiMap=new Map,t.forEach(n=>{const i=new p1(n),s=Cd.deserialize(i);let o;if(s instanceof If){const a=s,{address:c,name:u}=a.module_name;o=`${qe.fromUint8Array(c.address).toShortString()}::${u.value}::${a.name}`}else o=s.name;if(this.abiMap.has(o))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(o,s)}),this.builderConfig={maxGasAmount:BigInt(W3),expSecFromNow:G3,...r}}static toBCSArgs(t,r){if(t.length!==r.length)throw new Error("Wrong number of args provided.");return r.map((n,i)=>{const s=new Er;return Lj(n,t[i].type_tag,s),s.getBytes()})}static toTransactionArguments(t,r){if(t.length!==r.length)throw new Error("Wrong number of args provided.");return r.map((n,i)=>Nj(n,t[i].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,r,n){const i=r.map(a=>new Af(a).parseTypeTag());let s;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const o=this.abiMap.get(t);if(o instanceof If){const a=o,c=K1.toBCSArgs(a.args,n);s=new B1(new Td(a.module_name,new En(a.name),i,c))}else if(o instanceof N1){const a=o,c=K1.toTransactionArguments(a.args,n);s=new A1(new v1(a.code,i,c))}else throw new Error("Unknown ABI format.");return s}build(t,r,n){const{sender:i,sequenceNumber:s,gasUnitPrice:o,maxGasAmount:a,expSecFromNow:c,chainId:u}=this.builderConfig;if(!o)throw new Error("No gasUnitPrice provided.");const l=i instanceof Xt?i:Xt.fromHex(i),h=BigInt(Math.floor(Date.now()/1e3)+Number(c)),_=this.buildTransactionPayload(t,r,n);if(_)return new zc(l,BigInt(s),_,BigInt(a),BigInt(o),h,new T1(Number(u)));throw new Error("Invalid ABI.")}},SB=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const r=(await this.aptosClient.getAccountModules(e)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),n=new Map;return r.forEach(i=>{n.set(i.fullName,i)}),n}async build(e,t,r){if(e=(C=>C.replace(/^0[xX]0*/g,"0x"))(e),e.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[s,o]=e.split("::"),a=await this.fetchABI(s);if(!a.has(e))throw new Error(`${e} doesn't exist.`);const c=a.get(e),l=c.params.filter(C=>C!=="signer"&&C!=="&signer").map((C,$)=>new kd(`var${$}`,new Af(C,t).parseTypeTag())),h=new If(c.name,Bf.fromStr(`${s}::${o}`),"",c.generic_type_params.map((C,$)=>new Rd(`${$}`)),l),{sender:_,...w}=this.builderConfig,A=_ instanceof Xt?qe.fromUint8Array(_.address):_,[{sequence_number:k},I,{gas_estimate:H}]=await Promise.all([w?.sequenceNumber?Promise.resolve({sequence_number:w?.sequenceNumber}):this.aptosClient.getAccount(A),w?.chainId?Promise.resolve(w?.chainId):this.aptosClient.getChainId(),w?.gasUnitPrice?Promise.resolve({gas_estimate:w?.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Hj([$s(h)],{sender:_,sequenceNumber:k,chainId:I,gasUnitPrice:BigInt(H),...w}).build(e,t,r)}};Vt([Z3(10*60*1e3)],SB.prototype,"fetchABI",1);var Ir=class Gc{constructor(t,r,n=!1){if(!t)throw new Error("Node URL cannot be empty.");n?this.nodeUrl=t:this.nodeUrl=Lz(t),this.config=r==null?{}:{...r}}async getAccount(t){const{data:r}=await qn({url:this.nodeUrl,endpoint:`accounts/${qe.ensure(t).hex()}`,originMethod:"getAccount",overrides:{...this.config}});return r}async getAccountTransactions(t,r){const{data:n}=await qn({url:this.nodeUrl,endpoint:`accounts/${qe.ensure(t).hex()}/transactions`,originMethod:"getAccountTransactions",params:{start:r?.start,limit:r?.limit},overrides:{...this.config}});return n}async getAccountModules(t,r){return await Q3({url:this.nodeUrl,endpoint:`accounts/${t}/modules`,params:{ledger_version:r?.ledgerVersion,limit:1e3},originMethod:"getAccountModules",overrides:{...this.config}})}async getAccountModule(t,r,n){const{data:i}=await qn({url:this.nodeUrl,endpoint:`accounts/${qe.ensure(t).hex()}/module/${r}`,originMethod:"getAccountModule",params:{ledger_version:n?.ledgerVersion},overrides:{...this.config}});return i}async getAccountResources(t,r){return await Q3({url:this.nodeUrl,endpoint:`accounts/${t}/resources`,params:{ledger_version:r?.ledgerVersion,limit:9999},originMethod:"getAccountResources",overrides:{...this.config}})}async getAccountResource(t,r,n){const{data:i}=await qn({url:this.nodeUrl,endpoint:`accounts/${qe.ensure(t).hex()}/resource/${r}`,originMethod:"getAccountResource",params:{ledger_version:n?.ledgerVersion},overrides:{...this.config}});return i}static generateBCSTransaction(t,r){return new H1(i=>{const s=t.signBuffer(i);return new cr.Ed25519Signature(s.toUint8Array())},t.pubKey().toUint8Array()).sign(r)}static generateBCSSimulation(t,r){return new H1(i=>{const s=new Uint8Array(64);return new cr.Ed25519Signature(s)},t.pubKey().toUint8Array()).sign(r)}async generateTransaction(t,r,n){const i={sender:t};if(n?.sequence_number&&(i.sequenceNumber=n.sequence_number),n?.gas_unit_price&&(i.gasUnitPrice=n.gas_unit_price),n?.max_gas_amount&&(i.maxGasAmount=n.max_gas_amount),n?.expiration_timestamp_secs){const o=Number.parseInt(n.expiration_timestamp_secs,10);i.expSecFromNow=o-Math.floor(Date.now()/1e3)}return new SB(this,i).build(r.function,r.type_arguments,r.arguments)}async generateFeePayerTransaction(t,r,n,i=[],s){const o=await this.generateTransaction(t,r,s),a=i.map(u=>Xt.fromHex(u));return new cr.FeePayerRawTransaction(o,a,Xt.fromHex(n))}async submitFeePayerTransaction(t,r,n,i=[]){const s=new cr.TransactionAuthenticatorFeePayer(r,t.secondary_signer_addresses,i,{address:t.fee_payer_address,authenticator:n}),o=$s(new cr.SignedTransaction(t.raw_txn,s));return await this.submitSignedBCSTransaction(o)}async signMultiTransaction(t,r){const n=new cr.Ed25519Signature(t.signBuffer(Cf.getSigningMessage(r)).toUint8Array()),i=new cr.AccountAuthenticatorEd25519(new cr.Ed25519PublicKey(t.signingKey.publicKey),n);return Promise.resolve(i)}async signTransaction(t,r){return Promise.resolve(Gc.generateBCSTransaction(t,r))}async getEventsByCreationNumber(t,r,n){const{data:i}=await qn({url:this.nodeUrl,endpoint:`accounts/${qe.ensure(t).hex()}/events/${r}`,originMethod:"getEventsByCreationNumber",params:{start:n?.start,limit:n?.limit},overrides:{...this.config}});return i}async getEventsByEventHandle(t,r,n,i){const{data:s}=await qn({url:this.nodeUrl,endpoint:`accounts/${qe.ensure(t).hex()}/events/${r}/${n}`,originMethod:"getEventsByEventHandle",params:{start:i?.start,limit:i?.limit},overrides:{...this.config}});return s}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,r,n){let i;return t instanceof bB?i=Gc.generateBCSSimulation(t,r):t instanceof Bd?i=new Fj(()=>{const{threshold:o}=t,a=[],c=[];for(let l=0;l<o;l+=1)a.push(l),c.push(new cr.Ed25519Signature(new Uint8Array(64)));const u=cr.MultiEd25519Signature.createBitmap(a);return new cr.MultiEd25519Signature(c,u)},t).sign(r):i=new H1(()=>{const o=new Uint8Array(64);return new cr.Ed25519Signature(o)},t.toBytes()).sign(r),this.submitBCSSimulation(i,n)}async submitSignedBCSTransaction(t){const{data:r}=await bf({url:this.nodeUrl,body:t,endpoint:"transactions",originMethod:"submitSignedBCSTransaction",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return r}async submitBCSSimulation(t,r){var n,i,s;const o={estimate_gas_unit_price:(n=r?.estimateGasUnitPrice)!=null?n:!1,estimate_max_gas_amount:(i=r?.estimateMaxGasAmount)!=null?i:!1,estimate_prioritized_gas_unit_price:(s=r?.estimatePrioritizedGasUnitPrice)!=null?s:!1},{data:a}=await bf({url:this.nodeUrl,body:t,endpoint:"transactions/simulate",params:o,originMethod:"submitBCSSimulation",contentType:"application/x.aptos.signed_transaction+bcs",overrides:{...this.config}});return a}async getTransactions(t){var r;const{data:n}=await qn({url:this.nodeUrl,endpoint:"transactions",originMethod:"getTransactions",params:{start:(r=t?.start)==null?void 0:r.toString(),limit:t?.limit},overrides:{...this.config}});return n}async getTransactionByHash(t){const{data:r}=await qn({url:this.nodeUrl,endpoint:`transactions/by_hash/${t}`,originMethod:"getTransactionByHash",overrides:{...this.config}});return r}async getTransactionByVersion(t){const{data:r}=await qn({url:this.nodeUrl,endpoint:`transactions/by_version/${t}`,originMethod:"getTransactionByVersion",overrides:{...this.config}});return r}async transactionPending(t){try{return(await this.getTransactionByHash(t)).type==="pending_transaction"}catch(r){if(r?.status===404)return!0;throw r}}async waitForTransactionWithResult(t,r){var n,i;const s=(n=r?.timeoutSecs)!=null?n:Oz,o=(i=r?.checkSuccess)!=null?i:!1;let a=!0,c=0,u;for(;a&&!(c>=s);){try{if(u=await this.getTransactionByHash(t),a=u.type==="pending_transaction",!a)break}catch(l){const h=l instanceof z1,_=h&&l.status!==404&&l.status>=400&&l.status<500;if(!h||_)throw l}await $z(1e3),c+=1}if(u===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(a)throw new Dj(`Waiting for transaction ${t} timed out after ${s} seconds`,u);if(!o)return u;if(!u?.success)throw new zj(`Transaction ${t} failed with an error: ${u.vm_status}`,u);return u}async waitForTransaction(t,r){await this.waitForTransactionWithResult(t,r)}async getLedgerInfo(){const{data:t}=await qn({url:this.nodeUrl,originMethod:"getLedgerInfo",overrides:{...this.config}});return t}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,r,n){var i;return(await bf({url:this.nodeUrl,body:r,endpoint:`tables/${t}/item`,originMethod:"getTableItem",params:{ledger_version:(i=n?.ledgerVersion)==null?void 0:i.toString()},overrides:{...this.config}})).data}async generateRawTransaction(t,r,n){const[{sequence_number:i},s,{gas_estimate:o}]=await Promise.all([n?.providedSequenceNumber?Promise.resolve({sequence_number:n.providedSequenceNumber}):this.getAccount(t),this.getChainId(),n?.gasUnitPrice?Promise.resolve({gas_estimate:n.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:c,expireTimestamp:u}={maxGasAmount:BigInt(W3),gasUnitPrice:BigInt(o),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+G3),...n};return new cr.RawTransaction(cr.AccountAddress.fromHex(t),BigInt(i),r,a,c,u,new cr.ChainId(s))}async generateSignSubmitTransaction(t,r,n){const i=await this.generateRawTransaction(t.address(),r,n),s=Gc.generateBCSTransaction(t,i);return(await this.submitSignedBCSTransaction(s)).hash}async signAndSubmitTransaction(t,r){const n=Gc.generateBCSTransaction(t,r);return(await this.submitSignedBCSTransaction(n)).hash}async publishPackage(t,r,n,i){const s=new Er;dn(n,s);const o=new cr.TransactionPayloadEntryFunction(cr.EntryFunction.natural("0x1::code","publish_package_txn",[],[Io(r),s.getBytes()]));return this.generateSignSubmitTransaction(t,o,i)}async createResourceAccountAndPublishPackage(t,r,n,i,s){const o=new Er;dn(i,o);const a=new cr.TransactionPayloadEntryFunction(cr.EntryFunction.natural("0x1::resource_account","create_resource_account_and_publish_package",[],[Io(r),Io(n),o.getBytes()]));return this.generateSignSubmitTransaction(t,a,s)}async generateSignSubmitWaitForTransaction(t,r,n){const i=await this.generateSignSubmitTransaction(t,r,n);return this.waitForTransactionWithResult(i,n)}async estimateGasPrice(){const{data:t}=await qn({url:this.nodeUrl,endpoint:"estimate_gas_price",originMethod:"estimateGasPrice",overrides:{...this.config}});return t}async estimateMaxGasAmount(t){const r=`0x1::coin::CoinStore<${Uz}>`,[{gas_estimate:n},i]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),s=i.find(a=>a.type===r);return BigInt(s.data.coin.value)/BigInt(n)}async rotateAuthKeyEd25519(t,r,n){const{sequence_number:i,authentication_key:s}=await this.getAccount(t.address()),o=new bB(r),a=new cr.RotationProofChallenge(cr.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),cr.AccountAddress.fromHex(t.address()),new cr.AccountAddress(new qe(s).toUint8Array()),o.pubKey().toUint8Array()),c=qe.fromUint8Array($s(a)),u=t.signHexString(c),l=o.signHexString(c),h=new cr.TransactionPayloadEntryFunction(cr.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[g1(0),Io(t.pubKey().toUint8Array()),g1(0),Io(o.pubKey().toUint8Array()),Io(u.toUint8Array()),Io(l.toUint8Array())])),_=await this.generateRawTransaction(t.address(),h,n),w=Gc.generateBCSTransaction(t,_);return this.submitSignedBCSTransaction(w)}async lookupOriginalAddress(t){const r=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:n}}=r.data,i=await this.getTableItem(n,{key_type:"address",value_type:"address",key:qe.ensure(t).hex()});return new qe(i)}async getBlockByHeight(t,r){const{data:n}=await qn({url:this.nodeUrl,endpoint:`blocks/by_height/${t}`,originMethod:"getBlockByHeight",params:{with_transactions:r},overrides:{...this.config}});return n}async getBlockByVersion(t,r){const{data:n}=await qn({url:this.nodeUrl,endpoint:`blocks/by_version/${t}`,originMethod:"getBlockByVersion",params:{with_transactions:r},overrides:{...this.config}});return n}async view(t,r){const{data:n}=await bf({url:this.nodeUrl,body:t,endpoint:"view",originMethod:"getTableItem",params:{ledger_version:r},overrides:{...this.config}});return n}clearCache(t){Mz(t)}};Vt([zr],Ir.prototype,"getAccount",1),Vt([zr],Ir.prototype,"getAccountTransactions",1),Vt([zr,Z3(10*60*1e3)],Ir.prototype,"getAccountModules",1),Vt([zr],Ir.prototype,"getAccountModule",1),Vt([zr],Ir.prototype,"getAccountResources",1),Vt([zr],Ir.prototype,"getAccountResource",1),Vt([zr],Ir.prototype,"getEventsByCreationNumber",1),Vt([zr],Ir.prototype,"getEventsByEventHandle",1),Vt([zr],Ir.prototype,"submitSignedBCSTransaction",1),Vt([zr],Ir.prototype,"submitBCSSimulation",1),Vt([zr],Ir.prototype,"getTransactions",1),Vt([zr],Ir.prototype,"getTransactionByHash",1),Vt([zr],Ir.prototype,"getTransactionByVersion",1),Vt([zr],Ir.prototype,"getLedgerInfo",1),Vt([Ed()],Ir.prototype,"getChainId",1),Vt([zr],Ir.prototype,"getTableItem",1),Vt([zr,Ed({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Ir.prototype,"estimateGasPrice",1),Vt([zr],Ir.prototype,"estimateMaxGasAmount",1),Vt([zr],Ir.prototype,"getBlockByHeight",1),Vt([zr],Ir.prototype,"getBlockByVersion",1),Vt([zr],Ir.prototype,"view",1);var D1=Ir,Dj=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},zj=class extends Error{constructor(e,t){super(e),this.transaction=t}},z1=class extends Error{constructor(e,t,r,n){super(t),this.status=e,this.message=t,this.errorCode=r,this.vmErrorCode=n}};function zr(e,t,r){const n=r.value;return r.value=async function(...s){var o,a;try{return await n.apply(this,[...s])}catch(c){throw c instanceof X3?new z1(c.status,JSON.stringify({message:c.message,...c.data}),(o=c.data)==null?void 0:o.error_code,(a=c.data)==null?void 0:a.vm_error_code):c}},r}var AB=class Pr{constructor(t,r){this.endpoint=t,this.config=r}static validateAddress(t){if(t.length<66)throw new Error(`${t} is less than 66 chars long.`)}async queryIndexer(t){const r=await bf({url:this.endpoint,body:t,overrides:{WITH_CREDENTIALS:!1,...this.config}});if(r.data.errors)throw new z1(r.data.errors[0].extensions.code,JSON.stringify({message:r.data.errors[0].message,error_code:r.data.errors[0].extensions.code}));return r.data.data}async getIndexerLedgerInfo(){const t={query:vj};return this.queryIndexer(t)}async getAccountNFTs(t,r){const n=qe.ensure(t).hex();Pr.validateAddress(n);const i={query:dj,variables:{address:n,offset:r?.offset,limit:r?.limit}};return this.queryIndexer(i)}async getTokenActivities(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const o={token_data_id:{_eq:s}};r?.tokenStandard&&(o.token_standard={_eq:r?.tokenStandard});const a={query:Aj,variables:{where_condition:o,offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getTokenActivitiesCount(t){const r={query:Bj,variables:{token_id:t}};return this.queryIndexer(r)}async getAccountTokensCount(t,r){var n,i;const s={owner_address:{_eq:t},amount:{_gt:"0"}};r?.tokenStandard&&(s.token_standard={_eq:r?.tokenStandard});const o=qe.ensure(t).hex();Pr.validateAddress(o);const a={query:pj,variables:{where_condition:s,offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit}};return this.queryIndexer(a)}async getTokenData(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const o={token_data_id:{_eq:s}};r?.tokenStandard&&(o.token_standard={_eq:r?.tokenStandard});const a={query:Ij,variables:{where_condition:o,offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getTokenOwnersData(t,r,n){var i,s;const o=qe.ensure(t).hex();Pr.validateAddress(o);const a={token_data_id:{_eq:o},amount:{_gt:"0"}};r&&(a.property_version_v1={_eq:r}),n?.tokenStandard&&(a.token_standard={_eq:n?.tokenStandard});const c={query:kj,variables:{where_condition:a,offset:(i=n?.options)==null?void 0:i.offset,limit:(s=n?.options)==null?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(c)}async getTokenCurrentOwnerData(t,r,n){var i,s;const o=qe.ensure(t).hex();Pr.validateAddress(o);const a={token_data_id:{_eq:o},amount:{_gt:"0"}};r&&(a.property_version_v1={_eq:r}),n?.tokenStandard&&(a.token_standard={_eq:n?.tokenStandard});const c={query:Tj,variables:{where_condition:a,offset:(i=n?.options)==null?void 0:i.offset,limit:(s=n?.options)==null?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(c)}async getOwnedTokens(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const o={owner_address:{_eq:s},amount:{_gt:0}};r?.tokenStandard&&(o.token_standard={_eq:r?.tokenStandard});const a={query:Ej,variables:{where_condition:o,offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getOwnedTokensByTokenData(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const o={token_data_id:{_eq:s},amount:{_gt:0}};r?.tokenStandard&&(o.token_standard={_eq:r?.tokenStandard});const a={query:Sj,variables:{where_condition:o,offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getTokenOwnedFromCollectionAddress(t,r,n){var i,s;const o=qe.ensure(t).hex();Pr.validateAddress(o);const a=qe.ensure(r).hex();Pr.validateAddress(a);const c={owner_address:{_eq:o},current_token_data:{collection_id:{_eq:a}},amount:{_gt:0}};n?.tokenStandard&&(c.token_standard={_eq:n?.tokenStandard});const u={query:Rj,variables:{where_condition:c,offset:(i=n?.options)==null?void 0:i.offset,limit:(s=n?.options)==null?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(u)}async getTokenOwnedFromCollectionNameAndCreatorAddress(t,r,n,i){const s=await this.getCollectionAddress(n,r,i);return await this.getTokenOwnedFromCollectionAddress(t,s,i)}async getCollectionData(t,r,n){var i,s;const o=qe.ensure(t).hex();Pr.validateAddress(o);const a={collection_name:{_eq:r},creator_address:{_eq:o}};n?.tokenStandard&&(a.token_standard={_eq:n?.tokenStandard});const c={query:wj,variables:{where_condition:a,offset:(i=n?.options)==null?void 0:i.offset,limit:(s=n?.options)==null?void 0:s.limit,order_by:n?.orderBy}};return this.queryIndexer(c)}async getCollectionAddress(t,r,n){return(await this.getCollectionData(t,r,n)).current_collections_v2[0].collection_id}async getCollectionsWithOwnedTokens(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const o={owner_address:{_eq:s}};r?.tokenStandard&&(o.current_collection={token_standard:{_eq:r?.tokenStandard}});const a={query:mj,variables:{where_condition:o,offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getAccountTransactionsCount(t){const r=qe.ensure(t).hex();Pr.validateAddress(r);const n={query:gj,variables:{address:r}};return this.queryIndexer(n)}async getAccountTransactionsData(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const a={query:yj,variables:{where_condition:{account_address:{_eq:s}},offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getTopUserTransactions(t){const r={query:Cj,variables:{limit:t}};return this.queryIndexer(r)}async getUserTransactions(t){var r,n;const i={version:{_lte:t?.startVersion}},s={query:$j,variables:{where_condition:i,offset:(r=t?.options)==null?void 0:r.offset,limit:(n=t?.options)==null?void 0:n.limit,order_by:t?.orderBy}};return this.queryIndexer(s)}async getDelegatedStakingActivities(t,r){const n=qe.ensure(t).hex(),i=qe.ensure(r).hex();Pr.validateAddress(n),Pr.validateAddress(i);const s={query:_j,variables:{delegatorAddress:n,poolAddress:i}};return this.queryIndexer(s)}async getNumberOfDelegators(t){const r=qe.ensure(t).hex();Pr.validateAddress(r);const n={query:xj,variables:{poolAddress:r}};return this.queryIndexer(n)}async getAccountCoinsData(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const a={query:hj,variables:{where_condition:{owner_address:{_eq:s}},offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}async getAccountCoinsDataCount(t){const r=qe.ensure(t).hex();Pr.validateAddress(r);const n={query:lj,variables:{address:r}};return this.queryIndexer(n)}async getAccountOwnedObjects(t,r){var n,i;const s=qe.ensure(t).hex();Pr.validateAddress(s);const a={query:bj,variables:{where_condition:{owner_address:{_eq:s}},offset:(n=r?.options)==null?void 0:n.offset,limit:(i=r?.options)==null?void 0:i.limit,order_by:r?.orderBy}};return this.queryIndexer(a)}},BB=class{constructor(e,t,r=!1){let n=null,i=null;if(typeof e=="object"&&jj(e)?(n=e.fullnodeUrl,i=e.indexerUrl,this.network="CUSTOM"):(n=Hz[e],i=Fz[e],this.network=e),this.network==="CUSTOM"&&!n)throw new Error("fullnode url is not provided");i&&(this.indexerClient=new AB(i,t)),this.aptosClient=new D1(n,t,r)}};function TB(e,t,r){Object.getOwnPropertyNames(t.prototype).forEach(n=>{const i=Object.getOwnPropertyDescriptor(t.prototype,n);i&&(i.value=function(...s){return this[r][n](...s)},Object.defineProperty(e.prototype,n,i))}),Object.getOwnPropertyNames(t).forEach(n=>{const i=Object.getOwnPropertyDescriptor(t,n);i&&(i.value=function(...s){return this[r][n](...s)},!e.hasOwnProperty.call(e,n)&&Object.defineProperty(e,n,i))})}TB(BB,D1,"aptosClient"),TB(BB,AB,"indexerClient");function jj(e){return e.fullnodeUrl!==void 0&&typeof e.fullnodeUrl=="string"}var IB=class{constructor(e,t){this.type=e,this.value=t}},RB=class{constructor(){this.data={}}setProperty(e,t){this.data[e]=t}};function qj(e){let t;return e==="string"||e==="String"?t=new va(_1):t=new Af(e).parseTypeTag(),t}function kB(e){const t=e.map.data,r=new RB;return t.forEach(n=>{const{key:i}=n,s=n.value.value,o=n.value.type,a=qj(o),c=Vj(a,s),u=new IB(o,c);r.setProperty(i,u)}),r}function Vj(e,t){const r=new p1(new qe(t).toUint8Array());let n="";return e instanceof ko?n=r.deserializeU8().toString():e instanceof Fc?n=r.deserializeU64().toString():e instanceof Hc?n=r.deserializeU128().toString():e instanceof Pc?n=r.deserializeBool()?"true":"false":e instanceof _a?n=qe.fromUint8Array(r.deserializeFixedBytes(32)).hex():e instanceof va&&e.isStringTypeTag()?n=r.deserializeStr():n=t,n}var Kj={};xd(Kj,{PropertyMap:()=>RB,PropertyValue:()=>IB,Token:()=>Gj,TokenData:()=>Wj});var Wj=class{constructor(e,t,r,n,i,s,o,a){this.collection=e,this.description=t,this.name=r,this.maximum=n,this.supply=i,this.uri=s,this.default_properties=kB(o),this.mutability_config=a}},Gj=class{constructor(e,t,r){this.id=e,this.amount=t,this.token_properties=kB(r)}},Zj={};xd(Zj,{AptosErrorCode:()=>CB,MoveFunctionVisibility:()=>$B,RoleType:()=>LB});var CB=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.STATE_VALUE_NOT_FOUND="state_value_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(CB||{}),$B=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))($B||{}),LB=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(LB||{}),j1={exports:{}},Vc=typeof Reflect=="object"?Reflect:null,OB=Vc&&typeof Vc.apply=="function"?Vc.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Ld;Vc&&typeof Vc.ownKeys=="function"?Ld=Vc.ownKeys:Object.getOwnPropertySymbols?Ld=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ld=function(e){return Object.getOwnPropertyNames(e)};function Yj(e){console&&console.warn&&console.warn(e)}var UB=Number.isNaN||function(e){return e!==e};function tr(){tr.init.call(this)}j1.exports=tr,j1.exports.once=eq,tr.EventEmitter=tr,tr.prototype._events=void 0,tr.prototype._eventsCount=0,tr.prototype._maxListeners=void 0;var MB=10;function Od(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(tr,"defaultMaxListeners",{enumerable:!0,get:function(){return MB},set:function(e){if(typeof e!="number"||e<0||UB(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");MB=e}}),tr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},tr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||UB(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function NB(e){return e._maxListeners===void 0?tr.defaultMaxListeners:e._maxListeners}tr.prototype.getMaxListeners=function(){return NB(this)},tr.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")OB(a,this,t);else for(var c=a.length,u=zB(a,c),r=0;r<c;++r)OB(u[r],this,t);return!0};function PB(e,t,r,n){var i,s,o;if(Od(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=NB(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,Yj(a)}return e}tr.prototype.addListener=function(e,t){return PB(this,e,t,!1)},tr.prototype.on=tr.prototype.addListener,tr.prototype.prependListener=function(e,t){return PB(this,e,t,!0)};function Xj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function FB(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Xj.bind(n);return i.listener=r,n.wrapFn=i,i}tr.prototype.once=function(e,t){return Od(t),this.on(e,FB(this,e,t)),this},tr.prototype.prependOnceListener=function(e,t){return Od(t),this.prependListener(e,FB(this,e,t)),this},tr.prototype.removeListener=function(e,t){var r,n,i,s,o;if(Od(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():Jj(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this},tr.prototype.off=tr.prototype.removeListener,tr.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),s;for(n=0;n<i.length;++n)s=i[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function HB(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Qj(i):zB(i,i.length)}tr.prototype.listeners=function(e){return HB(this,e,!0)},tr.prototype.rawListeners=function(e){return HB(this,e,!1)},tr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):DB.call(e,t)},tr.prototype.listenerCount=DB;function DB(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}tr.prototype.eventNames=function(){return this._eventsCount>0?Ld(this._events):[]};function zB(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Jj(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Qj(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function eq(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}jB(e,t,s,{once:!0}),t!=="error"&&tq(e,i,{once:!0})})}function tq(e,t,r){typeof e.on=="function"&&jB(e,"error",t,r)}function jB(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}const qB={PROMISES:"PROMISES",CALLBACK:"CALLBACK"};class rq extends j1.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==qB.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==qB.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}const $f=class extends rq{constructor(e){super(),this._isConnected=!1,this.chainId=null,this.address=null,this.aptosclient=new D1("https://fullnode.mainnet.aptoslabs.com/v1"),e&&e.network&&(this._network=e.network,e.chainId&&(this.chainId=e.chainId))}static bufferToHex(e){return"0x"+se.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=se.Buffer.from([]);try{typeof e=="string"?t=se.Buffer.from(e.replace("0x",""),"hex"):t=se.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}setConfig(e){this._network=e.network,this.address=e.address,this.chainId=e.chainId}async connect(){const e=await this.account();return this._isConnected=!0,this.emit("connect"),e}disconnect(){this._isConnected=!1,this.emit("disconnect")}isConnected(){return this._isConnected}async account(){return await this.request({method:"requestAccounts",params:{}})}network(){return this._network}getNetwork(){return $f.NETWORK}async generateTransaction(e,t,r){const n=JSON.parse(t);return await this.aptosclient.generateTransaction(e,n)}async signMessage(e){const t="APTOS",r=(await this.account()).address;let n=t;const i=window.location.protocol+"//"+window.location.hostname;e.address&&(n+=`
address: `+r),e.application&&(n+=`
application: `+i),e.chainId&&(n+=`
chainId: `+this.chainId),n+=`
message: `+e.message,n+=`
nonce: `+e.nonce;const s=se.Buffer.from(n),o=$f.bufferToHex(s);return this.request({method:"signMessage",params:{data:o}}).then(a=>({address:r,application:i,chainId:this.chainId,fullMessage:n,message:e.message,nonce:e.nonce,prefix:t,signature:a}))}async signAndSubmitTransaction(e){const t=await this.signTransaction(e),r=await this.request({method:"sendTransaction",params:{tx:t}});return{hash:$f.messageToBuffer(r).toString()}}async signTransaction(e){const t=await this.request({method:"signTransaction",params:{data:e}});return JSON.parse($f.messageToBuffer(t).toString())}};let VB=$f;VB.NETWORK="aptos";const nq=(e,t)=>new uT({strategy:e,handler:t}),iq=e=>new Ol(e),sq=e=>new MA(e),oq=e=>new LA(e),aq=e=>new VB(e);window.trustwallet={core:nq,solana:iq,cosmos:sq,ethereum:oq,aptos:aq}});
