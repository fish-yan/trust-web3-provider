(function(ft){typeof define=="function"&&define.amd?define(ft):ft()})(function(){"use strict";var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ae={},af={};af.byteLength=Wx,af.toByteArray=Zx,af.fromByteArray=Jx;for(var gi=[],Fn=[],Vx=typeof Uint8Array<"u"?Uint8Array:Array,Ml="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ro=0,Kx=Ml.length;Ro<Kx;++Ro)gi[Ro]=Ml[Ro],Fn[Ml.charCodeAt(Ro)]=Ro;Fn["-".charCodeAt(0)]=62,Fn["_".charCodeAt(0)]=63;function Dp(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Wx(e){var t=Dp(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Gx(e,t,r){return(t+r)*3/4-r}function Zx(e){var t,r=Dp(e),n=r[0],i=r[1],s=new Vx(Gx(e,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=Fn[e.charCodeAt(c)]<<18|Fn[e.charCodeAt(c+1)]<<12|Fn[e.charCodeAt(c+2)]<<6|Fn[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Fn[e.charCodeAt(c)]<<2|Fn[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=Fn[e.charCodeAt(c)]<<10|Fn[e.charCodeAt(c+1)]<<4|Fn[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function Yx(e){return gi[e>>18&63]+gi[e>>12&63]+gi[e>>6&63]+gi[e&63]}function Xx(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(Yx(n));return i.join("")}function Jx(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(Xx(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(gi[t>>2]+gi[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(gi[t>>10]+gi[t>>4&63]+gi[t<<2&63]+"=")),i.join("")}var Nl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Nl.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,y=r?i-1:0,A=r?-1:1,b=e[t+y];for(y+=A,s=b&(1<<-l)-1,b>>=-l,l+=a;l>0;s=s*256+e[t+y],y+=A,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+y],y+=A,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(b?-1:1)*o*Math.pow(2,s-n)},Nl.write=function(e,t,r,n,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,y=l>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,R=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?t+=A/c:t+=A*Math.pow(2,1-y),t*c>=2&&(o++,c/=2),o+y>=l?(a=0,o=l):o+y>=1?(a=(t*c-1)*Math.pow(2,i),o=o+y):(a=t*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;e[r+b]=a&255,b+=R,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+b]=o&255,b+=R,o/=256,u-=8);e[r+b-R]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=af,r=Nl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const C=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(C,w),C.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');const w=new Uint8Array(C);return Object.setPrototypeOf(w,a.prototype),w}function a(C,w,v){if(typeof C=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(C)}return c(C,w,v)}a.poolSize=8192;function c(C,w,v){if(typeof C=="string")return A(C,w);if(ArrayBuffer.isView(C))return R(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Kt(C,ArrayBuffer)||C&&Kt(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Kt(C,SharedArrayBuffer)||C&&Kt(C.buffer,SharedArrayBuffer)))return O(C,w,v);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const H=C.valueOf&&C.valueOf();if(H!=null&&H!==C)return a.from(H,w,v);const V=P(C);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return a.from(C[Symbol.toPrimitive]("string"),w,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}a.from=function(C,w,v){return c(C,w,v)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function l(C,w,v){return u(C),C<=0?o(C):w!==void 0?typeof v=="string"?o(C).fill(w,v):o(C).fill(w):o(C)}a.alloc=function(C,w,v){return l(C,w,v)};function y(C){return u(C),o(C<0?0:D(C)|0)}a.allocUnsafe=function(C){return y(C)},a.allocUnsafeSlow=function(C){return y(C)};function A(C,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const v=N(C,w)|0;let H=o(v);const V=H.write(C,w);return V!==v&&(H=H.slice(0,V)),H}function b(C){const w=C.length<0?0:D(C.length)|0,v=o(w);for(let H=0;H<w;H+=1)v[H]=C[H]&255;return v}function R(C){if(Kt(C,Uint8Array)){const w=new Uint8Array(C);return O(w.buffer,w.byteOffset,w.byteLength)}return b(C)}function O(C,w,v){if(w<0||C.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<w+(v||0))throw new RangeError('"length" is outside of buffer bounds');let H;return w===void 0&&v===void 0?H=new Uint8Array(C):v===void 0?H=new Uint8Array(C,w):H=new Uint8Array(C,w,v),Object.setPrototypeOf(H,a.prototype),H}function P(C){if(a.isBuffer(C)){const w=D(C.length)|0,v=o(w);return v.length===0||C.copy(v,0,0,w),v}if(C.length!==void 0)return typeof C.length!="number"||Et(C.length)?o(0):b(C);if(C.type==="Buffer"&&Array.isArray(C.data))return b(C.data)}function D(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function F(C){return+C!=C&&(C=0),a.alloc(+C)}a.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},a.compare=function(w,v){if(Kt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),Kt(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(w)||!a.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===v)return 0;let H=w.length,V=v.length;for(let X=0,oe=Math.min(H,V);X<oe;++X)if(w[X]!==v[X]){H=w[X],V=v[X];break}return H<V?-1:V<H?1:0},a.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(w,v){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let H;if(v===void 0)for(v=0,H=0;H<w.length;++H)v+=w[H].length;const V=a.allocUnsafe(v);let X=0;for(H=0;H<w.length;++H){let oe=w[H];if(Kt(oe,Uint8Array))X+oe.length>V.length?(a.isBuffer(oe)||(oe=a.from(oe)),oe.copy(V,X)):Uint8Array.prototype.set.call(V,oe,X);else if(a.isBuffer(oe))oe.copy(V,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=oe.length}return V};function N(C,w){if(a.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Kt(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const v=C.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&v===0)return 0;let V=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return De(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return ut(C).length;default:if(V)return H?-1:De(C).length;w=(""+w).toLowerCase(),V=!0}}a.byteLength=N;function $(C,w,v){let H=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,w>>>=0,v<=w))return"";for(C||(C="utf8");;)switch(C){case"hex":return E(this,w,v);case"utf8":case"utf-8":return f(this,w,v);case"ascii":return _(this,w,v);case"latin1":case"binary":return x(this,w,v);case"base64":return g(this,w,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,w,v);default:if(H)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),H=!0}}a.prototype._isBuffer=!0;function z(C,w,v){const H=C[w];C[w]=C[v],C[v]=H}a.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<w;v+=2)z(this,v,v+1);return this},a.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<w;v+=4)z(this,v,v+3),z(this,v+1,v+2);return this},a.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<w;v+=8)z(this,v,v+7),z(this,v+1,v+6),z(this,v+2,v+5),z(this,v+3,v+4);return this},a.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?f(this,0,w):$.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},a.prototype.inspect=function(){let w="";const v=e.INSPECT_MAX_BYTES;return w=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(w+=" ... "),"<Buffer "+w+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(w,v,H,V,X){if(Kt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(v===void 0&&(v=0),H===void 0&&(H=w?w.length:0),V===void 0&&(V=0),X===void 0&&(X=this.length),v<0||H>w.length||V<0||X>this.length)throw new RangeError("out of range index");if(V>=X&&v>=H)return 0;if(V>=X)return-1;if(v>=H)return 1;if(v>>>=0,H>>>=0,V>>>=0,X>>>=0,this===w)return 0;let oe=X-V,Ge=H-v;const Ze=Math.min(oe,Ge),Ke=this.slice(V,X),jt=w.slice(v,H);for(let qe=0;qe<Ze;++qe)if(Ke[qe]!==jt[qe]){oe=Ke[qe],Ge=jt[qe];break}return oe<Ge?-1:Ge<oe?1:0};function Z(C,w,v,H,V){if(C.length===0)return-1;if(typeof v=="string"?(H=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,Et(v)&&(v=V?0:C.length-1),v<0&&(v=C.length+v),v>=C.length){if(V)return-1;v=C.length-1}else if(v<0)if(V)v=0;else return-1;if(typeof w=="string"&&(w=a.from(w,H)),a.isBuffer(w))return w.length===0?-1:G(C,w,v,H,V);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(C,w,v):Uint8Array.prototype.lastIndexOf.call(C,w,v):G(C,[w],v,H,V);throw new TypeError("val must be string, number or Buffer")}function G(C,w,v,H,V){let X=1,oe=C.length,Ge=w.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(C.length<2||w.length<2)return-1;X=2,oe/=2,Ge/=2,v/=2}function Ze(jt,qe){return X===1?jt[qe]:jt.readUInt16BE(qe*X)}let Ke;if(V){let jt=-1;for(Ke=v;Ke<oe;Ke++)if(Ze(C,Ke)===Ze(w,jt===-1?0:Ke-jt)){if(jt===-1&&(jt=Ke),Ke-jt+1===Ge)return jt*X}else jt!==-1&&(Ke-=Ke-jt),jt=-1}else for(v+Ge>oe&&(v=oe-Ge),Ke=v;Ke>=0;Ke--){let jt=!0;for(let qe=0;qe<Ge;qe++)if(Ze(C,Ke+qe)!==Ze(w,qe)){jt=!1;break}if(jt)return Ke}return-1}a.prototype.includes=function(w,v,H){return this.indexOf(w,v,H)!==-1},a.prototype.indexOf=function(w,v,H){return Z(this,w,v,H,!0)},a.prototype.lastIndexOf=function(w,v,H){return Z(this,w,v,H,!1)};function q(C,w,v,H){v=Number(v)||0;const V=C.length-v;H?(H=Number(H),H>V&&(H=V)):H=V;const X=w.length;H>X/2&&(H=X/2);let oe;for(oe=0;oe<H;++oe){const Ge=parseInt(w.substr(oe*2,2),16);if(Et(Ge))return oe;C[v+oe]=Ge}return oe}function ee(C,w,v,H){return pt(De(w,C.length-v),C,v,H)}function ie(C,w,v,H){return pt(it(w),C,v,H)}function Q(C,w,v,H){return pt(ut(w),C,v,H)}function I(C,w,v,H){return pt(Dt(w,C.length-v),C,v,H)}a.prototype.write=function(w,v,H,V){if(v===void 0)V="utf8",H=this.length,v=0;else if(H===void 0&&typeof v=="string")V=v,H=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(H)?(H=H>>>0,V===void 0&&(V="utf8")):(V=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const X=this.length-v;if((H===void 0||H>X)&&(H=X),w.length>0&&(H<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let oe=!1;for(;;)switch(V){case"hex":return q(this,w,v,H);case"utf8":case"utf-8":return ee(this,w,v,H);case"ascii":case"latin1":case"binary":return ie(this,w,v,H);case"base64":return Q(this,w,v,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,w,v,H);default:if(oe)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),oe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(C,w,v){return w===0&&v===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(w,v))}function f(C,w,v){v=Math.min(C.length,v);const H=[];let V=w;for(;V<v;){const X=C[V];let oe=null,Ge=X>239?4:X>223?3:X>191?2:1;if(V+Ge<=v){let Ze,Ke,jt,qe;switch(Ge){case 1:X<128&&(oe=X);break;case 2:Ze=C[V+1],(Ze&192)===128&&(qe=(X&31)<<6|Ze&63,qe>127&&(oe=qe));break;case 3:Ze=C[V+1],Ke=C[V+2],(Ze&192)===128&&(Ke&192)===128&&(qe=(X&15)<<12|(Ze&63)<<6|Ke&63,qe>2047&&(qe<55296||qe>57343)&&(oe=qe));break;case 4:Ze=C[V+1],Ke=C[V+2],jt=C[V+3],(Ze&192)===128&&(Ke&192)===128&&(jt&192)===128&&(qe=(X&15)<<18|(Ze&63)<<12|(Ke&63)<<6|jt&63,qe>65535&&qe<1114112&&(oe=qe))}}oe===null?(oe=65533,Ge=1):oe>65535&&(oe-=65536,H.push(oe>>>10&1023|55296),oe=56320|oe&1023),H.push(oe),V+=Ge}return m(H)}const h=4096;function m(C){const w=C.length;if(w<=h)return String.fromCharCode.apply(String,C);let v="",H=0;for(;H<w;)v+=String.fromCharCode.apply(String,C.slice(H,H+=h));return v}function _(C,w,v){let H="";v=Math.min(C.length,v);for(let V=w;V<v;++V)H+=String.fromCharCode(C[V]&127);return H}function x(C,w,v){let H="";v=Math.min(C.length,v);for(let V=w;V<v;++V)H+=String.fromCharCode(C[V]);return H}function E(C,w,v){const H=C.length;(!w||w<0)&&(w=0),(!v||v<0||v>H)&&(v=H);let V="";for(let X=w;X<v;++X)V+=At[C[X]];return V}function T(C,w,v){const H=C.slice(w,v);let V="";for(let X=0;X<H.length-1;X+=2)V+=String.fromCharCode(H[X]+H[X+1]*256);return V}a.prototype.slice=function(w,v){const H=this.length;w=~~w,v=v===void 0?H:~~v,w<0?(w+=H,w<0&&(w=0)):w>H&&(w=H),v<0?(v+=H,v<0&&(v=0)):v>H&&(v=H),v<w&&(v=w);const V=this.subarray(w,v);return Object.setPrototypeOf(V,a.prototype),V};function B(C,w,v){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+w>v)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(w,v,H){w=w>>>0,v=v>>>0,H||B(w,v,this.length);let V=this[w],X=1,oe=0;for(;++oe<v&&(X*=256);)V+=this[w+oe]*X;return V},a.prototype.readUintBE=a.prototype.readUIntBE=function(w,v,H){w=w>>>0,v=v>>>0,H||B(w,v,this.length);let V=this[w+--v],X=1;for(;v>0&&(X*=256);)V+=this[w+--v]*X;return V},a.prototype.readUint8=a.prototype.readUInt8=function(w,v){return w=w>>>0,v||B(w,1,this.length),this[w]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(w,v){return w=w>>>0,v||B(w,2,this.length),this[w]|this[w+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(w,v){return w=w>>>0,v||B(w,2,this.length),this[w]<<8|this[w+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(w,v){return w=w>>>0,v||B(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(w,v){return w=w>>>0,v||B(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},a.prototype.readBigUInt64LE=Xt(function(w){w=w>>>0,pe(w,"offset");const v=this[w],H=this[w+7];(v===void 0||H===void 0)&&we(w,this.length-8);const V=v+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,X=this[++w]+this[++w]*2**8+this[++w]*2**16+H*2**24;return BigInt(V)+(BigInt(X)<<BigInt(32))}),a.prototype.readBigUInt64BE=Xt(function(w){w=w>>>0,pe(w,"offset");const v=this[w],H=this[w+7];(v===void 0||H===void 0)&&we(w,this.length-8);const V=v*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],X=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+H;return(BigInt(V)<<BigInt(32))+BigInt(X)}),a.prototype.readIntLE=function(w,v,H){w=w>>>0,v=v>>>0,H||B(w,v,this.length);let V=this[w],X=1,oe=0;for(;++oe<v&&(X*=256);)V+=this[w+oe]*X;return X*=128,V>=X&&(V-=Math.pow(2,8*v)),V},a.prototype.readIntBE=function(w,v,H){w=w>>>0,v=v>>>0,H||B(w,v,this.length);let V=v,X=1,oe=this[w+--V];for(;V>0&&(X*=256);)oe+=this[w+--V]*X;return X*=128,oe>=X&&(oe-=Math.pow(2,8*v)),oe},a.prototype.readInt8=function(w,v){return w=w>>>0,v||B(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},a.prototype.readInt16LE=function(w,v){w=w>>>0,v||B(w,2,this.length);const H=this[w]|this[w+1]<<8;return H&32768?H|4294901760:H},a.prototype.readInt16BE=function(w,v){w=w>>>0,v||B(w,2,this.length);const H=this[w+1]|this[w]<<8;return H&32768?H|4294901760:H},a.prototype.readInt32LE=function(w,v){return w=w>>>0,v||B(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},a.prototype.readInt32BE=function(w,v){return w=w>>>0,v||B(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},a.prototype.readBigInt64LE=Xt(function(w){w=w>>>0,pe(w,"offset");const v=this[w],H=this[w+7];(v===void 0||H===void 0)&&we(w,this.length-8);const V=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(H<<24);return(BigInt(V)<<BigInt(32))+BigInt(v+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),a.prototype.readBigInt64BE=Xt(function(w){w=w>>>0,pe(w,"offset");const v=this[w],H=this[w+7];(v===void 0||H===void 0)&&we(w,this.length-8);const V=(v<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(V)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+H)}),a.prototype.readFloatLE=function(w,v){return w=w>>>0,v||B(w,4,this.length),r.read(this,w,!0,23,4)},a.prototype.readFloatBE=function(w,v){return w=w>>>0,v||B(w,4,this.length),r.read(this,w,!1,23,4)},a.prototype.readDoubleLE=function(w,v){return w=w>>>0,v||B(w,8,this.length),r.read(this,w,!0,52,8)},a.prototype.readDoubleBE=function(w,v){return w=w>>>0,v||B(w,8,this.length),r.read(this,w,!1,52,8)};function d(C,w,v,H,V,X){if(!a.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>V||w<X)throw new RangeError('"value" argument is out of bounds');if(v+H>C.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(w,v,H,V){if(w=+w,v=v>>>0,H=H>>>0,!V){const Ge=Math.pow(2,8*H)-1;d(this,w,v,H,Ge,0)}let X=1,oe=0;for(this[v]=w&255;++oe<H&&(X*=256);)this[v+oe]=w/X&255;return v+H},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(w,v,H,V){if(w=+w,v=v>>>0,H=H>>>0,!V){const Ge=Math.pow(2,8*H)-1;d(this,w,v,H,Ge,0)}let X=H-1,oe=1;for(this[v+X]=w&255;--X>=0&&(oe*=256);)this[v+X]=w/oe&255;return v+H},a.prototype.writeUint8=a.prototype.writeUInt8=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,1,255,0),this[v]=w&255,v+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,2,65535,0),this[v]=w&255,this[v+1]=w>>>8,v+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,2,65535,0),this[v]=w>>>8,this[v+1]=w&255,v+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,4,4294967295,0),this[v+3]=w>>>24,this[v+2]=w>>>16,this[v+1]=w>>>8,this[v]=w&255,v+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,4,4294967295,0),this[v]=w>>>24,this[v+1]=w>>>16,this[v+2]=w>>>8,this[v+3]=w&255,v+4};function k(C,w,v,H,V){Pe(w,H,V,C,v,7);let X=Number(w&BigInt(4294967295));C[v++]=X,X=X>>8,C[v++]=X,X=X>>8,C[v++]=X,X=X>>8,C[v++]=X;let oe=Number(w>>BigInt(32)&BigInt(4294967295));return C[v++]=oe,oe=oe>>8,C[v++]=oe,oe=oe>>8,C[v++]=oe,oe=oe>>8,C[v++]=oe,v}function K(C,w,v,H,V){Pe(w,H,V,C,v,7);let X=Number(w&BigInt(4294967295));C[v+7]=X,X=X>>8,C[v+6]=X,X=X>>8,C[v+5]=X,X=X>>8,C[v+4]=X;let oe=Number(w>>BigInt(32)&BigInt(4294967295));return C[v+3]=oe,oe=oe>>8,C[v+2]=oe,oe=oe>>8,C[v+1]=oe,oe=oe>>8,C[v]=oe,v+8}a.prototype.writeBigUInt64LE=Xt(function(w,v=0){return k(this,w,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Xt(function(w,v=0){return K(this,w,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(w,v,H,V){if(w=+w,v=v>>>0,!V){const Ze=Math.pow(2,8*H-1);d(this,w,v,H,Ze-1,-Ze)}let X=0,oe=1,Ge=0;for(this[v]=w&255;++X<H&&(oe*=256);)w<0&&Ge===0&&this[v+X-1]!==0&&(Ge=1),this[v+X]=(w/oe>>0)-Ge&255;return v+H},a.prototype.writeIntBE=function(w,v,H,V){if(w=+w,v=v>>>0,!V){const Ze=Math.pow(2,8*H-1);d(this,w,v,H,Ze-1,-Ze)}let X=H-1,oe=1,Ge=0;for(this[v+X]=w&255;--X>=0&&(oe*=256);)w<0&&Ge===0&&this[v+X+1]!==0&&(Ge=1),this[v+X]=(w/oe>>0)-Ge&255;return v+H},a.prototype.writeInt8=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,1,127,-128),w<0&&(w=255+w+1),this[v]=w&255,v+1},a.prototype.writeInt16LE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,2,32767,-32768),this[v]=w&255,this[v+1]=w>>>8,v+2},a.prototype.writeInt16BE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,2,32767,-32768),this[v]=w>>>8,this[v+1]=w&255,v+2},a.prototype.writeInt32LE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,4,2147483647,-2147483648),this[v]=w&255,this[v+1]=w>>>8,this[v+2]=w>>>16,this[v+3]=w>>>24,v+4},a.prototype.writeInt32BE=function(w,v,H){return w=+w,v=v>>>0,H||d(this,w,v,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[v]=w>>>24,this[v+1]=w>>>16,this[v+2]=w>>>8,this[v+3]=w&255,v+4},a.prototype.writeBigInt64LE=Xt(function(w,v=0){return k(this,w,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Xt(function(w,v=0){return K(this,w,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function W(C,w,v,H,V,X){if(v+H>C.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function re(C,w,v,H,V){return w=+w,v=v>>>0,V||W(C,w,v,4),r.write(C,w,v,H,23,4),v+4}a.prototype.writeFloatLE=function(w,v,H){return re(this,w,v,!0,H)},a.prototype.writeFloatBE=function(w,v,H){return re(this,w,v,!1,H)};function Ee(C,w,v,H,V){return w=+w,v=v>>>0,V||W(C,w,v,8),r.write(C,w,v,H,52,8),v+8}a.prototype.writeDoubleLE=function(w,v,H){return Ee(this,w,v,!0,H)},a.prototype.writeDoubleBE=function(w,v,H){return Ee(this,w,v,!1,H)},a.prototype.copy=function(w,v,H,V){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if(H||(H=0),!V&&V!==0&&(V=this.length),v>=w.length&&(v=w.length),v||(v=0),V>0&&V<H&&(V=H),V===H||w.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),w.length-v<V-H&&(V=w.length-v+H);const X=V-H;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,H,V):Uint8Array.prototype.set.call(w,this.subarray(H,V),v),X},a.prototype.fill=function(w,v,H,V){if(typeof w=="string"){if(typeof v=="string"?(V=v,v=0,H=this.length):typeof H=="string"&&(V=H,H=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!a.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(w.length===1){const oe=w.charCodeAt(0);(V==="utf8"&&oe<128||V==="latin1")&&(w=oe)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(v<0||this.length<v||this.length<H)throw new RangeError("Out of range index");if(H<=v)return this;v=v>>>0,H=H===void 0?this.length:H>>>0,w||(w=0);let X;if(typeof w=="number")for(X=v;X<H;++X)this[X]=w;else{const oe=a.isBuffer(w)?w:a.from(w,V),Ge=oe.length;if(Ge===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(X=0;X<H-v;++X)this[X+v]=oe[X%Ge]}return this};const be={};function ge(C,w,v){be[C]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(C,w){return`The "${C}" argument must be of type number. Received type ${typeof w}`},TypeError),ge("ERR_OUT_OF_RANGE",function(C,w,v){let H=`The value of "${C}" is out of range.`,V=v;return Number.isInteger(v)&&Math.abs(v)>2**32?V=tt(String(v)):typeof v=="bigint"&&(V=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(V=tt(V)),V+="n"),H+=` It must be ${w}. Received ${V}`,H},RangeError);function tt(C){let w="",v=C.length;const H=C[0]==="-"?1:0;for(;v>=H+4;v-=3)w=`_${C.slice(v-3,v)}${w}`;return`${C.slice(0,v)}${w}`}function Ue(C,w,v){pe(w,"offset"),(C[w]===void 0||C[w+v]===void 0)&&we(w,C.length-(v+1))}function Pe(C,w,v,H,V,X){if(C>v||C<w){const oe=typeof w=="bigint"?"n":"";let Ge;throw X>3?w===0||w===BigInt(0)?Ge=`>= 0${oe} and < 2${oe} ** ${(X+1)*8}${oe}`:Ge=`>= -(2${oe} ** ${(X+1)*8-1}${oe}) and < 2 ** ${(X+1)*8-1}${oe}`:Ge=`>= ${w}${oe} and <= ${v}${oe}`,new be.ERR_OUT_OF_RANGE("value",Ge,C)}Ue(H,V,X)}function pe(C,w){if(typeof C!="number")throw new be.ERR_INVALID_ARG_TYPE(w,"number",C)}function we(C,w,v){throw Math.floor(C)!==C?(pe(C,v),new be.ERR_OUT_OF_RANGE(v||"offset","an integer",C)):w<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE(v||"offset",`>= ${v?1:0} and <= ${w}`,C)}const ke=/[^+/0-9A-Za-z-_]/g;function vt(C){if(C=C.split("=")[0],C=C.trim().replace(ke,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function De(C,w){w=w||1/0;let v;const H=C.length;let V=null;const X=[];for(let oe=0;oe<H;++oe){if(v=C.charCodeAt(oe),v>55295&&v<57344){if(!V){if(v>56319){(w-=3)>-1&&X.push(239,191,189);continue}else if(oe+1===H){(w-=3)>-1&&X.push(239,191,189);continue}V=v;continue}if(v<56320){(w-=3)>-1&&X.push(239,191,189),V=v;continue}v=(V-55296<<10|v-56320)+65536}else V&&(w-=3)>-1&&X.push(239,191,189);if(V=null,v<128){if((w-=1)<0)break;X.push(v)}else if(v<2048){if((w-=2)<0)break;X.push(v>>6|192,v&63|128)}else if(v<65536){if((w-=3)<0)break;X.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((w-=4)<0)break;X.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return X}function it(C){const w=[];for(let v=0;v<C.length;++v)w.push(C.charCodeAt(v)&255);return w}function Dt(C,w){let v,H,V;const X=[];for(let oe=0;oe<C.length&&!((w-=2)<0);++oe)v=C.charCodeAt(oe),H=v>>8,V=v%256,X.push(V),X.push(H);return X}function ut(C){return t.toByteArray(vt(C))}function pt(C,w,v,H){let V;for(V=0;V<H&&!(V+v>=w.length||V>=C.length);++V)w[V+v]=C[V];return V}function Kt(C,w){return C instanceof w||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===w.name}function Et(C){return C!==C}const At=function(){const C="0123456789abcdef",w=new Array(256);for(let v=0;v<16;++v){const H=v*16;for(let V=0;V<16;++V)w[H+V]=C[v]+C[V]}return w}();function Xt(C){return typeof BigInt>"u"?Tt:C}function Tt(){throw new Error("BigInt not supported")}})(ae);var Hn={exports:{}},To=typeof Reflect=="object"?Reflect:null,jp=To&&typeof To.apply=="function"?To.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},cf;To&&typeof To.ownKeys=="function"?cf=To.ownKeys:Object.getOwnPropertySymbols?cf=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:cf=function(t){return Object.getOwnPropertyNames(t)};function Qx(e){console&&console.warn&&console.warn(e)}var qp=Number.isNaN||function(t){return t!==t};function Gt(){Gt.init.call(this)}Hn.exports=Gt,Hn.exports.once=nE,Gt.EventEmitter=Gt,Gt.prototype._events=void 0,Gt.prototype._eventsCount=0,Gt.prototype._maxListeners=void 0;var zp=10;function ff(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Gt,"defaultMaxListeners",{enumerable:!0,get:function(){return zp},set:function(e){if(typeof e!="number"||e<0||qp(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");zp=e}}),Gt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Gt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||qp(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Vp(e){return e._maxListeners===void 0?Gt.defaultMaxListeners:e._maxListeners}Gt.prototype.getMaxListeners=function(){return Vp(this)},Gt.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")jp(c,this,r);else for(var u=c.length,l=Yp(c,u),n=0;n<u;++n)jp(l[n],this,r);return!0};function Kp(e,t,r,n){var i,s,o;if(ff(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Vp(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,Qx(a)}return e}Gt.prototype.addListener=function(t,r){return Kp(this,t,r,!1)},Gt.prototype.on=Gt.prototype.addListener,Gt.prototype.prependListener=function(t,r){return Kp(this,t,r,!0)};function eE(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Wp(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=eE.bind(n);return i.listener=r,n.wrapFn=i,i}Gt.prototype.once=function(t,r){return ff(r),this.on(t,Wp(this,t,r)),this},Gt.prototype.prependOnceListener=function(t,r){return ff(r),this.prependListener(t,Wp(this,t,r)),this},Gt.prototype.removeListener=function(t,r){var n,i,s,o,a;if(ff(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():tE(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this},Gt.prototype.off=Gt.prototype.removeListener,Gt.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function Gp(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?rE(i):Yp(i,i.length)}Gt.prototype.listeners=function(t){return Gp(this,t,!0)},Gt.prototype.rawListeners=function(t){return Gp(this,t,!1)},Gt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Zp.call(e,t)},Gt.prototype.listenerCount=Zp;function Zp(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Gt.prototype.eventNames=function(){return this._eventsCount>0?cf(this._events):[]};function Yp(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function tE(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function rE(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function nE(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Xp(e,t,s,{once:!0}),t!=="error"&&iE(e,i,{once:!0})})}function iE(e,t,r){typeof e.on=="function"&&Xp(e,"error",t,r)}function Xp(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Jp=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},uf=(e,t,r)=>(Jp(e,t,"read from private field"),r?r.call(e):t.get(e)),Qp=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},eg=(e,t,r,n)=>(Jp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),lf,ko;const Ha={PROMISES:"PROMISES",CALLBACK:"CALLBACK"},tg=class{constructor(e){Qp(this,lf,void 0),Qp(this,ko,void 0),this.setStrategy(e)}static isCallbackAdapterRequest(e){return e.id!==void 0}setHandler(e){return eg(this,ko,e),this}request(e,t){if(!uf(this,ko))throw new Error("No handler defined for Adapter");return tg.isCallbackAdapterRequest(e)?uf(this,ko).call(this,{network:t,id:e.id,name:e.method,params:e.params,object:e.params}):uf(this,ko).call(this,{name:e.method,network:t,params:e.params,object:e.params})}setStrategy(e){return eg(this,lf,e),this}getStrategy(){return uf(this,lf)}};let rg=tg;lf=new WeakMap,ko=new WeakMap;var sE=Object.defineProperty,oE=Object.defineProperties,aE=Object.getOwnPropertyDescriptors,ng=Object.getOwnPropertySymbols,cE=Object.prototype.hasOwnProperty,fE=Object.prototype.propertyIsEnumerable,ig=(e,t,r)=>t in e?sE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uE=(e,t)=>{for(var r in t||(t={}))cE.call(t,r)&&ig(e,r,t[r]);if(ng)for(var r of ng(t))fE.call(t,r)&&ig(e,r,t[r]);return e},lE=(e,t)=>oE(e,aE(t));class hE extends rg{constructor(){super(Ha.CALLBACK),this.callback=new Map}async request(t,r){return new Promise((n,i)=>{const s=new Date().getTime()+Math.floor(Math.random()*1e3);this.callback.set(s.toString(),{reject:i,resolve:n}),super.request(lE(uE({},t),{id:s}),r)})}sendResponse(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.resolve(r)}else console.error(`Unable to find callback for requestId: ${t}`)}sendError(t,r){if(this.callback.has(t.toString())){const n=this.callback.get(t.toString());this.callback.delete(t.toString()),n?.reject(r)}else console.error(`Unable to find callback for requestId: ${t}`)}}class dE extends rg{constructor(){super(Ha.PROMISES)}request(t,r){return super.request(t,r)}}class Pl extends Hn.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==Ha.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==Ha.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}var sg=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Co=(e,t,r)=>(sg(e,t,"read from private field"),r?r.call(e):t.get(e)),pE=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},gE=(e,t,r,n)=>(sg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Oi;class yE{constructor(t){pE(this,Oi,void 0);const r=t.strategy===Ha.CALLBACK?new hE:new dE;t.handler&&r.setHandler(t.handler),this.setAdapter(r)}setHandler(t){Co(this,Oi).setHandler(t)}setAdapter(t){return gE(this,Oi,t),this}registerProvider(t){return t.setAdapter(Co(this,Oi)),this}registerProviders(t){return t.forEach(r=>this.registerProvider(r)),this}sendResponse(t,r){Co(this,Oi).getStrategy()==="CALLBACK"&&Co(this,Oi).sendResponse(t,r)}sendError(t,r){Co(this,Oi).getStrategy()==="CALLBACK"&&Co(this,Oi).sendError(t,r)}}Oi=new WeakMap;function og(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function wE(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function hf(e,...t){if(!wE(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function mE(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");og(e.outputLen),og(e.blockLen)}function df(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function bE(e,t){hf(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Ul=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fl=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yi=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function ag(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Hl(e){return typeof e=="string"&&(e=ag(e)),hf(e),e}function cg(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];hf(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class fg{clone(){return this._cloneInto()}}function ug(e){const t=n=>e().update(Hl(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function lg(e=32){if(Ul&&typeof Ul.getRandomValues=="function")return Ul.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function vE(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}const _E=(e,t,r)=>e&t^~e&r,xE=(e,t,r)=>e&t^e&r^t&r;class hg extends fg{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Fl(this.buffer)}update(t){df(this);const{view:r,buffer:n,blockLen:i}=this;t=Hl(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Fl(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){df(this),bE(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let y=o;y<i;y++)r[y]=0;vE(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Fl(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,l[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const pf=BigInt(2**32-1),Dl=BigInt(32);function dg(e,t=!1){return t?{h:Number(e&pf),l:Number(e>>Dl&pf)}:{h:Number(e>>Dl&pf)|0,l:Number(e&pf)|0}}function EE(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=dg(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const SE=(e,t)=>BigInt(e>>>0)<<Dl|BigInt(t>>>0),AE=(e,t,r)=>e>>>r,BE=(e,t,r)=>e<<32-r|t>>>r,IE=(e,t,r)=>e>>>r|t<<32-r,RE=(e,t,r)=>e<<32-r|t>>>r,TE=(e,t,r)=>e<<64-r|t>>>r-32,kE=(e,t,r)=>e>>>r-32|t<<64-r,CE=(e,t)=>t,LE=(e,t)=>e,$E=(e,t,r)=>e<<r|t>>>32-r,OE=(e,t,r)=>t<<r|e>>>32-r,ME=(e,t,r)=>t<<r-32|e>>>64-r,NE=(e,t,r)=>e<<r-32|t>>>64-r;function PE(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const mt={fromBig:dg,split:EE,toBig:SE,shrSH:AE,shrSL:BE,rotrSH:IE,rotrSL:RE,rotrBH:TE,rotrBL:kE,rotr32H:CE,rotr32L:LE,rotlSH:$E,rotlSL:OE,rotlBH:ME,rotlBL:NE,add:PE,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[UE,FE]=(()=>mt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),ns=new Uint32Array(80),is=new Uint32Array(80);class HE extends hg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:y,Fl:A,Gh:b,Gl:R,Hh:O,Hl:P}=this;return[t,r,n,i,s,o,a,c,u,l,y,A,b,R,O,P]}set(t,r,n,i,s,o,a,c,u,l,y,A,b,R,O,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=y|0,this.Fl=A|0,this.Gh=b|0,this.Gl=R|0,this.Hh=O|0,this.Hl=P|0}process(t,r){for(let N=0;N<16;N++,r+=4)ns[N]=t.getUint32(r),is[N]=t.getUint32(r+=4);for(let N=16;N<80;N++){const $=ns[N-15]|0,z=is[N-15]|0,Z=mt.rotrSH($,z,1)^mt.rotrSH($,z,8)^mt.shrSH($,z,7),G=mt.rotrSL($,z,1)^mt.rotrSL($,z,8)^mt.shrSL($,z,7),q=ns[N-2]|0,ee=is[N-2]|0,ie=mt.rotrSH(q,ee,19)^mt.rotrBH(q,ee,61)^mt.shrSH(q,ee,6),Q=mt.rotrSL(q,ee,19)^mt.rotrBL(q,ee,61)^mt.shrSL(q,ee,6),I=mt.add4L(G,Q,is[N-7],is[N-16]),g=mt.add4H(I,Z,ie,ns[N-7],ns[N-16]);ns[N]=g|0,is[N]=I|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:y,El:A,Fh:b,Fl:R,Gh:O,Gl:P,Hh:D,Hl:F}=this;for(let N=0;N<80;N++){const $=mt.rotrSH(y,A,14)^mt.rotrSH(y,A,18)^mt.rotrBH(y,A,41),z=mt.rotrSL(y,A,14)^mt.rotrSL(y,A,18)^mt.rotrBL(y,A,41),Z=y&b^~y&O,G=A&R^~A&P,q=mt.add5L(F,z,G,FE[N],is[N]),ee=mt.add5H(q,D,$,Z,UE[N],ns[N]),ie=q|0,Q=mt.rotrSH(n,i,28)^mt.rotrBH(n,i,34)^mt.rotrBH(n,i,39),I=mt.rotrSL(n,i,28)^mt.rotrBL(n,i,34)^mt.rotrBL(n,i,39),g=n&s^n&a^s&a,f=i&o^i&c^o&c;D=O|0,F=P|0,O=b|0,P=R|0,b=y|0,R=A|0,{h:y,l:A}=mt.add(u|0,l|0,ee|0,ie|0),u=a|0,l=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const h=mt.add3L(ie,I,f);n=mt.add3H(h,ee,Q,g),i=h|0}({h:n,l:i}=mt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=mt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=mt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=mt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:y,l:A}=mt.add(this.Eh|0,this.El|0,y|0,A|0),{h:b,l:R}=mt.add(this.Fh|0,this.Fl|0,b|0,R|0),{h:O,l:P}=mt.add(this.Gh|0,this.Gl|0,O|0,P|0),{h:D,l:F}=mt.add(this.Hh|0,this.Hl|0,D|0,F|0),this.set(n,i,s,o,a,c,u,l,y,A,b,R,O,P,D,F)}roundClean(){ns.fill(0),is.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const pg=ug(()=>new HE);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gg=BigInt(0),gf=BigInt(1),DE=BigInt(2);function zs(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Da(e){if(!zs(e))throw new Error("Uint8Array expected")}const jE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Vs(e){Da(e);let t="";for(let r=0;r<e.length;r++)t+=jE[e[r]];return t}function yg(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function jl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const Mi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wg(e){if(e>=Mi._0&&e<=Mi._9)return e-Mi._0;if(e>=Mi._A&&e<=Mi._F)return e-(Mi._A-10);if(e>=Mi._a&&e<=Mi._f)return e-(Mi._a-10)}function Lo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=wg(e.charCodeAt(s)),a=wg(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Ks(e){return jl(Vs(e))}function $o(e){return Da(e),jl(Vs(Uint8Array.from(e).reverse()))}function Oo(e,t){return Lo(e.toString(16).padStart(t*2,"0"))}function ja(e,t){return Oo(e,t).reverse()}function qE(e){return Lo(yg(e))}function Cr(e,t,r){let n;if(typeof t=="string")try{n=Lo(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(zs(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Ws(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];Da(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function zE(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function VE(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function KE(e){let t;for(t=0;e>gg;e>>=gf,t+=1);return t}function WE(e,t){return e>>BigInt(t)&gf}function GE(e,t,r){return e|(r?gf:gg)<<BigInt(t)}const ql=e=>(DE<<BigInt(e-1))-gf,zl=e=>new Uint8Array(e),mg=e=>Uint8Array.from(e);function bg(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=zl(e),i=zl(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...y)=>r(i,n,...y),c=(y=zl())=>{i=a(mg([0]),y),n=a(),y.length!==0&&(i=a(mg([1]),y),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=a();const b=n.slice();A.push(b),y+=n.length}return Ws(...A)};return(y,A)=>{o(),c(y);let b;for(;!(b=A(u()));)c();return o(),b}}const ZE={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||zs(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Mo(e,t,r={}){const n=(i,s,o)=>{const a=ZE[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}var YE=Object.freeze({__proto__:null,isBytes:zs,abytes:Da,bytesToHex:Vs,numberToHexUnpadded:yg,hexToNumber:jl,hexToBytes:Lo,bytesToNumberBE:Ks,bytesToNumberLE:$o,numberToBytesBE:Oo,numberToBytesLE:ja,numberToVarBytesBE:qE,ensureBytes:Cr,concatBytes:Ws,equalBytes:zE,utf8ToBytes:VE,bitLen:KE,bitGet:WE,bitSet:GE,bitMask:ql,createHmacDrbg:bg,validateObject:Mo});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fr=BigInt(0),hr=BigInt(1),Gs=BigInt(2),XE=BigInt(3),Vl=BigInt(4),vg=BigInt(5),_g=BigInt(8);BigInt(9),BigInt(16);function ir(e,t){const r=e%t;return r>=Fr?r:t+r}function JE(e,t,r){if(r<=Fr||t<Fr)throw new Error("Expected power/modulo > 0");if(r===hr)return Fr;let n=hr;for(;t>Fr;)t&hr&&(n=n*e%r),e=e*e%r,t>>=hr;return n}function wr(e,t,r){let n=e;for(;t-- >Fr;)n*=n,n%=r;return n}function Kl(e,t){if(e===Fr||t<=Fr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ir(e,t),n=t,i=Fr,s=hr;for(;r!==Fr;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==hr)throw new Error("invert: does not exist");return ir(i,t)}function QE(e){const t=(e-hr)/Gs;let r,n,i;for(r=e-hr,n=0;r%Gs===Fr;r/=Gs,n++);for(i=Gs;i<e&&JE(i,t,e)!==e-hr;i++);if(n===1){const o=(e+hr)/Vl;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+hr)/Gs;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),y=a.pow(c,s),A=a.pow(c,r);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let b=1;for(let O=a.sqr(A);b<u&&!a.eql(O,a.ONE);b++)O=a.sqr(O);const R=a.pow(l,hr<<BigInt(u-b-1));l=a.sqr(R),y=a.mul(y,R),A=a.mul(A,l),u=b}return y}}function eS(e){if(e%Vl===XE){const t=(e+hr)/Vl;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%_g===vg){const t=(e-vg)/_g;return function(n,i){const s=n.mul(i,Gs),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,Gs),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return QE(e)}const tS=(e,t)=>(ir(e,t)&hr)===hr,rS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nS(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=rS.reduce((n,i)=>(n[i]="function",n),t);return Mo(e,r)}function iS(e,t,r){if(r<Fr)throw new Error("Expected power > 0");if(r===Fr)return e.ONE;if(r===hr)return t;let n=e.ONE,i=t;for(;r>Fr;)r&hr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=hr;return n}function sS(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function xg(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Eg(e,t,r=!1,n={}){if(e<=Fr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=xg(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=eS(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:ql(i),ZERO:Fr,ONE:hr,create:c=>ir(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Fr<=c&&c<e},is0:c=>c===Fr,isOdd:c=>(c&hr)===hr,neg:c=>ir(-c,e),eql:(c,u)=>c===u,sqr:c=>ir(c*c,e),add:(c,u)=>ir(c+u,e),sub:(c,u)=>ir(c-u,e),mul:(c,u)=>ir(c*u,e),pow:(c,u)=>iS(a,c,u),div:(c,u)=>ir(c*Kl(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Kl(c,e),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>sS(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?ja(c,s):Oo(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?$o(c):Ks(c)}});return Object.freeze(a)}function oS(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function Sg(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ag(e){const t=Sg(e);return t+Math.ceil(t/2)}function aS(e,t,r=!1){const n=e.length,i=Sg(t),s=Ag(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?Ks(e):$o(e),a=ir(o,t-hr)+hr;return r?ja(a,i):Oo(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cS=BigInt(0),Wl=BigInt(1);function Bg(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>cS;)s&Wl&&(o=o.add(a)),a=a.double(),s>>=Wl;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let u=i,l=u;for(let y=0;y<o;y++){l=u,c.push(l);for(let A=1;A<a;A++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const y=BigInt(2**i-1),A=2**i,b=BigInt(i);for(let R=0;R<a;R++){const O=R*c;let P=Number(o&y);o>>=b,P>c&&(P-=A,o+=Wl);const D=O,F=O+Math.abs(P)-1,N=R%2!==0,$=P<0;P===0?l=l.add(r(N,s[D])):u=u.add(r($,s[F]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function Gl(e){return nS(e.Fp),Mo(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xg(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ri=BigInt(0),In=BigInt(1),yf=BigInt(2),fS=BigInt(8),uS={zip215:!0};function lS(e){const t=Gl(e);return Mo(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Zl(e){const t=lS(e),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=yf<<BigInt(a*8)-In,l=r.create,y=t.uvRatio||((x,E)=>{try{return{isValid:!0,value:r.sqrt(x*r.inv(E))}}catch{return{isValid:!1,value:ri}}}),A=t.adjustScalarBytes||(x=>x),b=t.domain||((x,E,T)=>{if(E.length||T)throw new Error("Contexts/pre-hash are not supported");return x}),R=x=>typeof x=="bigint"&&ri<x,O=(x,E)=>R(x)&&R(E)&&x<E,P=x=>x===ri||O(x,u);function D(x,E){if(O(x,E))return x;throw new Error(`Expected valid scalar < ${E}, got ${typeof x} ${x}`)}function F(x){return x===ri?x:D(x,n)}const N=new Map;function $(x){if(!(x instanceof z))throw new Error("ExtendedPoint expected")}class z{constructor(E,T,B,d){if(this.ex=E,this.ey=T,this.ez=B,this.et=d,!P(E))throw new Error("x required");if(!P(T))throw new Error("y required");if(!P(B))throw new Error("z required");if(!P(d))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof z)throw new Error("extended point not allowed");const{x:T,y:B}=E||{};if(!P(T)||!P(B))throw new Error("invalid affine point");return new z(T,B,In,l(T*B))}static normalizeZ(E){const T=r.invertBatch(E.map(B=>B.ez));return E.map((B,d)=>B.toAffine(T[d])).map(z.fromAffine)}_setWindowSize(E){this._WINDOW_SIZE=E,N.delete(this)}assertValidity(){const{a:E,d:T}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:B,ey:d,ez:k,et:K}=this,W=l(B*B),re=l(d*d),Ee=l(k*k),be=l(Ee*Ee),ge=l(W*E),tt=l(Ee*l(ge+re)),Ue=l(be+l(T*l(W*re)));if(tt!==Ue)throw new Error("bad point: equation left != right (1)");const Pe=l(B*d),pe=l(k*K);if(Pe!==pe)throw new Error("bad point: equation left != right (2)")}equals(E){$(E);const{ex:T,ey:B,ez:d}=this,{ex:k,ey:K,ez:W}=E,re=l(T*W),Ee=l(k*d),be=l(B*W),ge=l(K*d);return re===Ee&&be===ge}is0(){return this.equals(z.ZERO)}negate(){return new z(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:E}=t,{ex:T,ey:B,ez:d}=this,k=l(T*T),K=l(B*B),W=l(yf*l(d*d)),re=l(E*k),Ee=T+B,be=l(l(Ee*Ee)-k-K),ge=re+K,tt=ge-W,Ue=re-K,Pe=l(be*tt),pe=l(ge*Ue),we=l(be*Ue),ke=l(tt*ge);return new z(Pe,pe,ke,we)}add(E){$(E);const{a:T,d:B}=t,{ex:d,ey:k,ez:K,et:W}=this,{ex:re,ey:Ee,ez:be,et:ge}=E;if(T===BigInt(-1)){const Kt=l((k-d)*(Ee+re)),Et=l((k+d)*(Ee-re)),At=l(Et-Kt);if(At===ri)return this.double();const Xt=l(K*yf*ge),Tt=l(W*yf*be),C=Tt+Xt,w=Et+Kt,v=Tt-Xt,H=l(C*At),V=l(w*v),X=l(C*v),oe=l(At*w);return new z(H,V,oe,X)}const tt=l(d*re),Ue=l(k*Ee),Pe=l(W*B*ge),pe=l(K*be),we=l((d+k)*(re+Ee)-tt-Ue),ke=pe-Pe,vt=pe+Pe,De=l(Ue-T*tt),it=l(we*ke),Dt=l(vt*De),ut=l(we*De),pt=l(ke*vt);return new z(it,Dt,pt,ut)}subtract(E){return this.add(E.negate())}wNAF(E){return q.wNAFCached(this,N,E,z.normalizeZ)}multiply(E){const{p:T,f:B}=this.wNAF(D(E,n));return z.normalizeZ([T,B])[0]}multiplyUnsafe(E){let T=F(E);return T===ri?G:this.equals(G)||T===In?this:this.equals(Z)?this.wNAF(T).p:q.unsafeLadder(this,T)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return q.unsafeLadder(this,n).is0()}toAffine(E){const{ex:T,ey:B,ez:d}=this,k=this.is0();E==null&&(E=k?fS:r.inv(d));const K=l(T*E),W=l(B*E),re=l(d*E);if(k)return{x:ri,y:In};if(re!==In)throw new Error("invZ was invalid");return{x:K,y:W}}clearCofactor(){const{h:E}=t;return E===In?this:this.multiplyUnsafe(E)}static fromHex(E,T=!1){const{d:B,a:d}=t,k=r.BYTES;E=Cr("pointHex",E,k);const K=E.slice(),W=E[k-1];K[k-1]=W&-129;const re=$o(K);re===ri||(T?D(re,u):D(re,r.ORDER));const Ee=l(re*re),be=l(Ee-In),ge=l(B*Ee-d);let{isValid:tt,value:Ue}=y(be,ge);if(!tt)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(Ue&In)===In,pe=(W&128)!==0;if(!T&&Ue===ri&&pe)throw new Error("Point.fromHex: x=0 and x_0=1");return pe!==Pe&&(Ue=l(-Ue)),z.fromAffine({x:Ue,y:re})}static fromPrivateKey(E){return Q(E).point}toRawBytes(){const{x:E,y:T}=this.toAffine(),B=ja(T,r.BYTES);return B[B.length-1]|=E&In?128:0,B}toHex(){return Vs(this.toRawBytes())}}z.BASE=new z(t.Gx,t.Gy,In,l(t.Gx*t.Gy)),z.ZERO=new z(ri,In,In,ri);const{BASE:Z,ZERO:G}=z,q=Bg(z,a*8);function ee(x){return ir(x,n)}function ie(x){return ee($o(x))}function Q(x){const E=a;x=Cr("private key",x,E);const T=Cr("hashed private key",s(x),2*E),B=A(T.slice(0,E)),d=T.slice(E,2*E),k=ie(B),K=Z.multiply(k),W=K.toRawBytes();return{head:B,prefix:d,scalar:k,point:K,pointBytes:W}}function I(x){return Q(x).pointBytes}function g(x=new Uint8Array,...E){const T=Ws(...E);return ie(s(b(T,Cr("context",x),!!i)))}function f(x,E,T={}){x=Cr("message",x),i&&(x=i(x));const{prefix:B,scalar:d,pointBytes:k}=Q(E),K=g(T.context,B,x),W=Z.multiply(K).toRawBytes(),re=g(T.context,W,k,x),Ee=ee(K+re*d);F(Ee);const be=Ws(W,ja(Ee,r.BYTES));return Cr("result",be,a*2)}const h=uS;function m(x,E,T,B=h){const{context:d,zip215:k}=B,K=r.BYTES;x=Cr("signature",x,2*K),E=Cr("message",E),i&&(E=i(E));const W=$o(x.slice(K,2*K));let re,Ee,be;try{re=z.fromHex(T,k),Ee=z.fromHex(x.slice(0,K),k),be=Z.multiplyUnsafe(W)}catch{return!1}if(!k&&re.isSmallOrder())return!1;const ge=g(d,Ee.toRawBytes(),re.toRawBytes(),E);return Ee.add(re.multiplyUnsafe(ge)).subtract(be).clearCofactor().equals(z.ZERO)}return Z._setWindowSize(8),{CURVE:t,getPublicKey:I,sign:f,verify:m,ExtendedPoint:z,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>o(r.BYTES),precompute(x=8,E=z.BASE){return E._setWindowSize(x),E.multiply(BigInt(3)),E}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0),BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yl=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ig=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hS=BigInt(1),Xl=BigInt(2),dS=BigInt(5),Rg=BigInt(10),pS=BigInt(20),gS=BigInt(40),Tg=BigInt(80);function yS(e){const t=Yl,n=e*e%t*e%t,i=wr(n,Xl,t)*n%t,s=wr(i,hS,t)*e%t,o=wr(s,dS,t)*s%t,a=wr(o,Rg,t)*o%t,c=wr(a,pS,t)*a%t,u=wr(c,gS,t)*c%t,l=wr(u,Tg,t)*u%t,y=wr(l,Tg,t)*u%t,A=wr(y,Rg,t)*o%t;return{pow_p_5_8:wr(A,Xl,t)*e%t,b2:n}}function wS(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function mS(e,t){const r=Yl,n=ir(t*t*t,r),i=ir(n*n*t,r),s=yS(e*i).pow_p_5_8;let o=ir(e*n*s,r);const a=ir(t*o*o,r),c=o,u=ir(o*Ig,r),l=a===e,y=a===ir(-e,r),A=a===ir(-e*Ig,r);return l&&(o=c),(y||A)&&(o=u),tS(o,r)&&(o=ir(-o,r)),{isValid:l||y,value:o}}const Ni=Eg(Yl,void 0,!0),Jl={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ni,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:pg,randomBytes:lg,adjustScalarBytes:wS,uvRatio:mS},wf=Zl(Jl);function kg(e,t,r){if(t.length>255)throw new Error("Context is too big");return cg(ag("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}({...Jl},{...Jl});const bS=(Ni.ORDER+BigInt(3))/BigInt(8);Ni.pow(Xl,bS),Ni.sqrt(Ni.neg(Ni.ONE)),(Ni.ORDER-BigInt(5))/BigInt(8),BigInt(486662),oS(Ni,Ni.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Ql={exports:{}},vS={},_S=Object.freeze({__proto__:null,default:vS}),Cg=Un(_S);(function(e){(function(t,r){function n(g,f){if(!g)throw new Error(f||"Assertion failed")}function i(g,f){g.super_=f;var h=function(){};h.prototype=f.prototype,g.prototype=new h,g.prototype.constructor=g}function s(g,f,h){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(g||0,f||10,h||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Cg.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,h){return f.cmp(h)>0?f:h},s.min=function(f,h){return f.cmp(h)<0?f:h},s.prototype._init=function(f,h,m){if(typeof f=="number")return this._initNumber(f,h,m);if(typeof f=="object")return this._initArray(f,h,m);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var _=0;f[0]==="-"&&(_++,this.negative=1),_<f.length&&(h===16?this._parseHex(f,_,m):(this._parseBase(f,h,_),m==="le"&&this._initArray(this.toArray(),h,m)))},s.prototype._initNumber=function(f,h,m){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},s.prototype._initArray=function(f,h,m){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,E,T=0;if(m==="be")for(_=f.length-1,x=0;_>=0;_-=3)E=f[_]|f[_-1]<<8|f[_-2]<<16,this.words[x]|=E<<T&67108863,this.words[x+1]=E>>>26-T&67108863,T+=24,T>=26&&(T-=26,x++);else if(m==="le")for(_=0,x=0;_<f.length;_+=3)E=f[_]|f[_+1]<<8|f[_+2]<<16,this.words[x]|=E<<T&67108863,this.words[x+1]=E>>>26-T&67108863,T+=24,T>=26&&(T-=26,x++);return this._strip()};function a(g,f){var h=g.charCodeAt(f);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+g)}function c(g,f,h){var m=a(g,h);return h-1>=f&&(m|=a(g,h-1)<<4),m}s.prototype._parseHex=function(f,h,m){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x=0,E=0,T;if(m==="be")for(_=f.length-1;_>=h;_-=2)T=c(f,h,_)<<x,this.words[E]|=T&67108863,x>=18?(x-=18,E+=1,this.words[E]|=T>>>26):x+=8;else{var B=f.length-h;for(_=B%2===0?h+1:h;_<f.length;_+=2)T=c(f,h,_)<<x,this.words[E]|=T&67108863,x>=18?(x-=18,E+=1,this.words[E]|=T>>>26):x+=8}this._strip()};function u(g,f,h,m){for(var _=0,x=0,E=Math.min(g.length,h),T=f;T<E;T++){var B=g.charCodeAt(T)-48;_*=m,B>=49?x=B-49+10:B>=17?x=B-17+10:x=B,n(B>=0&&x<m,"Invalid character"),_+=x}return _}s.prototype._parseBase=function(f,h,m){this.words=[0],this.length=1;for(var _=0,x=1;x<=67108863;x*=h)_++;_--,x=x/h|0;for(var E=f.length-m,T=E%_,B=Math.min(E,E-T)+m,d=0,k=m;k<B;k+=_)d=u(f,k,k+_,h),this.imuln(x),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(T!==0){var K=1;for(d=u(f,k,f.length,h),k=0;k<T;k++)K*=h;this.imuln(K),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(g,f){g.words=f.words,g.length=f.length,g.negative=f.negative,g.red=f.red}if(s.prototype._move=function(f){l(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{s.prototype.inspect=y}else s.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,h){f=f||10,h=h|0||1;var m;if(f===16||f==="hex"){m="";for(var _=0,x=0,E=0;E<this.length;E++){var T=this.words[E],B=((T<<_|x)&16777215).toString(16);x=T>>>24-_&16777215,_+=2,_>=26&&(_-=26,E--),x!==0||E!==this.length-1?m=A[6-B.length]+B+m:m=B+m}for(x!==0&&(m=x.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(f===(f|0)&&f>=2&&f<=36){var d=b[f],k=R[f];m="";var K=this.clone();for(K.negative=0;!K.isZero();){var W=K.modrn(k).toString(f);K=K.idivn(k),K.isZero()?m=W+m:m=A[d-W.length]+W+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,h){return this.toArrayLike(o,f,h)}),s.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)};var O=function(f,h){return f.allocUnsafe?f.allocUnsafe(h):new f(h)};s.prototype.toArrayLike=function(f,h,m){this._strip();var _=this.byteLength(),x=m||Math.max(1,_);n(_<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0");var E=O(f,x),T=h==="le"?"LE":"BE";return this["_toArrayLike"+T](E,_),E},s.prototype._toArrayLikeLE=function(f,h){for(var m=0,_=0,x=0,E=0;x<this.length;x++){var T=this.words[x]<<E|_;f[m++]=T&255,m<f.length&&(f[m++]=T>>8&255),m<f.length&&(f[m++]=T>>16&255),E===6?(m<f.length&&(f[m++]=T>>24&255),_=0,E=0):(_=T>>>24,E+=2)}if(m<f.length)for(f[m++]=_;m<f.length;)f[m++]=0},s.prototype._toArrayLikeBE=function(f,h){for(var m=f.length-1,_=0,x=0,E=0;x<this.length;x++){var T=this.words[x]<<E|_;f[m--]=T&255,m>=0&&(f[m--]=T>>8&255),m>=0&&(f[m--]=T>>16&255),E===6?(m>=0&&(f[m--]=T>>24&255),_=0,E=0):(_=T>>>24,E+=2)}if(m>=0)for(f[m--]=_;m>=0;)f[m--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var h=f,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},s.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},s.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function P(g){for(var f=new Array(g.bitLength()),h=0;h<f.length;h++){var m=h/26|0,_=h%26;f[h]=g.words[m]>>>_&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(f+=m,m!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this._strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&f.words[m];return this.length=h.length,this._strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var h,m;this.length>f.length?(h=this,m=f):(h=f,m=this);for(var _=0;_<m.length;_++)this.words[_]=h.words[_]^m.words[_];if(this!==h)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=h.length,this._strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,m=f%26;this._expand(h),m>0&&h--;for(var _=0;_<h;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var m=f/26|0,_=f%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this._strip()},s.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var m,_;this.length>f.length?(m=this,_=f):(m=f,_=this);for(var x=0,E=0;E<_.length;E++)h=(m.words[E]|0)+(_.words[E]|0)+x,this.words[E]=h&67108863,x=h>>>26;for(;x!==0&&E<m.length;E++)h=(m.words[E]|0)+x,this.words[E]=h&67108863,x=h>>>26;if(this.length=m.length,x!==0)this.words[this.length]=x,this.length++;else if(m!==this)for(;E<m.length;E++)this.words[E]=m.words[E];return this},s.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var m=this.cmp(f);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,x;m>0?(_=this,x=f):(_=f,x=this);for(var E=0,T=0;T<x.length;T++)h=(_.words[T]|0)-(x.words[T]|0)+E,E=h>>26,this.words[T]=h&67108863;for(;E!==0&&T<_.length;T++)h=(_.words[T]|0)+E,E=h>>26,this.words[T]=h&67108863;if(E===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function D(g,f,h){h.negative=f.negative^g.negative;var m=g.length+f.length|0;h.length=m,m=m-1|0;var _=g.words[0]|0,x=f.words[0]|0,E=_*x,T=E&67108863,B=E/67108864|0;h.words[0]=T;for(var d=1;d<m;d++){for(var k=B>>>26,K=B&67108863,W=Math.min(d,f.length-1),re=Math.max(0,d-g.length+1);re<=W;re++){var Ee=d-re|0;_=g.words[Ee]|0,x=f.words[re]|0,E=_*x+K,k+=E/67108864|0,K=E&67108863}h.words[d]=K|0,B=k|0}return B!==0?h.words[d]=B|0:h.length--,h._strip()}var F=function(f,h,m){var _=f.words,x=h.words,E=m.words,T=0,B,d,k,K=_[0]|0,W=K&8191,re=K>>>13,Ee=_[1]|0,be=Ee&8191,ge=Ee>>>13,tt=_[2]|0,Ue=tt&8191,Pe=tt>>>13,pe=_[3]|0,we=pe&8191,ke=pe>>>13,vt=_[4]|0,De=vt&8191,it=vt>>>13,Dt=_[5]|0,ut=Dt&8191,pt=Dt>>>13,Kt=_[6]|0,Et=Kt&8191,At=Kt>>>13,Xt=_[7]|0,Tt=Xt&8191,C=Xt>>>13,w=_[8]|0,v=w&8191,H=w>>>13,V=_[9]|0,X=V&8191,oe=V>>>13,Ge=x[0]|0,Ze=Ge&8191,Ke=Ge>>>13,jt=x[1]|0,qe=jt&8191,rr=jt>>>13,Fa=x[2]|0,yr=Fa&8191,vr=Fa>>>13,Ol=x[3]|0,qt=Ol&8191,Yt=Ol>>>13,rs=x[4]|0,ur=rs&8191,lr=rs>>>13,sf=x[5]|0,_r=sf&8191,kt=sf>>>13,of=x[6]|0,S=of&8191,L=of>>>13,M=x[7]|0,p=M&8191,U=M>>>13,J=x[8]|0,Y=J&8191,ue=J>>>13,_e=x[9]|0,Ae=_e&8191,xe=_e>>>13;m.negative=f.negative^h.negative,m.length=19,B=Math.imul(W,Ze),d=Math.imul(W,Ke),d=d+Math.imul(re,Ze)|0,k=Math.imul(re,Ke);var Bt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,B=Math.imul(be,Ze),d=Math.imul(be,Ke),d=d+Math.imul(ge,Ze)|0,k=Math.imul(ge,Ke),B=B+Math.imul(W,qe)|0,d=d+Math.imul(W,rr)|0,d=d+Math.imul(re,qe)|0,k=k+Math.imul(re,rr)|0;var Le=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Le>>>26)|0,Le&=67108863,B=Math.imul(Ue,Ze),d=Math.imul(Ue,Ke),d=d+Math.imul(Pe,Ze)|0,k=Math.imul(Pe,Ke),B=B+Math.imul(be,qe)|0,d=d+Math.imul(be,rr)|0,d=d+Math.imul(ge,qe)|0,k=k+Math.imul(ge,rr)|0,B=B+Math.imul(W,yr)|0,d=d+Math.imul(W,vr)|0,d=d+Math.imul(re,yr)|0,k=k+Math.imul(re,vr)|0;var We=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(We>>>26)|0,We&=67108863,B=Math.imul(we,Ze),d=Math.imul(we,Ke),d=d+Math.imul(ke,Ze)|0,k=Math.imul(ke,Ke),B=B+Math.imul(Ue,qe)|0,d=d+Math.imul(Ue,rr)|0,d=d+Math.imul(Pe,qe)|0,k=k+Math.imul(Pe,rr)|0,B=B+Math.imul(be,yr)|0,d=d+Math.imul(be,vr)|0,d=d+Math.imul(ge,yr)|0,k=k+Math.imul(ge,vr)|0,B=B+Math.imul(W,qt)|0,d=d+Math.imul(W,Yt)|0,d=d+Math.imul(re,qt)|0,k=k+Math.imul(re,Yt)|0;var Ye=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,B=Math.imul(De,Ze),d=Math.imul(De,Ke),d=d+Math.imul(it,Ze)|0,k=Math.imul(it,Ke),B=B+Math.imul(we,qe)|0,d=d+Math.imul(we,rr)|0,d=d+Math.imul(ke,qe)|0,k=k+Math.imul(ke,rr)|0,B=B+Math.imul(Ue,yr)|0,d=d+Math.imul(Ue,vr)|0,d=d+Math.imul(Pe,yr)|0,k=k+Math.imul(Pe,vr)|0,B=B+Math.imul(be,qt)|0,d=d+Math.imul(be,Yt)|0,d=d+Math.imul(ge,qt)|0,k=k+Math.imul(ge,Yt)|0,B=B+Math.imul(W,ur)|0,d=d+Math.imul(W,lr)|0,d=d+Math.imul(re,ur)|0,k=k+Math.imul(re,lr)|0;var lt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(lt>>>26)|0,lt&=67108863,B=Math.imul(ut,Ze),d=Math.imul(ut,Ke),d=d+Math.imul(pt,Ze)|0,k=Math.imul(pt,Ke),B=B+Math.imul(De,qe)|0,d=d+Math.imul(De,rr)|0,d=d+Math.imul(it,qe)|0,k=k+Math.imul(it,rr)|0,B=B+Math.imul(we,yr)|0,d=d+Math.imul(we,vr)|0,d=d+Math.imul(ke,yr)|0,k=k+Math.imul(ke,vr)|0,B=B+Math.imul(Ue,qt)|0,d=d+Math.imul(Ue,Yt)|0,d=d+Math.imul(Pe,qt)|0,k=k+Math.imul(Pe,Yt)|0,B=B+Math.imul(be,ur)|0,d=d+Math.imul(be,lr)|0,d=d+Math.imul(ge,ur)|0,k=k+Math.imul(ge,lr)|0,B=B+Math.imul(W,_r)|0,d=d+Math.imul(W,kt)|0,d=d+Math.imul(re,_r)|0,k=k+Math.imul(re,kt)|0;var ct=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ct>>>26)|0,ct&=67108863,B=Math.imul(Et,Ze),d=Math.imul(Et,Ke),d=d+Math.imul(At,Ze)|0,k=Math.imul(At,Ke),B=B+Math.imul(ut,qe)|0,d=d+Math.imul(ut,rr)|0,d=d+Math.imul(pt,qe)|0,k=k+Math.imul(pt,rr)|0,B=B+Math.imul(De,yr)|0,d=d+Math.imul(De,vr)|0,d=d+Math.imul(it,yr)|0,k=k+Math.imul(it,vr)|0,B=B+Math.imul(we,qt)|0,d=d+Math.imul(we,Yt)|0,d=d+Math.imul(ke,qt)|0,k=k+Math.imul(ke,Yt)|0,B=B+Math.imul(Ue,ur)|0,d=d+Math.imul(Ue,lr)|0,d=d+Math.imul(Pe,ur)|0,k=k+Math.imul(Pe,lr)|0,B=B+Math.imul(be,_r)|0,d=d+Math.imul(be,kt)|0,d=d+Math.imul(ge,_r)|0,k=k+Math.imul(ge,kt)|0,B=B+Math.imul(W,S)|0,d=d+Math.imul(W,L)|0,d=d+Math.imul(re,S)|0,k=k+Math.imul(re,L)|0;var Xe=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,B=Math.imul(Tt,Ze),d=Math.imul(Tt,Ke),d=d+Math.imul(C,Ze)|0,k=Math.imul(C,Ke),B=B+Math.imul(Et,qe)|0,d=d+Math.imul(Et,rr)|0,d=d+Math.imul(At,qe)|0,k=k+Math.imul(At,rr)|0,B=B+Math.imul(ut,yr)|0,d=d+Math.imul(ut,vr)|0,d=d+Math.imul(pt,yr)|0,k=k+Math.imul(pt,vr)|0,B=B+Math.imul(De,qt)|0,d=d+Math.imul(De,Yt)|0,d=d+Math.imul(it,qt)|0,k=k+Math.imul(it,Yt)|0,B=B+Math.imul(we,ur)|0,d=d+Math.imul(we,lr)|0,d=d+Math.imul(ke,ur)|0,k=k+Math.imul(ke,lr)|0,B=B+Math.imul(Ue,_r)|0,d=d+Math.imul(Ue,kt)|0,d=d+Math.imul(Pe,_r)|0,k=k+Math.imul(Pe,kt)|0,B=B+Math.imul(be,S)|0,d=d+Math.imul(be,L)|0,d=d+Math.imul(ge,S)|0,k=k+Math.imul(ge,L)|0,B=B+Math.imul(W,p)|0,d=d+Math.imul(W,U)|0,d=d+Math.imul(re,p)|0,k=k+Math.imul(re,U)|0;var rt=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(rt>>>26)|0,rt&=67108863,B=Math.imul(v,Ze),d=Math.imul(v,Ke),d=d+Math.imul(H,Ze)|0,k=Math.imul(H,Ke),B=B+Math.imul(Tt,qe)|0,d=d+Math.imul(Tt,rr)|0,d=d+Math.imul(C,qe)|0,k=k+Math.imul(C,rr)|0,B=B+Math.imul(Et,yr)|0,d=d+Math.imul(Et,vr)|0,d=d+Math.imul(At,yr)|0,k=k+Math.imul(At,vr)|0,B=B+Math.imul(ut,qt)|0,d=d+Math.imul(ut,Yt)|0,d=d+Math.imul(pt,qt)|0,k=k+Math.imul(pt,Yt)|0,B=B+Math.imul(De,ur)|0,d=d+Math.imul(De,lr)|0,d=d+Math.imul(it,ur)|0,k=k+Math.imul(it,lr)|0,B=B+Math.imul(we,_r)|0,d=d+Math.imul(we,kt)|0,d=d+Math.imul(ke,_r)|0,k=k+Math.imul(ke,kt)|0,B=B+Math.imul(Ue,S)|0,d=d+Math.imul(Ue,L)|0,d=d+Math.imul(Pe,S)|0,k=k+Math.imul(Pe,L)|0,B=B+Math.imul(be,p)|0,d=d+Math.imul(be,U)|0,d=d+Math.imul(ge,p)|0,k=k+Math.imul(ge,U)|0,B=B+Math.imul(W,Y)|0,d=d+Math.imul(W,ue)|0,d=d+Math.imul(re,Y)|0,k=k+Math.imul(re,ue)|0;var Je=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Je>>>26)|0,Je&=67108863,B=Math.imul(X,Ze),d=Math.imul(X,Ke),d=d+Math.imul(oe,Ze)|0,k=Math.imul(oe,Ke),B=B+Math.imul(v,qe)|0,d=d+Math.imul(v,rr)|0,d=d+Math.imul(H,qe)|0,k=k+Math.imul(H,rr)|0,B=B+Math.imul(Tt,yr)|0,d=d+Math.imul(Tt,vr)|0,d=d+Math.imul(C,yr)|0,k=k+Math.imul(C,vr)|0,B=B+Math.imul(Et,qt)|0,d=d+Math.imul(Et,Yt)|0,d=d+Math.imul(At,qt)|0,k=k+Math.imul(At,Yt)|0,B=B+Math.imul(ut,ur)|0,d=d+Math.imul(ut,lr)|0,d=d+Math.imul(pt,ur)|0,k=k+Math.imul(pt,lr)|0,B=B+Math.imul(De,_r)|0,d=d+Math.imul(De,kt)|0,d=d+Math.imul(it,_r)|0,k=k+Math.imul(it,kt)|0,B=B+Math.imul(we,S)|0,d=d+Math.imul(we,L)|0,d=d+Math.imul(ke,S)|0,k=k+Math.imul(ke,L)|0,B=B+Math.imul(Ue,p)|0,d=d+Math.imul(Ue,U)|0,d=d+Math.imul(Pe,p)|0,k=k+Math.imul(Pe,U)|0,B=B+Math.imul(be,Y)|0,d=d+Math.imul(be,ue)|0,d=d+Math.imul(ge,Y)|0,k=k+Math.imul(ge,ue)|0,B=B+Math.imul(W,Ae)|0,d=d+Math.imul(W,xe)|0,d=d+Math.imul(re,Ae)|0,k=k+Math.imul(re,xe)|0;var $e=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+($e>>>26)|0,$e&=67108863,B=Math.imul(X,qe),d=Math.imul(X,rr),d=d+Math.imul(oe,qe)|0,k=Math.imul(oe,rr),B=B+Math.imul(v,yr)|0,d=d+Math.imul(v,vr)|0,d=d+Math.imul(H,yr)|0,k=k+Math.imul(H,vr)|0,B=B+Math.imul(Tt,qt)|0,d=d+Math.imul(Tt,Yt)|0,d=d+Math.imul(C,qt)|0,k=k+Math.imul(C,Yt)|0,B=B+Math.imul(Et,ur)|0,d=d+Math.imul(Et,lr)|0,d=d+Math.imul(At,ur)|0,k=k+Math.imul(At,lr)|0,B=B+Math.imul(ut,_r)|0,d=d+Math.imul(ut,kt)|0,d=d+Math.imul(pt,_r)|0,k=k+Math.imul(pt,kt)|0,B=B+Math.imul(De,S)|0,d=d+Math.imul(De,L)|0,d=d+Math.imul(it,S)|0,k=k+Math.imul(it,L)|0,B=B+Math.imul(we,p)|0,d=d+Math.imul(we,U)|0,d=d+Math.imul(ke,p)|0,k=k+Math.imul(ke,U)|0,B=B+Math.imul(Ue,Y)|0,d=d+Math.imul(Ue,ue)|0,d=d+Math.imul(Pe,Y)|0,k=k+Math.imul(Pe,ue)|0,B=B+Math.imul(be,Ae)|0,d=d+Math.imul(be,xe)|0,d=d+Math.imul(ge,Ae)|0,k=k+Math.imul(ge,xe)|0;var He=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(He>>>26)|0,He&=67108863,B=Math.imul(X,yr),d=Math.imul(X,vr),d=d+Math.imul(oe,yr)|0,k=Math.imul(oe,vr),B=B+Math.imul(v,qt)|0,d=d+Math.imul(v,Yt)|0,d=d+Math.imul(H,qt)|0,k=k+Math.imul(H,Yt)|0,B=B+Math.imul(Tt,ur)|0,d=d+Math.imul(Tt,lr)|0,d=d+Math.imul(C,ur)|0,k=k+Math.imul(C,lr)|0,B=B+Math.imul(Et,_r)|0,d=d+Math.imul(Et,kt)|0,d=d+Math.imul(At,_r)|0,k=k+Math.imul(At,kt)|0,B=B+Math.imul(ut,S)|0,d=d+Math.imul(ut,L)|0,d=d+Math.imul(pt,S)|0,k=k+Math.imul(pt,L)|0,B=B+Math.imul(De,p)|0,d=d+Math.imul(De,U)|0,d=d+Math.imul(it,p)|0,k=k+Math.imul(it,U)|0,B=B+Math.imul(we,Y)|0,d=d+Math.imul(we,ue)|0,d=d+Math.imul(ke,Y)|0,k=k+Math.imul(ke,ue)|0,B=B+Math.imul(Ue,Ae)|0,d=d+Math.imul(Ue,xe)|0,d=d+Math.imul(Pe,Ae)|0,k=k+Math.imul(Pe,xe)|0;var Re=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Re>>>26)|0,Re&=67108863,B=Math.imul(X,qt),d=Math.imul(X,Yt),d=d+Math.imul(oe,qt)|0,k=Math.imul(oe,Yt),B=B+Math.imul(v,ur)|0,d=d+Math.imul(v,lr)|0,d=d+Math.imul(H,ur)|0,k=k+Math.imul(H,lr)|0,B=B+Math.imul(Tt,_r)|0,d=d+Math.imul(Tt,kt)|0,d=d+Math.imul(C,_r)|0,k=k+Math.imul(C,kt)|0,B=B+Math.imul(Et,S)|0,d=d+Math.imul(Et,L)|0,d=d+Math.imul(At,S)|0,k=k+Math.imul(At,L)|0,B=B+Math.imul(ut,p)|0,d=d+Math.imul(ut,U)|0,d=d+Math.imul(pt,p)|0,k=k+Math.imul(pt,U)|0,B=B+Math.imul(De,Y)|0,d=d+Math.imul(De,ue)|0,d=d+Math.imul(it,Y)|0,k=k+Math.imul(it,ue)|0,B=B+Math.imul(we,Ae)|0,d=d+Math.imul(we,xe)|0,d=d+Math.imul(ke,Ae)|0,k=k+Math.imul(ke,xe)|0;var Me=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Me>>>26)|0,Me&=67108863,B=Math.imul(X,ur),d=Math.imul(X,lr),d=d+Math.imul(oe,ur)|0,k=Math.imul(oe,lr),B=B+Math.imul(v,_r)|0,d=d+Math.imul(v,kt)|0,d=d+Math.imul(H,_r)|0,k=k+Math.imul(H,kt)|0,B=B+Math.imul(Tt,S)|0,d=d+Math.imul(Tt,L)|0,d=d+Math.imul(C,S)|0,k=k+Math.imul(C,L)|0,B=B+Math.imul(Et,p)|0,d=d+Math.imul(Et,U)|0,d=d+Math.imul(At,p)|0,k=k+Math.imul(At,U)|0,B=B+Math.imul(ut,Y)|0,d=d+Math.imul(ut,ue)|0,d=d+Math.imul(pt,Y)|0,k=k+Math.imul(pt,ue)|0,B=B+Math.imul(De,Ae)|0,d=d+Math.imul(De,xe)|0,d=d+Math.imul(it,Ae)|0,k=k+Math.imul(it,xe)|0;var Ne=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,B=Math.imul(X,_r),d=Math.imul(X,kt),d=d+Math.imul(oe,_r)|0,k=Math.imul(oe,kt),B=B+Math.imul(v,S)|0,d=d+Math.imul(v,L)|0,d=d+Math.imul(H,S)|0,k=k+Math.imul(H,L)|0,B=B+Math.imul(Tt,p)|0,d=d+Math.imul(Tt,U)|0,d=d+Math.imul(C,p)|0,k=k+Math.imul(C,U)|0,B=B+Math.imul(Et,Y)|0,d=d+Math.imul(Et,ue)|0,d=d+Math.imul(At,Y)|0,k=k+Math.imul(At,ue)|0,B=B+Math.imul(ut,Ae)|0,d=d+Math.imul(ut,xe)|0,d=d+Math.imul(pt,Ae)|0,k=k+Math.imul(pt,xe)|0;var Ie=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,B=Math.imul(X,S),d=Math.imul(X,L),d=d+Math.imul(oe,S)|0,k=Math.imul(oe,L),B=B+Math.imul(v,p)|0,d=d+Math.imul(v,U)|0,d=d+Math.imul(H,p)|0,k=k+Math.imul(H,U)|0,B=B+Math.imul(Tt,Y)|0,d=d+Math.imul(Tt,ue)|0,d=d+Math.imul(C,Y)|0,k=k+Math.imul(C,ue)|0,B=B+Math.imul(Et,Ae)|0,d=d+Math.imul(Et,xe)|0,d=d+Math.imul(At,Ae)|0,k=k+Math.imul(At,xe)|0;var ce=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ce>>>26)|0,ce&=67108863,B=Math.imul(X,p),d=Math.imul(X,U),d=d+Math.imul(oe,p)|0,k=Math.imul(oe,U),B=B+Math.imul(v,Y)|0,d=d+Math.imul(v,ue)|0,d=d+Math.imul(H,Y)|0,k=k+Math.imul(H,ue)|0,B=B+Math.imul(Tt,Ae)|0,d=d+Math.imul(Tt,xe)|0,d=d+Math.imul(C,Ae)|0,k=k+Math.imul(C,xe)|0;var fe=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(fe>>>26)|0,fe&=67108863,B=Math.imul(X,Y),d=Math.imul(X,ue),d=d+Math.imul(oe,Y)|0,k=Math.imul(oe,ue),B=B+Math.imul(v,Ae)|0,d=d+Math.imul(v,xe)|0,d=d+Math.imul(H,Ae)|0,k=k+Math.imul(H,xe)|0;var ye=(T+B|0)+((d&8191)<<13)|0;T=(k+(d>>>13)|0)+(ye>>>26)|0,ye&=67108863,B=Math.imul(X,Ae),d=Math.imul(X,xe),d=d+Math.imul(oe,Ae)|0,k=Math.imul(oe,xe);var he=(T+B|0)+((d&8191)<<13)|0;return T=(k+(d>>>13)|0)+(he>>>26)|0,he&=67108863,E[0]=Bt,E[1]=Le,E[2]=We,E[3]=Ye,E[4]=lt,E[5]=ct,E[6]=Xe,E[7]=rt,E[8]=Je,E[9]=$e,E[10]=He,E[11]=Re,E[12]=Me,E[13]=Ne,E[14]=Ie,E[15]=ce,E[16]=fe,E[17]=ye,E[18]=he,T!==0&&(E[19]=T,m.length++),m};Math.imul||(F=D);function N(g,f,h){h.negative=f.negative^g.negative,h.length=g.length+f.length;for(var m=0,_=0,x=0;x<h.length-1;x++){var E=_;_=0;for(var T=m&67108863,B=Math.min(x,f.length-1),d=Math.max(0,x-g.length+1);d<=B;d++){var k=x-d,K=g.words[k]|0,W=f.words[d]|0,re=K*W,Ee=re&67108863;E=E+(re/67108864|0)|0,Ee=Ee+T|0,T=Ee&67108863,E=E+(Ee>>>26)|0,_+=E>>>26,E&=67108863}h.words[x]=T,m=E,E=_}return m!==0?h.words[x]=m:h.length--,h._strip()}function $(g,f,h){return N(g,f,h)}s.prototype.mulTo=function(f,h){var m,_=this.length+f.length;return this.length===10&&f.length===10?m=F(this,f,h):_<63?m=D(this,f,h):_<1024?m=N(this,f,h):m=$(this,f,h),m},s.prototype.mul=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},s.prototype.mulf=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),$(this,f,h)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var h=f<0;h&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var m=0,_=0;_<this.length;_++){var x=(this.words[_]|0)*f,E=(x&67108863)+(m&67108863);m>>=26,m+=x/67108864|0,m+=E>>>26,this.words[_]=E&67108863}return m!==0&&(this.words[_]=m,this.length++),h?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var h=P(f);if(h.length===0)return new s(1);for(var m=this,_=0;_<h.length&&h[_]===0;_++,m=m.sqr());if(++_<h.length)for(var x=m.sqr();_<h.length;_++,x=x.sqr())h[_]!==0&&(m=m.mul(x));return m},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,_=67108863>>>26-h<<26-h,x;if(h!==0){var E=0;for(x=0;x<this.length;x++){var T=this.words[x]&_,B=(this.words[x]|0)-T<<h;this.words[x]=B|E,E=T>>>26-h}E&&(this.words[x]=E,this.length++)}if(m!==0){for(x=this.length-1;x>=0;x--)this.words[x+m]=this.words[x];for(x=0;x<m;x++)this.words[x]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,h,m){n(typeof f=="number"&&f>=0);var _;h?_=(h-h%26)/26:_=0;var x=f%26,E=Math.min((f-x)/26,this.length),T=67108863^67108863>>>x<<x,B=m;if(_-=E,_=Math.max(0,_),B){for(var d=0;d<E;d++)B.words[d]=this.words[d];B.length=E}if(E!==0)if(this.length>E)for(this.length-=E,d=0;d<this.length;d++)this.words[d]=this.words[d+E];else this.words[0]=0,this.length=1;var k=0;for(d=this.length-1;d>=0&&(k!==0||d>=_);d--){var K=this.words[d]|0;this.words[d]=k<<26-x|K>>>x,k=K&T}return B&&k!==0&&(B.words[B.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,h,m){return n(this.negative===0),this.iushrn(f,h,m)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,_=1<<h;if(this.length<=m)return!1;var x=this.words[m];return!!(x&_)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var _=67108863^67108863>>>h<<h;this.words[this.length-1]&=_}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,h,m){var _=f.length+m,x;this._expand(_);var E,T=0;for(x=0;x<f.length;x++){E=(this.words[x+m]|0)+T;var B=(f.words[x]|0)*h;E-=B&67108863,T=(E>>26)-(B/67108864|0),this.words[x+m]=E&67108863}for(;x<this.length-m;x++)E=(this.words[x+m]|0)+T,T=E>>26,this.words[x+m]=E&67108863;if(T===0)return this._strip();for(n(T===-1),T=0,x=0;x<this.length;x++)E=-(this.words[x]|0)+T,T=E>>26,this.words[x]=E&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,h){var m=this.length-f.length,_=this.clone(),x=f,E=x.words[x.length-1]|0,T=this._countBits(E);m=26-T,m!==0&&(x=x.ushln(m),_.iushln(m),E=x.words[x.length-1]|0);var B=_.length-x.length,d;if(h!=="mod"){d=new s(null),d.length=B+1,d.words=new Array(d.length);for(var k=0;k<d.length;k++)d.words[k]=0}var K=_.clone()._ishlnsubmul(x,1,B);K.negative===0&&(_=K,d&&(d.words[B]=1));for(var W=B-1;W>=0;W--){var re=(_.words[x.length+W]|0)*67108864+(_.words[x.length+W-1]|0);for(re=Math.min(re/E|0,67108863),_._ishlnsubmul(x,re,W);_.negative!==0;)re--,_.negative=0,_._ishlnsubmul(x,1,W),_.isZero()||(_.negative^=1);d&&(d.words[W]=re)}return d&&d._strip(),_._strip(),h!=="div"&&m!==0&&_.iushrn(m),{div:d||null,mod:_}},s.prototype.divmod=function(f,h,m){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var _,x,E;return this.negative!==0&&f.negative===0?(E=this.neg().divmod(f,h),h!=="mod"&&(_=E.div.neg()),h!=="div"&&(x=E.mod.neg(),m&&x.negative!==0&&x.iadd(f)),{div:_,mod:x}):this.negative===0&&f.negative!==0?(E=this.divmod(f.neg(),h),h!=="mod"&&(_=E.div.neg()),{div:_,mod:E.mod}):this.negative&f.negative?(E=this.neg().divmod(f.neg(),h),h!=="div"&&(x=E.mod.neg(),m&&x.negative!==0&&x.isub(f)),{div:E.div,mod:x}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,h)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(f):h.mod,_=f.ushrn(1),x=f.andln(1),E=m.cmp(_);return E<0||x===1&&E===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=(1<<26)%f,_=0,x=this.length-1;x>=0;x--)_=(m*_+(this.words[x]|0))%f;return h?-_:_},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=0,_=this.length-1;_>=0;_--){var x=(this.words[_]|0)+m*67108864;this.words[_]=x/f|0,m=x%f}return this._strip(),h?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var _=new s(1),x=new s(0),E=new s(0),T=new s(1),B=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++B;for(var d=m.clone(),k=h.clone();!h.isZero();){for(var K=0,W=1;!(h.words[0]&W)&&K<26;++K,W<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(_.isOdd()||x.isOdd())&&(_.iadd(d),x.isub(k)),_.iushrn(1),x.iushrn(1);for(var re=0,Ee=1;!(m.words[0]&Ee)&&re<26;++re,Ee<<=1);if(re>0)for(m.iushrn(re);re-- >0;)(E.isOdd()||T.isOdd())&&(E.iadd(d),T.isub(k)),E.iushrn(1),T.iushrn(1);h.cmp(m)>=0?(h.isub(m),_.isub(E),x.isub(T)):(m.isub(h),E.isub(_),T.isub(x))}return{a:E,b:T,gcd:m.iushln(B)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var _=new s(1),x=new s(0),E=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,B=1;!(h.words[0]&B)&&T<26;++T,B<<=1);if(T>0)for(h.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(E),_.iushrn(1);for(var d=0,k=1;!(m.words[0]&k)&&d<26;++d,k<<=1);if(d>0)for(m.iushrn(d);d-- >0;)x.isOdd()&&x.iadd(E),x.iushrn(1);h.cmp(m)>=0?(h.isub(m),_.isub(x)):(m.isub(h),x.isub(_))}var K;return h.cmpn(1)===0?K=_:K=x,K.cmpn(0)<0&&K.iadd(f),K},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),m=f.clone();h.negative=0,m.negative=0;for(var _=0;h.isEven()&&m.isEven();_++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var x=h.cmp(m);if(x<0){var E=h;h=m,m=E}else if(x===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(_)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,m=(f-h)/26,_=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var x=_,E=m;x!==0&&E<this.length;E++){var T=this.words[E]|0;T+=x,x=T>>>26,T&=67108863,this.words[E]=T}return x!==0&&(this.words[E]=x,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var _=this.words[0]|0;m=_===f?0:_<f?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,x=f.words[m]|0;if(_!==x){_<x?h=-1:_>x&&(h=1);break}}return h},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new Q(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var z={k256:null,p224:null,p192:null,p25519:null};function Z(g,f){this.name=g,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},Z.prototype.ireduce=function(f){var h=f,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var _=m<this.n?-1:h.ucmp(this.p);return _===0?(h.words[0]=0,h.length=1):_>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},Z.prototype.split=function(f,h){f.iushrn(this.n,0,h)},Z.prototype.imulK=function(f){return f.imul(this.k)};function G(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(G,Z),G.prototype.split=function(f,h){for(var m=4194303,_=Math.min(f.length,9),x=0;x<_;x++)h.words[x]=f.words[x];if(h.length=_,f.length<=9){f.words[0]=0,f.length=1;return}var E=f.words[9];for(h.words[h.length++]=E&m,x=10;x<f.length;x++){var T=f.words[x]|0;f.words[x-10]=(T&m)<<4|E>>>22,E=T}E>>>=22,f.words[x-10]=E,E===0&&f.length>10?f.length-=10:f.length-=9},G.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,m=0;m<f.length;m++){var _=f.words[m]|0;h+=_*977,f.words[m]=h&67108863,h=_*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function q(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,Z);function ee(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ee,Z);function ie(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ie,Z),ie.prototype.imulK=function(f){for(var h=0,m=0;m<f.length;m++){var _=(f.words[m]|0)*19+h,x=_&67108863;_>>>=26,f.words[m]=x,h=_}return h!==0&&(f.words[f.length++]=h),f},s._prime=function(f){if(z[f])return z[f];var h;if(f==="k256")h=new G;else if(f==="p224")h=new q;else if(f==="p192")h=new ee;else if(f==="p25519")h=new ie;else throw new Error("Unknown prime "+f);return z[f]=h,h};function Q(g){if(typeof g=="string"){var f=s._prime(g);this.m=f.p,this.prime=f}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}Q.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},Q.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},Q.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},Q.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Q.prototype.add=function(f,h){this._verify2(f,h);var m=f.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Q.prototype.iadd=function(f,h){this._verify2(f,h);var m=f.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},Q.prototype.sub=function(f,h){this._verify2(f,h);var m=f.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Q.prototype.isub=function(f,h){this._verify2(f,h);var m=f.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},Q.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},Q.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},Q.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},Q.prototype.isqr=function(f){return this.imul(f,f.clone())},Q.prototype.sqr=function(f){return this.mul(f,f)},Q.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(f,m)}for(var _=this.m.subn(1),x=0;!_.isZero()&&_.andln(1)===0;)x++,_.iushrn(1);n(!_.isZero());var E=new s(1).toRed(this),T=E.redNeg(),B=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,B).cmp(T)!==0;)d.redIAdd(T);for(var k=this.pow(d,_),K=this.pow(f,_.addn(1).iushrn(1)),W=this.pow(f,_),re=x;W.cmp(E)!==0;){for(var Ee=W,be=0;Ee.cmp(E)!==0;be++)Ee=Ee.redSqr();n(be<re);var ge=this.pow(k,new s(1).iushln(re-be-1));K=K.redMul(ge),k=ge.redSqr(),W=W.redMul(k),re=be}return K},Q.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Q.prototype.pow=function(f,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var m=4,_=new Array(1<<m);_[0]=new s(1).toRed(this),_[1]=f;for(var x=2;x<_.length;x++)_[x]=this.mul(_[x-1],f);var E=_[0],T=0,B=0,d=h.bitLength()%26;for(d===0&&(d=26),x=h.length-1;x>=0;x--){for(var k=h.words[x],K=d-1;K>=0;K--){var W=k>>K&1;if(E!==_[0]&&(E=this.sqr(E)),W===0&&T===0){B=0;continue}T<<=1,T|=W,B++,!(B!==m&&(x!==0||K!==0))&&(E=this.mul(E,_[T]),B=0,T=0)}d=26}return E},Q.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},Q.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},s.mont=function(f){return new I(f)};function I(g){Q.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(I,Q),I.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},I.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},I.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var m=f.imul(h),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(_).iushrn(this.shift),E=x;return x.cmp(this.m)>=0?E=x.isub(this.m):x.cmpn(0)<0&&(E=x.iadd(this.m)),E._forceRed(this)},I.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new s(0)._forceRed(this);var m=f.mul(h),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=m.isub(_).iushrn(this.shift),E=x;return x.cmp(this.m)>=0?E=x.isub(this.m):x.cmpn(0)<0&&(E=x.iadd(this.m)),E._forceRed(this)},I.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(e,ft)})(Ql);var Lg=Ql.exports,mf={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=ae,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(mf,mf.exports);var bf=mf.exports.Buffer;function xS(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=bf.from(b)),!bf.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var R=0,O=0,P=0,D=b.length;P!==D&&b[P]===0;)P++,R++;for(var F=(D-P)*u+1>>>0,N=new Uint8Array(F);P!==D;){for(var $=b[P],z=0,Z=F-1;($!==0||z<O)&&Z!==-1;Z--,z++)$+=256*N[Z]>>>0,N[Z]=$%o>>>0,$=$/o>>>0;if($!==0)throw new Error("Non-zero carry");O=z,P++}for(var G=F-O;G!==F&&N[G]===0;)G++;for(var q=a.repeat(R);G<F;++G)q+=e.charAt(N[G]);return q}function y(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return bf.alloc(0);for(var R=0,O=0,P=0;b[R]===a;)O++,R++;for(var D=(b.length-R)*c+1>>>0,F=new Uint8Array(D);b[R];){var N=t[b.charCodeAt(R)];if(N===255)return;for(var $=0,z=D-1;(N!==0||$<P)&&z!==-1;z--,$++)N+=o*F[z]>>>0,F[z]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");P=$,R++}for(var Z=D-P;Z!==D&&F[Z]===0;)Z++;var G=bf.allocUnsafe(O+(D-Z));G.fill(0,0,O);for(var q=O;Z!==D;)G[q++]=F[Z++];return G}function A(b){var R=y(b);if(R)return R;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:y,decode:A}}var ES=xS,SS=ES,AS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Tr=SS(AS);function BS(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function $g(e,...t){if(!BS(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Og(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function IS(e,t){$g(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eh=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),wi=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function RS(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Mg(e){return typeof e=="string"&&(e=RS(e)),$g(e),e}class TS{clone(){return this._cloneInto()}}function kS(e){const t=n=>e().update(Mg(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function CS(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}const LS=(e,t,r)=>e&t^~e&r,$S=(e,t,r)=>e&t^e&r^t&r;class OS extends TS{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=eh(this.buffer)}update(t){Og(this);const{view:r,buffer:n,blockLen:i}=this;t=Mg(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=eh(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Og(this),IS(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let y=o;y<i;y++)r[y]=0;CS(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=eh(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,l[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const MS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ss=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),os=new Uint32Array(64);class NS extends OS{constructor(){super(64,32,8,!1),this.A=ss[0]|0,this.B=ss[1]|0,this.C=ss[2]|0,this.D=ss[3]|0,this.E=ss[4]|0,this.F=ss[5]|0,this.G=ss[6]|0,this.H=ss[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)os[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=os[y-15],b=os[y-2],R=wi(A,7)^wi(A,18)^A>>>3,O=wi(b,17)^wi(b,19)^b>>>10;os[y]=O+os[y-7]+R+os[y-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let y=0;y<64;y++){const A=wi(a,6)^wi(a,11)^wi(a,25),b=l+A+LS(a,c,u)+MS[y]+os[y]|0,O=(wi(n,2)^wi(n,13)^wi(n,22))+$S(n,i,s)|0;l=u,u=c,c=a,a=o+b|0,o=s,s=i,i=n,n=b+O|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){os.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ng=kS(()=>new NS);var Gr={};function Pi(e,t,r){return t<=e&&e<=r}function vf(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function PS(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function US(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var _f=-1;function th(e){this.tokens=[].slice.call(e)}th.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():_f},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var No=-1;function rh(e,t){if(e)throw TypeError("Decoder error");return t||65533}var xf="utf-8";function Ef(e,t){if(!(this instanceof Ef))return new Ef(e,t);if(e=e!==void 0?String(e).toLowerCase():xf,e!==xf)throw new Error("Encoding not supported. Only utf-8 is supported");t=vf(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ef.prototype={decode:function(t,r){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),r=vf(r),this._streaming||(this._decoder=new FS({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new th(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==No);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===No)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),US(s)}};function Sf(e,t){if(!(this instanceof Sf))return new Sf(e,t);if(e=e!==void 0?String(e).toLowerCase():xf,e!==xf)throw new Error("Encoding not supported. Only utf-8 is supported");t=vf(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Sf.prototype={encode:function(t,r){t=t?String(t):"",r=vf(r),this._streaming||(this._encoder=new HS(this._options)),this._streaming=!!r.stream;for(var n=[],i=new th(PS(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==No);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==No;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function FS(e){var t=e.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===_f&&i!==0)return i=0,rh(t);if(c===_f)return No;if(i===0){if(Pi(c,0,127))return c;if(Pi(c,194,223))i=1,r=c-192;else if(Pi(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,r=c-224;else if(Pi(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,r=c-240;else return rh(t);return r=r<<6*i,null}if(!Pi(c,s,o))return r=i=n=0,s=128,o=191,a.prepend(c),rh(t);if(s=128,o=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var u=r;return r=i=n=0,u}}function HS(e){e.fatal,this.handler=function(t,r){if(r===_f)return No;if(Pi(r,0,127))return r;var n,i;Pi(r,128,2047)?(n=1,i=192):Pi(r,2048,65535)?(n=2,i=224):Pi(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}var DS=Object.freeze({__proto__:null,TextEncoder:Sf,TextDecoder:Ef}),jS=Un(DS),qS=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zS=ft&&ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mi=ft&&ft.__decorate||function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},VS=ft&&ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&qS(t,e,r);return zS(t,e),t},Pg=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gr,"__esModule",{value:!0});var Ug=Gr.deserializeUnchecked=zg=Gr.deserialize=qg=Gr.serialize=Gr.BinaryReader=Gr.BinaryWriter=Gr.BorshError=Gr.baseDecode=Gr.baseEncode=void 0;const as=Pg(Ql.exports),Fg=Pg(Tr),KS=VS(jS),WS=typeof TextDecoder!="function"?KS.TextDecoder:TextDecoder,GS=new WS("utf-8",{fatal:!0});function ZS(e){return typeof e=="string"&&(e=ae.Buffer.from(e,"utf8")),Fg.default.encode(ae.Buffer.from(e))}Gr.baseEncode=ZS;function YS(e){return ae.Buffer.from(Fg.default.decode(e))}Gr.baseDecode=YS;const nh=1024;class hn extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Gr.BorshError=hn;class Hg{constructor(){this.buf=ae.Buffer.alloc(nh),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=ae.Buffer.concat([this.buf,ae.Buffer.alloc(nh)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(ae.Buffer.from(new as.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(ae.Buffer.from(new as.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(ae.Buffer.from(new as.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(ae.Buffer.from(new as.default(t).toArray("le",64)))}writeBuffer(t){this.buf=ae.Buffer.concat([ae.Buffer.from(this.buf.subarray(0,this.length)),t,ae.Buffer.alloc(nh)]),this.length+=t.length}writeString(t){this.maybeResize();const r=ae.Buffer.from(t,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(t){this.writeBuffer(ae.Buffer.from(t))}writeArray(t,r){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}Gr.BinaryWriter=Hg;function bi(e,t,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new hn("Reached the end of buffer when deserializing")}throw s}}}class Rn{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new as.default(t,"le")}readU128(){const t=this.readBuffer(16);return new as.default(t,"le")}readU256(){const t=this.readBuffer(32);return new as.default(t,"le")}readU512(){const t=this.readBuffer(64);return new as.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new hn(`Expected buffer length ${t} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,r}readString(){const t=this.readU32(),r=this.readBuffer(t);try{return GS.decode(r)}catch(n){throw new hn(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(t());return n}}mi([bi],Rn.prototype,"readU8",null),mi([bi],Rn.prototype,"readU16",null),mi([bi],Rn.prototype,"readU32",null),mi([bi],Rn.prototype,"readU64",null),mi([bi],Rn.prototype,"readU128",null),mi([bi],Rn.prototype,"readU256",null),mi([bi],Rn.prototype,"readU512",null),mi([bi],Rn.prototype,"readString",null),mi([bi],Rn.prototype,"readFixedArray",null),mi([bi],Rn.prototype,"readArray",null),Gr.BinaryReader=Rn;function Dg(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Zs(e,t,r,n,i){try{if(typeof n=="string")i[`write${Dg(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new hn(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new hn(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)Zs(e,null,r[s],n[0],i)}else i.writeArray(r,s=>{Zs(e,t,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),Zs(e,t,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{Zs(e,t,o,n.key,i),Zs(e,t,s,n.value,i)});break}default:throw new hn(`FieldType ${n} unrecognized`)}else jg(e,r,i)}catch(s){throw s instanceof hn&&s.addToFieldPath(t),s}}function jg(e,t,r){if(typeof t.borshSerialize=="function"){t.borshSerialize(r);return}const n=e.get(t.constructor);if(!n)throw new hn(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{Zs(e,i,t[i],s,r)});else if(n.kind==="enum"){const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),Zs(e,o,t[o],a,r);break}}}else throw new hn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function XS(e,t,r=Hg){const n=new r;return jg(e,t,n),n.toArray()}var qg=Gr.serialize=XS;function Ys(e,t,r,n){try{if(typeof r=="string")return n[`read${Dg(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(Ys(e,null,r[0],n));return i}else return n.readArray(()=>Ys(e,t,r[0],n))}if(r.kind==="option")return n.readU8()?Ys(e,t,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=Ys(e,t,r.key,n),c=Ys(e,t,r.value,n);i.set(a,c)}return i}return ih(e,r,n)}catch(i){throw i instanceof hn&&i.addToFieldPath(t),i}}function ih(e,t,r){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new hn(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of e.get(t).fields)i[s]=Ys(e,s,o,r);return new t(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new hn(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=Ys(e,s,o,r);return new t({[s]:a})}throw new hn(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function JS(e,t,r,n=Rn){const i=new n(r),s=ih(e,t,i);if(i.offset<r.length)throw new hn(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var zg=Gr.deserialize=JS;function QS(e,t,r,n=Rn){const i=new n(r);return ih(e,t,i)}Ug=Gr.deserializeUnchecked=QS;var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.s16=ne.s8=ne.nu64be=ne.u48be=ne.u40be=ne.u32be=ne.u24be=ne.u16be=Zr=ne.nu64=ne.u48=ne.u40=ze=ne.u32=ne.u24=jn=ne.u16=Ut=ne.u8=Js=ne.offset=ne.greedy=ne.Constant=ne.UTF8=ne.CString=ne.Blob=ne.Boolean=ne.BitField=ne.BitStructure=ne.VariantLayout=ne.Union=ne.UnionLayoutDiscriminator=ne.UnionDiscriminator=ne.Structure=ne.Sequence=ne.DoubleBE=ne.Double=ne.FloatBE=ne.Float=ne.NearInt64BE=ne.NearInt64=ne.NearUInt64BE=ne.NearUInt64=ne.IntBE=ne.Int=ne.UIntBE=ne.UInt=ne.OffsetLayout=ne.GreedyCount=ne.ExternalLayout=ne.bindConstructorLayout=ne.nameWithProperty=ne.Layout=ne.uint8ArrayToBuffer=ne.checkUint8Array=void 0,ne.constant=ne.utf8=ne.cstr=nr=ne.blob=ne.unionLayoutDiscriminator=ne.union=en=ne.seq=ne.bits=Fe=ne.struct=ne.f64be=ne.f64=ne.f32be=ne.f32=ne.ns64be=ne.s48be=ne.s40be=ne.s32be=ne.s24be=ne.s16be=Tn=ne.ns64=ne.s48=ne.s40=ne.s32=ne.s24=void 0;const sh=ae;function Po(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ne.checkUint8Array=Po;function Nt(e){return Po(e),sh.Buffer.from(e.buffer,e.byteOffset,e.length)}ne.uint8ArrayToBuffer=Nt;class zt{constructor(t,r){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=r}makeDestinationObject(){return{}}getSpan(t,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=t,r}fromArray(t){}}ne.Layout=zt;function oh(e,t){return t.property?e+"["+t.property+"]":e}ne.nameWithProperty=oh;function e3(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof zt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(r,n){return t.encode(this,r,n)},writable:!0}),Object.defineProperty(e,"decode",{value(r,n){return t.decode(r,n)},writable:!0})}ne.bindConstructorLayout=e3;class mn extends zt{isCount(){throw new Error("ExternalLayout is abstract")}}ne.ExternalLayout=mn;class Vg extends mn{constructor(t=1,r){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=t}isCount(){return!0}decode(t,r=0){Po(t);const n=t.length-r;return Math.floor(n/this.elementSpan)}encode(t,r,n){return 0}}ne.GreedyCount=Vg;class ah extends mn{constructor(t,r=0,n){if(!(t instanceof zt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof Dn||this.layout instanceof ni}decode(t,r=0){return this.layout.decode(t,r+this.offset)}encode(t,r,n=0){return this.layout.encode(t,r,n+this.offset)}}ne.OffsetLayout=ah;class Dn extends zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readUIntLE(r,this.span)}encode(t,r,n=0){return Nt(r).writeUIntLE(t,n,this.span),this.span}}ne.UInt=Dn;class ni extends zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readUIntBE(r,this.span)}encode(t,r,n=0){return Nt(r).writeUIntBE(t,n,this.span),this.span}}ne.UIntBE=ni;class Xs extends zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readIntLE(r,this.span)}encode(t,r,n=0){return Nt(r).writeIntLE(t,n,this.span),this.span}}ne.Int=Xs;class Uo extends zt{constructor(t,r){if(super(t,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,r=0){return Nt(t).readIntBE(r,this.span)}encode(t,r,n=0){return Nt(r).writeIntBE(t,n,this.span),this.span}}ne.IntBE=Uo;const ch=Math.pow(2,32);function Af(e){const t=Math.floor(e/ch),r=e-t*ch;return{hi32:t,lo32:r}}function Bf(e,t){return e*ch+t}class Kg extends zt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return Bf(s,i)}encode(t,r,n=0){const i=Af(t),s=Nt(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}ne.NearUInt64=Kg;class Wg extends zt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return Bf(i,s)}encode(t,r,n=0){const i=Af(t),s=Nt(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}ne.NearUInt64BE=Wg;class Gg extends zt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return Bf(s,i)}encode(t,r,n=0){const i=Af(t),s=Nt(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}ne.NearInt64=Gg;class Zg extends zt{constructor(t){super(8,t)}decode(t,r=0){const n=Nt(t),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return Bf(i,s)}encode(t,r,n=0){const i=Af(t),s=Nt(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}ne.NearInt64BE=Zg;class Yg extends zt{constructor(t){super(4,t)}decode(t,r=0){return Nt(t).readFloatLE(r)}encode(t,r,n=0){return Nt(r).writeFloatLE(t,n),4}}ne.Float=Yg;class Xg extends zt{constructor(t){super(4,t)}decode(t,r=0){return Nt(t).readFloatBE(r)}encode(t,r,n=0){return Nt(r).writeFloatBE(t,n),4}}ne.FloatBE=Xg;class Jg extends zt{constructor(t){super(8,t)}decode(t,r=0){return Nt(t).readDoubleLE(r)}encode(t,r,n=0){return Nt(r).writeDoubleLE(t,n),8}}ne.Double=Jg;class Qg extends zt{constructor(t){super(8,t)}decode(t,r=0){return Nt(t).readDoubleBE(r)}encode(t,r,n=0){return Nt(r).writeDoubleBE(t,n),8}}ne.DoubleBE=Qg;class e1 extends zt{constructor(t,r,n){if(!(t instanceof zt))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof mn&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof mn)&&0<t.span&&(i=r*t.span),super(i,n),this.elementLayout=t,this.count=r}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof mn&&(i=i.decode(t,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(t,r+n),++s}return n}decode(t,r=0){const n=[];let i=0,s=this.count;for(s instanceof mn&&(s=s.decode(t,r));i<s;)n.push(this.elementLayout.decode(t,r)),r+=this.elementLayout.getSpan(t,r),i+=1;return n}encode(t,r,n=0){const i=this.elementLayout,s=t.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof mn&&this.count.encode(t.length,r,n),s}}ne.Sequence=e1;class t1 extends zt{constructor(t,r,n){if(!(Array.isArray(t)&&t.reduce((s,o)=>s&&o instanceof zt,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of t)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=t,this.decodePrefixes=!!n}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(t,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,r=0){Po(t);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,r)),r+=i.getSpan(t,r),this.decodePrefixes&&t.length===r)break;return n}encode(t,r,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=t[a.property];u!==void 0&&(o=a.encode(u,r,n),0>c&&(c=a.getSpan(r,n)))}s=n,n+=c}return s+o-i}fromArray(t){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(r[n.property]=t.shift());return r}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===t)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}ne.Structure=t1;class fh{constructor(t){this.property=t}decode(t,r){throw new Error("UnionDiscriminator is abstract")}encode(t,r,n){throw new Error("UnionDiscriminator is abstract")}}ne.UnionDiscriminator=fh;class If extends fh{constructor(t,r){if(!(t instanceof mn&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||t.property||"variant"),this.layout=t}decode(t,r){return this.layout.decode(t,r)}encode(t,r,n){return this.layout.encode(t,r,n)}}ne.UnionLayoutDiscriminator=If;class uh extends zt{constructor(t,r,n){let i;if(t instanceof Dn||t instanceof ni)i=new If(new ah(t));else if(t instanceof mn&&t.isCount())i=new If(t);else if(t instanceof fh)i=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof zt))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(t instanceof Dn||t instanceof ni)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=t instanceof Dn||t instanceof ni,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,r=0){if(0<=this.span)return this.span;const n=this.getVariant(t,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,r)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const r=this.registry[t[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(t,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,r=0){let n;const i=this.discriminator,s=i.decode(t,r),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(t,r+c)}else n=o.decode(t,r);return n}encode(t,r,n=0){const i=this.getSourceVariant(t);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(t[s.property],r,n),a+o.encode(t[o.property],r,n+a)}return i.encode(t,r,n)}addVariant(t,r,n){const i=new r1(this,t,r,n);return this.registry[t]=i,i}getVariant(t,r=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,r):n=t,this.registry[n]}}ne.Union=uh;class r1 extends zt{constructor(t,r,n,i){if(!(t instanceof uh))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof zt))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=r,this.layout=n||null}getSpan(t,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(t,r+n)),n+i}decode(t,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(t[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}ne.VariantLayout=r1;function Fo(e){return 0>e&&(e+=4294967296),e}class lh extends zt{constructor(t,r,n){if(!(t instanceof Dn||t instanceof ni))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Fo(s),this},this._packedGetValue=function(){return i}}decode(t,r=0){const n=this.makeDestinationObject(),i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(t));return n}encode(t,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=t[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(t,r){const n=new hh(this,t,r);return this.fields.push(n),n}addBoolean(t){const r=new n1(this,t);return this.fields.push(r),r}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===t)return r}}ne.BitStructure=lh;class hh{constructor(t,r,n){if(!(t instanceof lh))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*t.span,s=t.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=t,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Fo(this.valueMask<<this.start),this.property=n}decode(t,r){const n=this.container._packedGetValue();return Fo(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Fo(t&this.valueMask))throw new TypeError(oh("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=Fo(t<<this.start);this.container._packedSetValue(Fo(r&~this.wordMask)|n)}}ne.BitField=hh;class n1 extends hh{constructor(t,r){super(t,1,r)}decode(t,r){return!!super.decode(t,r)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}}ne.Boolean=n1;class i1 extends zt{constructor(t,r){if(!(t instanceof mn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof mn||(n=t),super(n,r),this.length=t}getSpan(t,r){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),n}decode(t,r=0){let n=this.span;return 0>n&&(n=this.length.decode(t,r)),Nt(t).slice(r,r+n)}encode(t,r,n){let i=this.length;if(this.length instanceof mn&&(i=t.length),!(t instanceof Uint8Array&&i===t.length))throw new TypeError(oh("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=Nt(t);return Nt(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof mn&&this.length.encode(i,r,n),i}}ne.Blob=i1;class s1 extends zt{constructor(t){super(-1,t)}getSpan(t,r=0){Po(t);let n=r;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-r}decode(t,r=0){const n=this.getSpan(t,r);return Nt(t).slice(r,r+n-1).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=sh.Buffer.from(t,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=Nt(r);return i.copy(o,n),o[n+s]=0,s+1}}ne.CString=s1;class o1 extends zt{constructor(t,r){if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=t}getSpan(t,r=0){return Po(t),t.length-r}decode(t,r=0){const n=this.getSpan(t,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Nt(t).slice(r,r+n).toString("utf-8")}encode(t,r,n=0){typeof t!="string"&&(t=String(t));const i=sh.Buffer.from(t,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Nt(r),n),s}}ne.UTF8=o1;class a1 extends zt{constructor(t,r){super(0,r),this.value=t}decode(t,r){return this.value}encode(t,r,n){return 0}}ne.Constant=a1,ne.greedy=(e,t)=>new Vg(e,t);var Js=ne.offset=(e,t,r)=>new ah(e,t,r),Ut=ne.u8=e=>new Dn(1,e),jn=ne.u16=e=>new Dn(2,e);ne.u24=e=>new Dn(3,e);var ze=ne.u32=e=>new Dn(4,e);ne.u40=e=>new Dn(5,e),ne.u48=e=>new Dn(6,e);var Zr=ne.nu64=e=>new Kg(e);ne.u16be=e=>new ni(2,e),ne.u24be=e=>new ni(3,e),ne.u32be=e=>new ni(4,e),ne.u40be=e=>new ni(5,e),ne.u48be=e=>new ni(6,e),ne.nu64be=e=>new Wg(e),ne.s8=e=>new Xs(1,e),ne.s16=e=>new Xs(2,e),ne.s24=e=>new Xs(3,e),ne.s32=e=>new Xs(4,e),ne.s40=e=>new Xs(5,e),ne.s48=e=>new Xs(6,e);var Tn=ne.ns64=e=>new Gg(e);ne.s16be=e=>new Uo(2,e),ne.s24be=e=>new Uo(3,e),ne.s32be=e=>new Uo(4,e),ne.s40be=e=>new Uo(5,e),ne.s48be=e=>new Uo(6,e),ne.ns64be=e=>new Zg(e),ne.f32=e=>new Yg(e),ne.f32be=e=>new Xg(e),ne.f64=e=>new Jg(e),ne.f64be=e=>new Qg(e);var Fe=ne.struct=(e,t,r)=>new t1(e,t,r);ne.bits=(e,t,r)=>new lh(e,t,r);var en=ne.seq=(e,t,r)=>new e1(e,t,r);ne.union=(e,t,r)=>new uh(e,t,r),ne.unionLayoutDiscriminator=(e,t)=>new If(e,t);var nr=ne.blob=(e,t)=>new i1(e,t);ne.cstr=e=>new s1(e),ne.utf8=(e,t)=>new o1(e,t),ne.constant=(e,t)=>new a1(e,t);var qa={};Object.defineProperty(qa,"__esModule",{value:!0});function t3(e){{const t=ae.Buffer.from(e);t.reverse();const r=t.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var r3=qa.toBigIntLE=t3;function n3(e){{const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}qa.toBigIntBE=n3;function i3(e,t){{const r=e.toString(16),n=ae.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var s3=qa.toBufferLE=i3;function o3(e,t){{const r=e.toString(16);return ae.Buffer.from(r.padStart(t*2,"0").slice(0,t*2),"hex")}}qa.toBufferBE=o3;class a3 extends TypeError{constructor(t,r){let n;const{message:i,...s}=t,{path:o}=t,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[t,...r()]}}}function c3(e){return cs(e)&&typeof e[Symbol.iterator]=="function"}function cs(e){return typeof e=="object"&&e!=null}function ii(e){return typeof e=="string"?JSON.stringify(e):""+e}function f3(e){const{done:t,value:r}=e.next();return t?void 0:r}function u3(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+ii(n)+"`"}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*c1(e,t,r,n){c3(e)||(e=[e]);for(const i of e){const s=u3(i,t,r,n);s&&(yield s)}}function*dh(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&cs(t.schema)&&cs(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c=!0;for(const u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=dh(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o});for(const b of A)b[0]?(c=!1,yield[b[0],void 0]):s&&(l=b[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):cs(e)&&(e[u]=l))}if(c)for(const u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}class vi{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return c1(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return c1(l,u,this,c)}:this.refiner=()=>[]}assert(t){return l3(t,this)}create(t){return Be(t,this)}is(t){return f1(t,this)}mask(t){return h3(t,this)}validate(t,r={}){return za(t,this,r)}}function l3(e,t){const r=za(e,t);if(r[0])throw r[0]}function Be(e,t){const r=za(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function h3(e,t){const r=za(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function f1(e,t){return!za(e,t)[0]}function za(e,t,r={}){const n=dh(e,t,r),i=f3(n);return i[0]?[new a3(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Qs(e,t){return new vi({type:e,schema:null,validator:t})}function d3(){return Qs("any",()=>!0)}function Ce(e){return new vi({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+ii(t)}})}function _i(){return Qs("boolean",e=>typeof e=="boolean")}function ph(e){return Qs("instance",t=>t instanceof e||"Expected a `"+e.name+"` instance, but received: "+ii(t))}function dr(e){const t=ii(e),r=typeof e;return new vi({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||"Expected the literal `"+t+"`, but received: "+ii(n)}})}function p3(){return Qs("never",()=>!1)}function Te(e){return new vi({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function te(){return Qs("number",e=>typeof e=="number"&&!isNaN(e)||"Expected a number, but received: "+ii(e))}function Qe(e){return new vi({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function u1(e,t){return new vi({type:"record",schema:null,*entries(r){if(cs(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return cs(r)||"Expected an object, but received: "+ii(r)}})}function Se(){return Qs("string",e=>typeof e=="string"||"Expected a string, but received: "+ii(e))}function gh(e){const t=p3();return new vi({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+ii(r)}})}function me(e){const t=Object.keys(e);return new vi({type:"type",schema:e,*entries(r){if(cs(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return cs(r)||"Expected an object, but received: "+ii(r)}})}function bn(e){const t=e.map(r=>r.type).join(" | ");return new vi({type:"union",schema:null,validator(r,n){const i=[];for(const s of e){const[...o]=dh(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+ii(r),...i]}})}function Va(){return Qs("unknown",()=>!0)}function Ka(e,t,r){return new vi({...e,coercer:(n,i)=>f1(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var Rf,g3=new Uint8Array(16);function l1(){if(!Rf&&(Rf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Rf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rf(g3)}var y3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Tf(e){return typeof e=="string"&&y3.test(e)}for(var Yr=[],yh=0;yh<256;++yh)Yr.push((yh+256).toString(16).substr(1));function kf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Yr[e[t+0]]+Yr[e[t+1]]+Yr[e[t+2]]+Yr[e[t+3]]+"-"+Yr[e[t+4]]+Yr[e[t+5]]+"-"+Yr[e[t+6]]+Yr[e[t+7]]+"-"+Yr[e[t+8]]+Yr[e[t+9]]+"-"+Yr[e[t+10]]+Yr[e[t+11]]+Yr[e[t+12]]+Yr[e[t+13]]+Yr[e[t+14]]+Yr[e[t+15]]).toLowerCase();if(!Tf(r))throw TypeError("Stringified UUID is invalid");return r}var h1,wh,mh=0,bh=0;function w3(e,t,r){var n=t&&r||0,i=t||new Array(16);e=e||{};var s=e.node||h1,o=e.clockseq!==void 0?e.clockseq:wh;if(s==null||o==null){var a=e.random||(e.rng||l1)();s==null&&(s=h1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=wh=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:bh+1,l=c-mh+(u-bh)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>mh)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mh=c,bh=u,wh=o,c+=122192928e5;var y=((c&268435455)*1e4+u)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=y&255;var A=c/4294967296*1e4&268435455;i[n++]=A>>>8&255,i[n++]=A&255,i[n++]=A>>>24&15|16,i[n++]=A>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var b=0;b<6;++b)i[n+b]=s[b];return t||kf(i)}function d1(e){if(!Tf(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}function m3(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var b3="6ba7b810-9dad-11d1-80b4-00c04fd430c8",v3="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function p1(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=m3(i)),typeof s=="string"&&(s=d1(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return kf(c)}try{n.name=e}catch{}return n.DNS=b3,n.URL=v3,n}function _3(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return x3(E3(S3(e),e.length*8))}function x3(e){for(var t=[],r=e.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);t.push(o)}return t}function g1(e){return(e+64>>>9<<4)+14+1}function E3(e,t){e[t>>5]|=128<<t%32,e[g1(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=r,c=n,u=i,l=s;r=tn(r,n,i,s,e[o],7,-680876936),s=tn(s,r,n,i,e[o+1],12,-389564586),i=tn(i,s,r,n,e[o+2],17,606105819),n=tn(n,i,s,r,e[o+3],22,-1044525330),r=tn(r,n,i,s,e[o+4],7,-176418897),s=tn(s,r,n,i,e[o+5],12,1200080426),i=tn(i,s,r,n,e[o+6],17,-1473231341),n=tn(n,i,s,r,e[o+7],22,-45705983),r=tn(r,n,i,s,e[o+8],7,1770035416),s=tn(s,r,n,i,e[o+9],12,-1958414417),i=tn(i,s,r,n,e[o+10],17,-42063),n=tn(n,i,s,r,e[o+11],22,-1990404162),r=tn(r,n,i,s,e[o+12],7,1804603682),s=tn(s,r,n,i,e[o+13],12,-40341101),i=tn(i,s,r,n,e[o+14],17,-1502002290),n=tn(n,i,s,r,e[o+15],22,1236535329),r=rn(r,n,i,s,e[o+1],5,-165796510),s=rn(s,r,n,i,e[o+6],9,-1069501632),i=rn(i,s,r,n,e[o+11],14,643717713),n=rn(n,i,s,r,e[o],20,-373897302),r=rn(r,n,i,s,e[o+5],5,-701558691),s=rn(s,r,n,i,e[o+10],9,38016083),i=rn(i,s,r,n,e[o+15],14,-660478335),n=rn(n,i,s,r,e[o+4],20,-405537848),r=rn(r,n,i,s,e[o+9],5,568446438),s=rn(s,r,n,i,e[o+14],9,-1019803690),i=rn(i,s,r,n,e[o+3],14,-187363961),n=rn(n,i,s,r,e[o+8],20,1163531501),r=rn(r,n,i,s,e[o+13],5,-1444681467),s=rn(s,r,n,i,e[o+2],9,-51403784),i=rn(i,s,r,n,e[o+7],14,1735328473),n=rn(n,i,s,r,e[o+12],20,-1926607734),r=nn(r,n,i,s,e[o+5],4,-378558),s=nn(s,r,n,i,e[o+8],11,-2022574463),i=nn(i,s,r,n,e[o+11],16,1839030562),n=nn(n,i,s,r,e[o+14],23,-35309556),r=nn(r,n,i,s,e[o+1],4,-1530992060),s=nn(s,r,n,i,e[o+4],11,1272893353),i=nn(i,s,r,n,e[o+7],16,-155497632),n=nn(n,i,s,r,e[o+10],23,-1094730640),r=nn(r,n,i,s,e[o+13],4,681279174),s=nn(s,r,n,i,e[o],11,-358537222),i=nn(i,s,r,n,e[o+3],16,-722521979),n=nn(n,i,s,r,e[o+6],23,76029189),r=nn(r,n,i,s,e[o+9],4,-640364487),s=nn(s,r,n,i,e[o+12],11,-421815835),i=nn(i,s,r,n,e[o+15],16,530742520),n=nn(n,i,s,r,e[o+2],23,-995338651),r=sn(r,n,i,s,e[o],6,-198630844),s=sn(s,r,n,i,e[o+7],10,1126891415),i=sn(i,s,r,n,e[o+14],15,-1416354905),n=sn(n,i,s,r,e[o+5],21,-57434055),r=sn(r,n,i,s,e[o+12],6,1700485571),s=sn(s,r,n,i,e[o+3],10,-1894986606),i=sn(i,s,r,n,e[o+10],15,-1051523),n=sn(n,i,s,r,e[o+1],21,-2054922799),r=sn(r,n,i,s,e[o+8],6,1873313359),s=sn(s,r,n,i,e[o+15],10,-30611744),i=sn(i,s,r,n,e[o+6],15,-1560198380),n=sn(n,i,s,r,e[o+13],21,1309151649),r=sn(r,n,i,s,e[o+4],6,-145523070),s=sn(s,r,n,i,e[o+11],10,-1120210379),i=sn(i,s,r,n,e[o+2],15,718787259),n=sn(n,i,s,r,e[o+9],21,-343485551),r=fs(r,a),n=fs(n,c),i=fs(i,u),s=fs(s,l)}return[r,n,i,s]}function S3(e){if(e.length===0)return[];for(var t=e.length*8,r=new Uint32Array(g1(t)),n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function fs(e,t){var r=(e&65535)+(t&65535),n=(e>>16)+(t>>16)+(r>>16);return n<<16|r&65535}function A3(e,t){return e<<t|e>>>32-t}function Cf(e,t,r,n,i,s){return fs(A3(fs(fs(t,e),fs(n,s)),i),r)}function tn(e,t,r,n,i,s,o){return Cf(t&r|~t&n,e,t,i,s,o)}function rn(e,t,r,n,i,s,o){return Cf(t&n|r&~n,e,t,i,s,o)}function nn(e,t,r,n,i,s,o){return Cf(t^r^n,e,t,i,s,o)}function sn(e,t,r,n,i,s,o){return Cf(r^(t|~n),e,t,i,s,o)}var B3=p1("v3",48,_3),I3=B3;function R3(e,t,r){e=e||{};var n=e.random||(e.rng||l1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return kf(n)}function T3(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function vh(e,t){return e<<t|e>>>32-t}function k3(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(var y=0;y<o;++y){for(var A=new Uint32Array(80),b=0;b<16;++b)A[b]=a[y][b];for(var R=16;R<80;++R)A[R]=vh(A[R-3]^A[R-8]^A[R-14]^A[R-16],1);for(var O=r[0],P=r[1],D=r[2],F=r[3],N=r[4],$=0;$<80;++$){var z=Math.floor($/20),Z=vh(O,5)+T3(z,P,D,F)+N+t[z]+A[$]>>>0;N=F,F=D,D=vh(P,30)>>>0,P=O,O=Z}r[0]=r[0]+O>>>0,r[1]=r[1]+P>>>0,r[2]=r[2]+D>>>0,r[3]=r[3]+F>>>0,r[4]=r[4]+N>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var C3=p1("v5",80,k3),L3=C3,$3="00000000-0000-0000-0000-000000000000";function O3(e){if(!Tf(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var M3=Object.freeze({__proto__:null,v1:w3,v3:I3,v4:R3,v5:L3,NIL:$3,version:O3,validate:Tf,stringify:kf,parse:d1}),y1=Un(M3);const N3=y1.v4;var P3=function(e,t,r,n){if(typeof e!="string")throw new TypeError(e+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:e};if(i===2&&(s.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return N3()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};const U3=y1.v4,F3=P3,Wa=function(e,t){if(!(this instanceof Wa))return new Wa(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return U3()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var H3=Wa;Wa.prototype.request=function(e,t,r,n){const i=this;let s=null;const o=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&typeof e=="object"&&typeof t=="function")n=t,s=e;else{typeof r=="function"&&(n=r,r=void 0);const u=typeof n=="function";try{s=F3(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return n(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,n)}),s},Wa.prototype._parseResponse=function(e,t,r){if(e){r(e);return}if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};var w1={},_h={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,y,A){if(typeof l!="function")throw new TypeError("The listener must be a function");var b=new i(l,y||c,A),R=r?r+u:u;return c._events[R]?c._events[R].fn?c._events[R]=[c._events[R],b]:c._events[R].push(b):(c._events[R]=b,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,y;if(this._eventsCount===0)return u;for(y in l=this._events)t.call(l,y)&&u.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,y=this._events[l];if(!y)return[];if(y.fn)return[y.fn];for(var A=0,b=y.length,R=new Array(b);A<b;A++)R[A]=y[A].fn;return R},a.prototype.listenerCount=function(u){var l=r?r+u:u,y=this._events[l];return y?y.fn?1:y.length:0},a.prototype.emit=function(u,l,y,A,b,R){var O=r?r+u:u;if(!this._events[O])return!1;var P=this._events[O],D=arguments.length,F,N;if(P.fn){switch(P.once&&this.removeListener(u,P.fn,void 0,!0),D){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,l),!0;case 3:return P.fn.call(P.context,l,y),!0;case 4:return P.fn.call(P.context,l,y,A),!0;case 5:return P.fn.call(P.context,l,y,A,b),!0;case 6:return P.fn.call(P.context,l,y,A,b,R),!0}for(N=1,F=new Array(D-1);N<D;N++)F[N-1]=arguments[N];P.fn.apply(P.context,F)}else{var $=P.length,z;for(N=0;N<$;N++)switch(P[N].once&&this.removeListener(u,P[N].fn,void 0,!0),D){case 1:P[N].fn.call(P[N].context);break;case 2:P[N].fn.call(P[N].context,l);break;case 3:P[N].fn.call(P[N].context,l,y);break;case 4:P[N].fn.call(P[N].context,l,y,A);break;default:if(!F)for(z=1,F=new Array(D-1);z<D;z++)F[z-1]=arguments[z];P[N].fn.apply(P[N].context,F)}}return!0},a.prototype.on=function(u,l,y){return s(this,u,l,y,!1)},a.prototype.once=function(u,l,y){return s(this,u,l,y,!0)},a.prototype.removeListener=function(u,l,y,A){var b=r?r+u:u;if(!this._events[b])return this;if(!l)return o(this,b),this;var R=this._events[b];if(R.fn)R.fn===l&&(!A||R.once)&&(!y||R.context===y)&&o(this,b);else{for(var O=0,P=[],D=R.length;O<D;O++)(R[O].fn!==l||A&&!R[O].once||y&&R[O].context!==y)&&P.push(R[O]);P.length?this._events[b]=P.length===1?P[0]:P:o(this,b)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(_h);var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.createError=Ho.DefaultDataPack=void 0;const D3=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class j3{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}}Ho.DefaultDataPack=j3;function q3(e,t){const r={code:e,message:D3.get(e)||"Internal Server Error"};return t&&(r.data=t),r}Ho.createError=q3,Object.defineProperty(w1,"__esModule",{value:!0});const z3=_h.exports,V3=Ho;class K3 extends z3.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),u?this.dataPack=u:this.dataPack=new V3.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(t,r),c={jsonrpc:"2.0",method:t,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,u=>{if(u)return o(u);this.queue[a]={promise:[s,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=ae.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}}var W3=w1.default=K3,m1={};Object.defineProperty(m1,"__esModule",{value:!0});const G3=_h.exports;class Z3 extends G3.EventEmitter{socket;constructor(t,r,n){super(),this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(t,r,n){const i=n||r;try{this.socket.send(t),i()}catch(s){i(s)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,n){this.socket.addEventListener(t,r,n)}}function Y3(e,t){return new Z3(e,t)}var X3=m1.default=Y3;const J3=[],Q3=BigInt(0),Ga=BigInt(1),e6=BigInt(2),t6=BigInt(7),r6=BigInt(256),n6=BigInt(113);for(let e=0,t=Ga,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5];let i=Q3;for(let s=0;s<7;s++)t=(t<<Ga^(t>>t6)*n6)%r6,t&e6&&(i^=Ga<<(Ga<<BigInt(s))-Ga);J3.push(i)}const i6=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),us=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ls=new Uint32Array(64);class s6 extends hg{constructor(){super(64,32,8,!1),this.A=us[0]|0,this.B=us[1]|0,this.C=us[2]|0,this.D=us[3]|0,this.E=us[4]|0,this.F=us[5]|0,this.G=us[6]|0,this.H=us[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)ls[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=ls[y-15],b=ls[y-2],R=yi(A,7)^yi(A,18)^A>>>3,O=yi(b,17)^yi(b,19)^b>>>10;ls[y]=O+ls[y-7]+R+ls[y-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let y=0;y<64;y++){const A=yi(a,6)^yi(a,11)^yi(a,25),b=l+A+_E(a,c,u)+i6[y]+ls[y]|0,O=(yi(n,2)^yi(n,13)^yi(n,22))+xE(n,i,s)|0;l=u,u=c,c=a,a=o+b|0,o=s,s=i,i=n,n=b+O|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){ls.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const o6=ug(()=>new s6);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function a6(e){const t=Gl(e);Mo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:c6,hexToBytes:f6}=YE,eo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=eo;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:c6(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=eo,r=typeof e=="string"?f6(e):e;Da(r);let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=eo._parseInt(r.subarray(2)),{d:o,l:a}=eo._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},Ui=BigInt(0),qn=BigInt(1);BigInt(2);const b1=BigInt(3);BigInt(4);function u6(e){const t=a6(e),{Fp:r}=t,n=t.toBytes||((R,O,P)=>{const D=O.toAffine();return Ws(Uint8Array.from([4]),r.toBytes(D.x),r.toBytes(D.y))}),i=t.fromBytes||(R=>{const O=R.subarray(1),P=r.fromBytes(O.subarray(0,r.BYTES)),D=r.fromBytes(O.subarray(r.BYTES,2*r.BYTES));return{x:P,y:D}});function s(R){const{a:O,b:P}=t,D=r.sqr(R),F=r.mul(D,R);return r.add(r.add(F,r.mul(R,O)),P)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(R){return typeof R=="bigint"&&Ui<R&&R<t.n}function a(R){if(!o(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(R){const{allowedPrivateKeyLengths:O,nByteLength:P,wrapPrivateKey:D,n:F}=t;if(O&&typeof R!="bigint"){if(zs(R)&&(R=Vs(R)),typeof R!="string"||!O.includes(R.length))throw new Error("Invalid key");R=R.padStart(P*2,"0")}let N;try{N=typeof R=="bigint"?R:Ks(Cr("private key",R,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof R}`)}return D&&(N=ir(N,F)),a(N),N}const u=new Map;function l(R){if(!(R instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(O,P,D){if(this.px=O,this.py=P,this.pz=D,O==null||!r.isValid(O))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(D==null||!r.isValid(D))throw new Error("z required")}static fromAffine(O){const{x:P,y:D}=O||{};if(!O||!r.isValid(P)||!r.isValid(D))throw new Error("invalid affine point");if(O instanceof y)throw new Error("projective point not allowed");const F=N=>r.eql(N,r.ZERO);return F(P)&&F(D)?y.ZERO:new y(P,D,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const P=r.invertBatch(O.map(D=>D.pz));return O.map((D,F)=>D.toAffine(P[F])).map(y.fromAffine)}static fromHex(O){const P=y.fromAffine(i(Cr("pointHex",O)));return P.assertValidity(),P}static fromPrivateKey(O){return y.BASE.multiply(c(O))}_setWindowSize(O){this._WINDOW_SIZE=O,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:O,y:P}=this.toAffine();if(!r.isValid(O)||!r.isValid(P))throw new Error("bad point: x or y not FE");const D=r.sqr(P),F=s(O);if(!r.eql(D,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(r.isOdd)return!r.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){l(O);const{px:P,py:D,pz:F}=this,{px:N,py:$,pz:z}=O,Z=r.eql(r.mul(P,z),r.mul(N,F)),G=r.eql(r.mul(D,z),r.mul($,F));return Z&&G}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:O,b:P}=t,D=r.mul(P,b1),{px:F,py:N,pz:$}=this;let z=r.ZERO,Z=r.ZERO,G=r.ZERO,q=r.mul(F,F),ee=r.mul(N,N),ie=r.mul($,$),Q=r.mul(F,N);return Q=r.add(Q,Q),G=r.mul(F,$),G=r.add(G,G),z=r.mul(O,G),Z=r.mul(D,ie),Z=r.add(z,Z),z=r.sub(ee,Z),Z=r.add(ee,Z),Z=r.mul(z,Z),z=r.mul(Q,z),G=r.mul(D,G),ie=r.mul(O,ie),Q=r.sub(q,ie),Q=r.mul(O,Q),Q=r.add(Q,G),G=r.add(q,q),q=r.add(G,q),q=r.add(q,ie),q=r.mul(q,Q),Z=r.add(Z,q),ie=r.mul(N,$),ie=r.add(ie,ie),q=r.mul(ie,Q),z=r.sub(z,q),G=r.mul(ie,ee),G=r.add(G,G),G=r.add(G,G),new y(z,Z,G)}add(O){l(O);const{px:P,py:D,pz:F}=this,{px:N,py:$,pz:z}=O;let Z=r.ZERO,G=r.ZERO,q=r.ZERO;const ee=t.a,ie=r.mul(t.b,b1);let Q=r.mul(P,N),I=r.mul(D,$),g=r.mul(F,z),f=r.add(P,D),h=r.add(N,$);f=r.mul(f,h),h=r.add(Q,I),f=r.sub(f,h),h=r.add(P,F);let m=r.add(N,z);return h=r.mul(h,m),m=r.add(Q,g),h=r.sub(h,m),m=r.add(D,F),Z=r.add($,z),m=r.mul(m,Z),Z=r.add(I,g),m=r.sub(m,Z),q=r.mul(ee,h),Z=r.mul(ie,g),q=r.add(Z,q),Z=r.sub(I,q),q=r.add(I,q),G=r.mul(Z,q),I=r.add(Q,Q),I=r.add(I,Q),g=r.mul(ee,g),h=r.mul(ie,h),I=r.add(I,g),g=r.sub(Q,g),g=r.mul(ee,g),h=r.add(h,g),Q=r.mul(I,h),G=r.add(G,Q),Q=r.mul(m,h),Z=r.mul(f,Z),Z=r.sub(Z,Q),Q=r.mul(f,I),q=r.mul(m,q),q=r.add(q,Q),new y(Z,G,q)}subtract(O){return this.add(O.negate())}is0(){return this.equals(y.ZERO)}wNAF(O){return b.wNAFCached(this,u,O,P=>{const D=r.invertBatch(P.map(F=>F.pz));return P.map((F,N)=>F.toAffine(D[N])).map(y.fromAffine)})}multiplyUnsafe(O){const P=y.ZERO;if(O===Ui)return P;if(a(O),O===qn)return this;const{endo:D}=t;if(!D)return b.unsafeLadder(this,O);let{k1neg:F,k1:N,k2neg:$,k2:z}=D.splitScalar(O),Z=P,G=P,q=this;for(;N>Ui||z>Ui;)N&qn&&(Z=Z.add(q)),z&qn&&(G=G.add(q)),q=q.double(),N>>=qn,z>>=qn;return F&&(Z=Z.negate()),$&&(G=G.negate()),G=new y(r.mul(G.px,D.beta),G.py,G.pz),Z.add(G)}multiply(O){a(O);let P=O,D,F;const{endo:N}=t;if(N){const{k1neg:$,k1:z,k2neg:Z,k2:G}=N.splitScalar(P);let{p:q,f:ee}=this.wNAF(z),{p:ie,f:Q}=this.wNAF(G);q=b.constTimeNegate($,q),ie=b.constTimeNegate(Z,ie),ie=new y(r.mul(ie.px,N.beta),ie.py,ie.pz),D=q.add(ie),F=ee.add(Q)}else{const{p:$,f:z}=this.wNAF(P);D=$,F=z}return y.normalizeZ([D,F])[0]}multiplyAndAddUnsafe(O,P,D){const F=y.BASE,N=(z,Z)=>Z===Ui||Z===qn||!z.equals(F)?z.multiplyUnsafe(Z):z.multiply(Z),$=N(this,P).add(N(O,D));return $.is0()?void 0:$}toAffine(O){const{px:P,py:D,pz:F}=this,N=this.is0();O==null&&(O=N?r.ONE:r.inv(F));const $=r.mul(P,O),z=r.mul(D,O),Z=r.mul(F,O);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Z,r.ONE))throw new Error("invZ was invalid");return{x:$,y:z}}isTorsionFree(){const{h:O,isTorsionFree:P}=t;if(O===qn)return!0;if(P)return P(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:P}=t;return O===qn?this:P?P(y,this):this.multiplyUnsafe(t.h)}toRawBytes(O=!0){return this.assertValidity(),n(y,this,O)}toHex(O=!0){return Vs(this.toRawBytes(O))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const A=t.nBitLength,b=Bg(y,t.endo?Math.ceil(A/2):A);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function l6(e){const t=Gl(e);return Mo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function h6(e){const t=l6(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(h){return Ui<h&&h<r.ORDER}function a(h){return ir(h,n)}function c(h){return Kl(h,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:y,isWithinCurveOrder:A}=u6({...t,toBytes(h,m,_){const x=m.toAffine(),E=r.toBytes(x.x),T=Ws;return _?T(Uint8Array.from([m.hasEvenY()?2:3]),E):T(Uint8Array.from([4]),E,r.toBytes(x.y))},fromBytes(h){const m=h.length,_=h[0],x=h.subarray(1);if(m===i&&(_===2||_===3)){const E=Ks(x);if(!o(E))throw new Error("Point is not on curve");const T=y(E);let B;try{B=r.sqrt(T)}catch(K){const W=K instanceof Error?": "+K.message:"";throw new Error("Point is not on curve"+W)}const d=(B&qn)===qn;return(_&1)===1!==d&&(B=r.neg(B)),{x:E,y:B}}else if(m===s&&_===4){const E=r.fromBytes(x.subarray(0,r.BYTES)),T=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:E,y:T}}else throw new Error(`Point of length ${m} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),b=h=>Vs(Oo(h,t.nByteLength));function R(h){const m=n>>qn;return h>m}function O(h){return R(h)?a(-h):h}const P=(h,m,_)=>Ks(h.slice(m,_));class D{constructor(m,_,x){this.r=m,this.s=_,this.recovery=x,this.assertValidity()}static fromCompact(m){const _=t.nByteLength;return m=Cr("compactSignature",m,_*2),new D(P(m,0,_),P(m,_,2*_))}static fromDER(m){const{r:_,s:x}=eo.toSig(Cr("DER",m));return new D(_,x)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new D(this.r,this.s,m)}recoverPublicKey(m){const{r:_,s:x,recovery:E}=this,T=G(Cr("msgHash",m));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const B=E===2||E===3?_+t.n:_;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=E&1?"03":"02",k=u.fromHex(d+b(B)),K=c(B),W=a(-T*K),re=a(x*K),Ee=u.BASE.multiplyAndAddUnsafe(k,W,re);if(!Ee)throw new Error("point at infinify");return Ee.assertValidity(),Ee}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new D(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Lo(this.toDERHex())}toDERHex(){return eo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Lo(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const F={isValidPrivateKey(h){try{return l(h),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const h=Ag(t.n);return aS(t.randomBytes(h),t.n)},precompute(h=8,m=u.BASE){return m._setWindowSize(h),m.multiply(BigInt(3)),m}};function N(h,m=!0){return u.fromPrivateKey(h).toRawBytes(m)}function $(h){const m=zs(h),_=typeof h=="string",x=(m||_)&&h.length;return m?x===i||x===s:_?x===2*i||x===2*s:h instanceof u}function z(h,m,_=!0){if($(h))throw new Error("first arg must be private key");if(!$(m))throw new Error("second arg must be public key");return u.fromHex(m).multiply(l(h)).toRawBytes(_)}const Z=t.bits2int||function(h){const m=Ks(h),_=h.length*8-t.nBitLength;return _>0?m>>BigInt(_):m},G=t.bits2int_modN||function(h){return a(Z(h))},q=ql(t.nBitLength);function ee(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(Ui<=h&&h<q))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Oo(h,t.nByteLength)}function ie(h,m,_=Q){if(["recovered","canonical"].some(ge=>ge in _))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:E}=t;let{lowS:T,prehash:B,extraEntropy:d}=_;T==null&&(T=!0),h=Cr("msgHash",h),B&&(h=Cr("prehashed msgHash",x(h)));const k=G(h),K=l(m),W=[ee(K),ee(k)];if(d!=null&&d!==!1){const ge=d===!0?E(r.BYTES):d;W.push(Cr("extraEntropy",ge))}const re=Ws(...W),Ee=k;function be(ge){const tt=Z(ge);if(!A(tt))return;const Ue=c(tt),Pe=u.BASE.multiply(tt).toAffine(),pe=a(Pe.x);if(pe===Ui)return;const we=a(Ue*a(Ee+pe*K));if(we===Ui)return;let ke=(Pe.x===pe?0:2)|Number(Pe.y&qn),vt=we;return T&&R(we)&&(vt=O(we),ke^=1),new D(pe,vt,ke)}return{seed:re,k2sig:be}}const Q={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function g(h,m,_=Q){const{seed:x,k2sig:E}=ie(h,m,_),T=t;return bg(T.hash.outputLen,T.nByteLength,T.hmac)(x,E)}u.BASE._setWindowSize(8);function f(h,m,_,x=I){const E=h;if(m=Cr("msgHash",m),_=Cr("publicKey",_),"strict"in x)throw new Error("options.strict was renamed to lowS");const{lowS:T,prehash:B}=x;let d,k;try{if(typeof E=="string"||zs(E))try{d=D.fromDER(E)}catch(Pe){if(!(Pe instanceof eo.Err))throw Pe;d=D.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:Pe,s:pe}=E;d=new D(Pe,pe)}else throw new Error("PARSE");k=u.fromHex(_)}catch(Pe){if(Pe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&d.hasHighS())return!1;B&&(m=t.hash(m));const{r:K,s:W}=d,re=G(m),Ee=c(W),be=a(re*Ee),ge=a(K*Ee),tt=u.BASE.multiplyAndAddUnsafe(k,be,ge)?.toAffine();return tt?a(tt.x)===K:!1}return{CURVE:t,getPublicKey:N,getSharedSecret:z,sign:g,verify:f,ProjectivePoint:u,Signature:D,utils:F}}class v1 extends fg{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,mE(t);const n=Hl(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return df(this),this.iHash.update(t),this}digestInto(t){df(this),hf(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _1=(e,t,r)=>new v1(e,t).update(r).digest();_1.create=(e,t)=>new v1(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function d6(e){return{hash:e,hmac:(t,...r)=>_1(e,t,cg(...r)),randomBytes:lg}}function p6(e,t){const r=n=>h6({...e,...d6(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),E1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),g6=BigInt(1),xh=BigInt(2),S1=(e,t)=>(e+t/xh)/t;function y6(e){const t=x1,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,y=wr(l,r,t)*l%t,A=wr(y,r,t)*l%t,b=wr(A,xh,t)*u%t,R=wr(b,i,t)*b%t,O=wr(R,s,t)*R%t,P=wr(O,a,t)*O%t,D=wr(P,c,t)*P%t,F=wr(D,a,t)*O%t,N=wr(F,r,t)*l%t,$=wr(N,o,t)*R%t,z=wr($,n,t)*u%t,Z=wr(z,xh,t);if(!Eh.eql(Eh.sqr(Z),e))throw new Error("Cannot find square root");return Z}const Eh=Eg(x1,void 0,void 0,{sqrt:y6}),Sh=p6({a:BigInt(0),b:BigInt(7),Fp:Eh,n:E1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=E1,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-g6*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=S1(s*e,t),c=S1(-n*e,t);let u=ir(e-a*r-c*i,t),l=ir(-a*n-c*s,t);const y=u>o,A=l>o;if(y&&(u=t-u),A&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:u,k2neg:A,k2:l}}}},o6);BigInt(0),Sh.ProjectivePoint,wf.utils.randomPrivateKey;function A1(e){try{return wf.ExtendedPoint.fromHex(e),!0}catch{return!1}}const B1=(e,t)=>wf.sign(e,t.slice(0,32)),w6=wf.verify,Do=e=>ae.Buffer.isBuffer(e)?e:e instanceof Uint8Array?ae.Buffer.from(e.buffer,e.byteOffset,e.byteLength):ae.Buffer.from(e);class m6{constructor(t){Object.assign(this,t)}encode(){return ae.Buffer.from(qg(Lf,this))}static decode(t){return zg(Lf,this,t)}static decodeUnchecked(t){return Ug(Lf,this,t)}}const Lf=new Map;var I1;const b6=32,hs=32;function v6(e){return e._bn!==void 0}let R1=1;class et extends m6{constructor(t){if(super({}),this._bn=void 0,v6(t))this._bn=t._bn;else{if(typeof t=="string"){const r=Tr.decode(t);if(r.length!=hs)throw new Error("Invalid public key input");this._bn=new Lg(r)}else this._bn=new Lg(t);if(this._bn.byteLength()>hs)throw new Error("Invalid public key input")}}static unique(){const t=new et(R1);return R1+=1,new et(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Tr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(ae.Buffer);if(t.length===hs)return t;const r=ae.Buffer.alloc(32);return t.copy(r,32-t.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,r,n){const i=ae.Buffer.concat([t.toBuffer(),ae.Buffer.from(r),n.toBuffer()]),s=Ng(i);return new et(s)}static createProgramAddressSync(t,r){let n=ae.Buffer.alloc(0);t.forEach(function(s){if(s.length>b6)throw new TypeError("Max seed length exceeded");n=ae.Buffer.concat([n,Do(s)])}),n=ae.Buffer.concat([n,r.toBuffer(),ae.Buffer.from("ProgramDerivedAddress")]);const i=Ng(n);if(A1(i))throw new Error("Invalid seeds, address must fall off the curve");return new et(i)}static async createProgramAddress(t,r){return this.createProgramAddressSync(t,r)}static findProgramAddressSync(t,r){let n=255,i;for(;n!=0;){try{const s=t.concat(ae.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,r){return this.findProgramAddressSync(t,r)}static isOnCurve(t){const r=new et(t);return A1(r.toBytes())}}I1=et,et.default=new I1("11111111111111111111111111111111"),Lf.set(et,{kind:"struct",fields:[["_bn","u256"]]}),new et("BPFLoader1111111111111111111111111111111111");const jo=1280-40-8,Ah=127,$f=64;class T1 extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(T1.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class k1 extends Error{constructor(t,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(k1.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Za extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Za.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Of{constructor(t,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=r}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const r of this.keySegments()){if(t<r.length)return r[t];t-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const St=(e="publicKey")=>nr(32,e),_6=(e="signature")=>nr(64,e),qo=(e="string")=>{const t=Fe([ze("length"),ze("lengthPadding"),nr(Js(ze(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:ae.Buffer.from(s,"utf8")};return n(c,o,a)},i.alloc=s=>ze().span+ze().span+ae.Buffer.from(s,"utf8").length,i},x6=(e="authorized")=>Fe([St("staker"),St("withdrawer")],e),E6=(e="lockup")=>Fe([Tn("unixTimestamp"),Tn("epoch"),St("custodian")],e),S6=(e="voteInit")=>Fe([St("nodePubkey"),St("authorizedVoter"),St("authorizedWithdrawer"),Ut("commission")],e),A6=(e="voteAuthorizeWithSeedArgs")=>Fe([ze("voteAuthorizationType"),St("currentAuthorityDerivedKeyOwnerPubkey"),qo("currentAuthorityDerivedKeySeed"),St("newAuthorized")],e);function kn(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(n&127)<<r*7,r+=1,!(n&128))break}return t}function Cn(e,t){let r=t;for(;;){let n=r&127;if(r>>=7,r==0){e.push(n);break}else n|=128,e.push(n)}}function sr(e,t){if(!e)throw new Error(t||"Assertion failed")}class Mf{constructor(t,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=r}static compile(t,r){const n=new Map,i=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of t){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Mf(r,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];sr(t.length<=256,"Max static account keys length exceeded");const r=t.filter(([,c])=>c.isSigner&&c.isWritable),n=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),s=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{sr(r.length>0,"Expected at least one writable signer key");const[c]=r[0];sr(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([c])=>new et(c)),...n.map(([c])=>new et(c)),...i.map(([c])=>new et(c)),...s.map(([c])=>new et(c))];return[o,a]}extractTableLookup(t){const[r,n]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(t,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new et(s),c=t.findIndex(u=>u.equals(a));c>=0&&(sr(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const C1="Reached end of buffer unexpectedly";function Fi(e){if(e.length===0)throw new Error(C1);return e.shift()}function Ln(e,...t){const[r]=t;if(t.length===2?r+(t[1]??0)>e.length:r>=e.length)throw new Error(C1);return e.splice(...t)}class Hi{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(r=>new et(r)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Tr.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Of(this.staticAccountKeys)}static compile(t){const r=Mf.compile(t.instructions,t.payerKey),[n,i]=r.getMessageComponents(),o=new Of(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Tr.encode(a.data)}));return new Hi({header:n,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,r)=>!this.isProgramId(r))}serialize(){const t=this.accountKeys.length;let r=[];Cn(r,t);const n=this.instructions.map(y=>{const{accounts:A,programIdIndex:b}=y,R=Array.from(Tr.decode(y.data));let O=[];Cn(O,A.length);let P=[];return Cn(P,R.length),{programIdIndex:b,keyIndicesCount:ae.Buffer.from(O),keyIndices:A,dataLength:ae.Buffer.from(P),data:R}});let i=[];Cn(i,n.length);let s=ae.Buffer.alloc(jo);ae.Buffer.from(i).copy(s);let o=i.length;n.forEach(y=>{const b=Fe([Ut("programIdIndex"),nr(y.keyIndicesCount.length,"keyIndicesCount"),en(Ut("keyIndex"),y.keyIndices.length,"keyIndices"),nr(y.dataLength.length,"dataLength"),en(Ut("userdatum"),y.data.length,"data")]).encode(y,s,o);o+=b}),s=s.slice(0,o);const a=Fe([nr(1,"numRequiredSignatures"),nr(1,"numReadonlySignedAccounts"),nr(1,"numReadonlyUnsignedAccounts"),nr(r.length,"keyCount"),en(St("key"),t,"keys"),St("recentBlockhash")]),c={numRequiredSignatures:ae.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ae.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ae.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ae.Buffer.from(r),keys:this.accountKeys.map(y=>Do(y.toBytes())),recentBlockhash:Tr.decode(this.recentBlockhash)};let u=ae.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(t){let r=[...t];const n=Fi(r);if(n!==(n&Ah))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Fi(r),s=Fi(r),o=kn(r);let a=[];for(let A=0;A<o;A++){const b=Ln(r,0,hs);a.push(new et(ae.Buffer.from(b)))}const c=Ln(r,0,hs),u=kn(r);let l=[];for(let A=0;A<u;A++){const b=Fi(r),R=kn(r),O=Ln(r,0,R),P=kn(r),D=Ln(r,0,P),F=Tr.encode(ae.Buffer.from(D));l.push({programIdIndex:b,accounts:O,data:F})}const y={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Tr.encode(ae.Buffer.from(c)),accountKeys:a,instructions:l};return new Hi(y)}}class Ya{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const r of this.addressTableLookups)t+=r.readonlyIndexes.length+r.writableIndexes.length;return t}getAccountKeys(t){let r;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)r=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Of(this.staticAccountKeys,r)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const i=t-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){const i=t-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=t.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(t){const r=Mf.compile(t.instructions,t.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const l of s){const y=r.extractTableLookup(l);if(y!==void 0){const[A,{writable:b,readonly:R}]=y;n.push(A),i.writable.push(...b),i.readonly.push(...R)}}const[o,a]=r.getMessageComponents(),u=new Of(a,i).compileInstructions(t.instructions);return new Ya({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){const t=Array();Cn(t,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();Cn(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Cn(s,this.addressTableLookups.length);const o=Fe([Ut("prefix"),Fe([Ut("numRequiredSignatures"),Ut("numReadonlySignedAccounts"),Ut("numReadonlyUnsignedAccounts")],"header"),nr(t.length,"staticAccountKeysLength"),en(St(),this.staticAccountKeys.length,"staticAccountKeys"),St("recentBlockhash"),nr(n.length,"instructionsLength"),nr(r.length,"serializedInstructions"),nr(s.length,"addressTableLookupsLength"),nr(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(jo),c=128,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Tr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let t=0;const r=new Uint8Array(jo);for(const n of this.compiledInstructions){const i=Array();Cn(i,n.accountKeyIndexes.length);const s=Array();Cn(s,n.data.length);const o=Fe([Ut("programIdIndex"),nr(i.length,"encodedAccountKeyIndexesLength"),en(Ut(),n.accountKeyIndexes.length,"accountKeyIndexes"),nr(s.length,"encodedDataLength"),nr(n.data.length,"data")]);t+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,t)}return r.slice(0,t)}serializeAddressTableLookups(){let t=0;const r=new Uint8Array(jo);for(const n of this.addressTableLookups){const i=Array();Cn(i,n.writableIndexes.length);const s=Array();Cn(s,n.readonlyIndexes.length);const o=Fe([St("accountKey"),nr(i.length,"encodedWritableIndexesLength"),en(Ut(),n.writableIndexes.length,"writableIndexes"),nr(s.length,"encodedReadonlyIndexesLength"),en(Ut(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,t)}return r.slice(0,t)}static deserialize(t){let r=[...t];const n=Fi(r),i=n&Ah;sr(n!==i,"Expected versioned message but received legacy message");const s=i;sr(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Fi(r),numReadonlySignedAccounts:Fi(r),numReadonlyUnsignedAccounts:Fi(r)},a=[],c=kn(r);for(let R=0;R<c;R++)a.push(new et(Ln(r,0,hs)));const u=Tr.encode(Ln(r,0,hs)),l=kn(r),y=[];for(let R=0;R<l;R++){const O=Fi(r),P=kn(r),D=Ln(r,0,P),F=kn(r),N=new Uint8Array(Ln(r,0,F));y.push({programIdIndex:O,accountKeyIndexes:D,data:N})}const A=kn(r),b=[];for(let R=0;R<A;R++){const O=new et(Ln(r,0,hs)),P=kn(r),D=Ln(r,0,P),F=kn(r),N=Ln(r,0,F);b.push({accountKey:O,writableIndexes:D,readonlyIndexes:N})}return new Ya({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:y,addressTableLookups:b})}}const L1={deserializeMessageVersion(e){const t=e[0],r=t&Ah;return r===t?"legacy":r},deserialize:e=>{const t=L1.deserializeMessageVersion(e);if(t==="legacy")return Hi.from(e);if(t===0)return Ya.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let ds=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const B6=ae.Buffer.alloc($f).fill(0);class $1{constructor(t){this.keys=void 0,this.programId=void 0,this.data=ae.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:r,isWritable:n})=>({pubkey:t.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class ps{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=t;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=t;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new $1(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(t=this.recentBlockhash,r=this.instructions),!t)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let O=0;O<r.length;O++)if(r[O].programId===void 0)throw new Error(`Transaction instruction index ${O} has undefined program id`);const i=[],s=[];r.forEach(O=>{O.keys.forEach(D=>{s.push({...D})});const P=O.programId.toString();i.includes(P)||i.push(P)}),i.forEach(O=>{s.push({pubkey:new et(O),isSigner:!1,isWritable:!1})});const o=[];s.forEach(O=>{const P=O.pubkey.toString(),D=o.findIndex(F=>F.pubkey.toString()===P);D>-1?(o[D].isWritable=o[D].isWritable||O.isWritable,o[D].isSigner=o[D].isSigner||O.isSigner):o.push(O)}),o.sort(function(O,P){if(O.isSigner!==P.isSigner)return O.isSigner?-1:1;if(O.isWritable!==P.isWritable)return O.isWritable?-1:1;const D={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return O.pubkey.toBase58().localeCompare(P.pubkey.toBase58(),"en",D)});const a=o.findIndex(O=>O.pubkey.equals(n));if(a>-1){const[O]=o.splice(a,1);O.isSigner=!0,O.isWritable=!0,o.unshift(O)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const O of this.signatures){const P=o.findIndex(D=>D.pubkey.equals(O.publicKey));if(P>-1)o[P].isSigner||(o[P].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${O.publicKey.toString()}`)}let c=0,u=0,l=0;const y=[],A=[];o.forEach(({pubkey:O,isSigner:P,isWritable:D})=>{P?(y.push(O.toString()),c+=1,D||(u+=1)):(A.push(O.toString()),D||(l+=1))});const b=y.concat(A),R=r.map(O=>{const{data:P,programId:D}=O;return{programIdIndex:b.indexOf(D.toString()),accounts:O.keys.map(F=>b.indexOf(F.pubkey.toString())),data:Tr.encode(P)}});return R.forEach(O=>{sr(O.programIdIndex>=0),O.accounts.forEach(P=>sr(P>=0))}),new Hi({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:b,recentBlockhash:t,instructions:R})}_compile(){const t=this.compileMessage(),r=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const r=new Set;this.signatures=t.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of t){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(t,...r){const n=t.serialize();r.forEach(i=>{const s=B1(n,i.secretKey);this._addSignature(i.publicKey,Do(s))})}addSignature(t,r){this._compile(),this._addSignature(t,r)}_addSignature(t,r){sr(r.length===64);const n=this.signatures.findIndex(i=>t.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=ae.Buffer.from(r)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||=[]).push(s):w6(i,t,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(t){const{signatures:r}=this,n=[];Cn(n,r.length);const i=n.length+r.length*64+t.length,s=ae.Buffer.alloc(i);return sr(r.length<256),ae.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(sr(o.length===64,"signature has invalid length"),ae.Buffer.from(o).copy(s,n.length+a*64))}),t.copy(s,n.length+r.length*64),sr(s.length<=jo,`Transaction too large: ${s.length} > ${jo}`),s}get keys(){return sr(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return sr(this.instructions.length===1),this.instructions[0].programId}get data(){return sr(this.instructions.length===1),this.instructions[0].data}static from(t){let r=[...t];const n=kn(r);let i=[];for(let s=0;s<n;s++){const o=Ln(r,0,$f);i.push(Tr.encode(ae.Buffer.from(o)))}return ps.populate(Hi.from(r),i)}static populate(t,r=[]){const n=new ps;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==Tr.encode(B6)?null:Tr.decode(i),publicKey:t.accountKeys[s]};n.signatures.push(o)}),t.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});n.instructions.push(new $1({keys:s,programId:t.accountKeys[i.programIdIndex],data:Tr.decode(i.data)}))}),n._message=t,n._json=n.toJSON(),n}}class Xa{get version(){return this.message.version}constructor(t,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)sr(r.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<t.header.numRequiredSignatures;i++)n.push(new Uint8Array($f));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),r=Array();Cn(r,this.signatures.length);const n=Fe([nr(r.length,"encodedSignaturesLength"),en(_6(),this.signatures.length,"signatures"),nr(t.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let r=[...t];const n=[],i=kn(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Ln(r,0,$f)));const s=L1.deserialize(new Uint8Array(r));return new Xa(s,n)}sign(t){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const s=n.findIndex(o=>o.equals(i.publicKey));sr(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=B1(r,i.secretKey)}}addSignature(t,r){sr(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));sr(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const I6=1e3/(160/64);new et("SysvarC1ock11111111111111111111111111111111"),new et("SysvarEpochSchedu1e111111111111111111111111"),new et("Sysvar1nstructions1111111111111111111111111"),new et("SysvarRecentB1ockHashes11111111111111111111"),new et("SysvarRent111111111111111111111111111111111"),new et("SysvarRewards111111111111111111111111111111"),new et("SysvarS1otHashes111111111111111111111111111"),new et("SysvarS1otHistory11111111111111111111111111"),new et("SysvarStakeHistory1111111111111111111111111");function zo(e){return new Promise(t=>setTimeout(t,e))}const R6=Zr("lamportsPerSignature"),O1=Fe([ze("version"),ze("state"),St("authorizedPubkey"),St("nonce"),Fe([R6],"feeCalculator")]);O1.span;class Bh{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const r=O1.decode(Do(t),0);return new Bh({authorizedPubkey:new et(r.authorizedPubkey),nonce:new et(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const T6=e=>{const t=e.decode.bind(e),r=e.encode.bind(e);return{decode:t,encode:r}},Vo=(e=>t=>{const r=nr(e,t),{encode:n,decode:i}=T6(r),s=r;return s.decode=(o,a)=>{const c=i(o,a);return r3(ae.Buffer.from(c))},s.encode=(o,a,c)=>{const u=s3(o,e);return n(u,a,c)},s})(8);Object.freeze({Create:{index:0,layout:Fe([ze("instruction"),Tn("lamports"),Tn("space"),St("programId")])},Assign:{index:1,layout:Fe([ze("instruction"),St("programId")])},Transfer:{index:2,layout:Fe([ze("instruction"),Vo("lamports")])},CreateWithSeed:{index:3,layout:Fe([ze("instruction"),St("base"),qo("seed"),Tn("lamports"),Tn("space"),St("programId")])},AdvanceNonceAccount:{index:4,layout:Fe([ze("instruction")])},WithdrawNonceAccount:{index:5,layout:Fe([ze("instruction"),Tn("lamports")])},InitializeNonceAccount:{index:6,layout:Fe([ze("instruction"),St("authorized")])},AuthorizeNonceAccount:{index:7,layout:Fe([ze("instruction"),St("authorized")])},Allocate:{index:8,layout:Fe([ze("instruction"),Tn("space")])},AllocateWithSeed:{index:9,layout:Fe([ze("instruction"),St("base"),qo("seed"),Tn("space"),St("programId")])},AssignWithSeed:{index:10,layout:Fe([ze("instruction"),St("base"),qo("seed"),St("programId")])},TransferWithSeed:{index:11,layout:Fe([ze("instruction"),Vo("lamports"),qo("seed"),St("programId")])},UpgradeNonceAccount:{index:12,layout:Fe([ze("instruction")])}}),new et("11111111111111111111111111111111"),new et("BPFLoader2111111111111111111111111111111111");function k6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C6=Object.prototype.toString,L6=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Ja(e,t){var r,n,i,s,o,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if(e.toJSON&&typeof e.toJSON=="function")return Ja(e.toJSON(),t);if(c=C6.call(e),c==="[object Array]"){for(i="[",n=e.length-1,r=0;r<n;r++)i+=Ja(e[r],!0)+",";return n>-1&&(i+=Ja(e[r],!0)),i+"]"}else if(c==="[object Object]"){for(s=L6(e).sort(),n=s.length,i="",r=0;r<n;)o=s[r],a=Ja(e[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var $6=function(e){var t=Ja(e,!1);if(t!==void 0)return""+t},M1=k6($6);const Qa=32;function Ih(e){let t=0;for(;e>1;)e/=2,t++;return t}function O6(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class M6{constructor(t,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=Ih(O6(t+Qa+1))-Ih(Qa)-1,n=this.getSlotsInEpoch(r),i=t-(n-Qa);return[r,i]}else{const r=t-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Qa:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Ih(Qa)):this.slotsPerEpoch}}class N1 extends Error{constructor(t,r){super(t),this.logs=void 0,this.logs=r}}class je extends Error{constructor({code:t,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var N6=globalThis.fetch;class P6 extends W3{constructor(t,r,n){const i=s=>{const o=X3(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,t,r,n),this.underlyingSocket=void 0}call(...t){const r=this.underlyingSocket?.readyState;return r===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...t){const r=this.underlyingSocket?.readyState;return r===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function U6(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}const P1=56;class U1{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const r=U6(F6,t),n=t.length-P1;sr(n>=0,"lookup table is invalid"),sr(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=Fe([en(St(),i,"addresses")]).decode(t.slice(P1));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new et(r.authority[0]):void 0,addresses:s.map(o=>new et(o))}}}const F6={index:1,layout:Fe([ze("typeIndex"),Vo("deactivationSlot"),Zr("lastExtendedSlot"),Ut("lastExtendedStartIndex"),Ut(),en(St(),Js(Ut(),-1),"authority")])},H6=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function D6(e){const t=e.match(H6);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${s}`}const kr=Ka(ph(et),Se(),e=>new et(e)),F1=gh([Se(),dr("base64")]),Rh=Ka(ph(ae.Buffer),F1,e=>ae.Buffer.from(e[0],"base64")),j6=30*1e3;function q6(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function or(e){let t,r;if(typeof e=="string")t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function H1(e){return bn([me({jsonrpc:dr("2.0"),id:Se(),result:e}),me({jsonrpc:dr("2.0"),id:Se(),error:me({code:Va(),message:Se(),data:Qe(d3())})})])}const z6=H1(Va());function bt(e){return Ka(H1(e),z6,t=>"error"in t?t:{...t,result:Be(t.result,e)})}function mr(e){return bt(me({context:me({slot:te()}),value:e}))}function Nf(e){return me({context:me({slot:te()}),value:e})}function Th(e,t){return e===0?new Ya({header:t.header,staticAccountKeys:t.accountKeys.map(r=>new et(r)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Tr.decode(r.data)})),addressTableLookups:t.addressTableLookups}):new Hi(t)}const V6=me({foundation:te(),foundationTerm:te(),initial:te(),taper:te(),terminal:te()}),K6=bt(Ce(Te(me({epoch:te(),effectiveSlot:te(),amount:te(),postBalance:te(),commission:Qe(Te(te()))})))),W6=Ce(me({slot:te(),prioritizationFee:te()})),G6=me({total:te(),validator:te(),foundation:te(),epoch:te()}),Z6=me({epoch:te(),slotIndex:te(),slotsInEpoch:te(),absoluteSlot:te(),blockHeight:Qe(te()),transactionCount:Qe(te())}),Y6=me({slotsPerEpoch:te(),leaderScheduleSlotOffset:te(),warmup:_i(),firstNormalEpoch:te(),firstNormalSlot:te()}),X6=u1(Se(),Ce(te())),to=Te(bn([me({}),Se()])),J6=me({err:to}),Q6=dr("receivedSignature"),eA=me({"solana-core":Se(),"feature-set":Qe(te())}),D1=mr(me({err:Te(bn([me({}),Se()])),logs:Te(Ce(Se())),accounts:Qe(Te(Ce(Te(me({executable:_i(),owner:Se(),lamports:te(),data:Ce(Se()),rentEpoch:Qe(te())}))))),unitsConsumed:Qe(te()),returnData:Qe(Te(me({programId:Se(),data:gh([Se(),dr("base64")])})))})),tA=mr(me({byIdentity:u1(Se(),Ce(te())),range:me({firstSlot:te(),lastSlot:te()})}));function rA(e,t,r,n,i,s){const o=r||N6;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(l,y)=>{const A=await new Promise((b,R)=>{try{n(l,y,(O,P)=>b([O,P]))}catch(O){R(O)}});return await o(...A)}),new H3(async(l,y)=>{const A={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},nB)};try{let b=5,R,O=500;for(;c?R=await c(e,A):R=await o(e,A),!(R.status!==429||i===!0||(b-=1,b===0));)console.error(`Server responded with ${R.status} ${R.statusText}.  Retrying after ${O}ms delay...`),await zo(O),O*=2;const P=await R.text();R.ok?y(null,P):y(new Error(`${R.status} ${R.statusText}: ${P}`))}catch(b){b instanceof Error&&y(b)}},{})}function nA(e){return(t,r)=>new Promise((n,i)=>{e.request(t,r,(s,o)=>{if(s){i(s);return}n(o)})})}function iA(e){return t=>new Promise((r,n)=>{t.length===0&&r([]);const i=t.map(s=>e.request(s.methodName,s.args));e.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const sA=bt(V6),oA=bt(G6),aA=bt(W6),cA=bt(Z6),fA=bt(Y6),uA=bt(X6),lA=bt(te()),hA=mr(me({total:te(),circulating:te(),nonCirculating:te(),nonCirculatingAccounts:Ce(kr)})),kh=me({amount:Se(),uiAmount:Te(te()),decimals:te(),uiAmountString:Qe(Se())}),dA=mr(Ce(me({address:kr,amount:Se(),uiAmount:Te(te()),decimals:te(),uiAmountString:Qe(Se())}))),pA=mr(Ce(me({pubkey:kr,account:me({executable:_i(),owner:kr,lamports:te(),data:Rh,rentEpoch:te()})}))),Ch=me({program:Se(),parsed:Va(),space:te()}),gA=mr(Ce(me({pubkey:kr,account:me({executable:_i(),owner:kr,lamports:te(),data:Ch,rentEpoch:te()})}))),yA=mr(Ce(me({lamports:te(),address:kr}))),ec=me({executable:_i(),owner:kr,lamports:te(),data:Rh,rentEpoch:te()}),wA=me({pubkey:kr,account:ec}),mA=Ka(bn([ph(ae.Buffer),Ch]),bn([F1,Ch]),e=>Array.isArray(e)?Be(e,Rh):e),Lh=me({executable:_i(),owner:kr,lamports:te(),data:mA,rentEpoch:te()}),bA=me({pubkey:kr,account:Lh}),vA=me({state:bn([dr("active"),dr("inactive"),dr("activating"),dr("deactivating")]),active:te(),inactive:te()}),_A=bt(Ce(me({signature:Se(),slot:te(),err:to,memo:Te(Se()),blockTime:Qe(Te(te()))}))),xA=bt(Ce(me({signature:Se(),slot:te(),err:to,memo:Te(Se()),blockTime:Qe(Te(te()))}))),EA=me({subscription:te(),result:Nf(ec)}),SA=me({pubkey:kr,account:ec}),AA=me({subscription:te(),result:Nf(SA)}),BA=me({parent:te(),slot:te(),root:te()}),IA=me({subscription:te(),result:BA}),RA=bn([me({type:bn([dr("firstShredReceived"),dr("completed"),dr("optimisticConfirmation"),dr("root")]),slot:te(),timestamp:te()}),me({type:dr("createdBank"),parent:te(),slot:te(),timestamp:te()}),me({type:dr("frozen"),slot:te(),timestamp:te(),stats:me({numTransactionEntries:te(),numSuccessfulTransactions:te(),numFailedTransactions:te(),maxTransactionsPerEntry:te()})}),me({type:dr("dead"),slot:te(),timestamp:te(),err:Se()})]),TA=me({subscription:te(),result:RA}),kA=me({subscription:te(),result:Nf(bn([J6,Q6]))}),CA=me({subscription:te(),result:te()}),LA=me({pubkey:Se(),gossip:Te(Se()),tpu:Te(Se()),rpc:Te(Se()),version:Te(Se())}),j1=me({votePubkey:Se(),nodePubkey:Se(),activatedStake:te(),epochVoteAccount:_i(),epochCredits:Ce(gh([te(),te(),te()])),commission:te(),lastVote:te(),rootSlot:Te(te())}),$A=bt(me({current:Ce(j1),delinquent:Ce(j1)})),OA=bn([dr("processed"),dr("confirmed"),dr("finalized")]),MA=me({slot:te(),confirmations:Te(te()),err:to,confirmationStatus:Qe(OA)}),NA=mr(Ce(Te(MA))),PA=bt(te()),q1=me({accountKey:kr,writableIndexes:Ce(te()),readonlyIndexes:Ce(te())}),$h=me({signatures:Ce(Se()),message:me({accountKeys:Ce(Se()),header:me({numRequiredSignatures:te(),numReadonlySignedAccounts:te(),numReadonlyUnsignedAccounts:te()}),instructions:Ce(me({accounts:Ce(te()),data:Se(),programIdIndex:te()})),recentBlockhash:Se(),addressTableLookups:Qe(Ce(q1))})}),z1=me({pubkey:kr,signer:_i(),writable:_i(),source:Qe(bn([dr("transaction"),dr("lookupTable")]))}),V1=me({accountKeys:Ce(z1),signatures:Ce(Se())}),K1=me({parsed:Va(),program:Se(),programId:kr}),W1=me({accounts:Ce(kr),data:Se(),programId:kr}),UA=bn([W1,K1]),FA=bn([me({parsed:Va(),program:Se(),programId:Se()}),me({accounts:Ce(Se()),data:Se(),programId:Se()})]),G1=Ka(UA,FA,e=>"accounts"in e?Be(e,W1):Be(e,K1)),Z1=me({signatures:Ce(Se()),message:me({accountKeys:Ce(z1),instructions:Ce(G1),recentBlockhash:Se(),addressTableLookups:Qe(Te(Ce(q1)))})}),Pf=me({accountIndex:te(),mint:Se(),owner:Qe(Se()),uiTokenAmount:kh}),Y1=me({writable:Ce(kr),readonly:Ce(kr)}),Uf=me({err:to,fee:te(),innerInstructions:Qe(Te(Ce(me({index:te(),instructions:Ce(me({accounts:Ce(te()),data:Se(),programIdIndex:te()}))})))),preBalances:Ce(te()),postBalances:Ce(te()),logMessages:Qe(Te(Ce(Se()))),preTokenBalances:Qe(Te(Ce(Pf))),postTokenBalances:Qe(Te(Ce(Pf))),loadedAddresses:Qe(Y1),computeUnitsConsumed:Qe(te())}),Oh=me({err:to,fee:te(),innerInstructions:Qe(Te(Ce(me({index:te(),instructions:Ce(G1)})))),preBalances:Ce(te()),postBalances:Ce(te()),logMessages:Qe(Te(Ce(Se()))),preTokenBalances:Qe(Te(Ce(Pf))),postTokenBalances:Qe(Te(Ce(Pf))),loadedAddresses:Qe(Y1),computeUnitsConsumed:Qe(te())}),Ko=bn([dr(0),dr("legacy")]),ro=me({pubkey:Se(),lamports:te(),postBalance:Te(te()),rewardType:Te(Se()),commission:Qe(Te(te()))}),HA=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:$h,meta:Te(Uf),version:Qe(Ko)})),rewards:Qe(Ce(ro)),blockTime:Te(te()),blockHeight:Te(te())}))),DA=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),rewards:Qe(Ce(ro)),blockTime:Te(te()),blockHeight:Te(te())}))),jA=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:V1,meta:Te(Uf),version:Qe(Ko)})),rewards:Qe(Ce(ro)),blockTime:Te(te()),blockHeight:Te(te())}))),qA=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:Z1,meta:Te(Oh),version:Qe(Ko)})),rewards:Qe(Ce(ro)),blockTime:Te(te()),blockHeight:Te(te())}))),zA=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:V1,meta:Te(Oh),version:Qe(Ko)})),rewards:Qe(Ce(ro)),blockTime:Te(te()),blockHeight:Te(te())}))),VA=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),rewards:Qe(Ce(ro)),blockTime:Te(te()),blockHeight:Te(te())}))),KA=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),transactions:Ce(me({transaction:$h,meta:Te(Uf)})),rewards:Qe(Ce(ro)),blockTime:Te(te())}))),X1=bt(Te(me({blockhash:Se(),previousBlockhash:Se(),parentSlot:te(),signatures:Ce(Se()),blockTime:Te(te())}))),Mh=bt(Te(me({slot:te(),meta:Te(Uf),blockTime:Qe(Te(te())),transaction:$h,version:Qe(Ko)}))),Ff=bt(Te(me({slot:te(),transaction:Z1,meta:Te(Oh),blockTime:Qe(Te(te())),version:Qe(Ko)}))),WA=mr(me({blockhash:Se(),feeCalculator:me({lamportsPerSignature:te()})})),GA=mr(me({blockhash:Se(),lastValidBlockHeight:te()})),ZA=mr(_i()),YA=me({slot:te(),numTransactions:te(),numSlots:te(),samplePeriodSecs:te()}),XA=bt(Ce(YA)),JA=mr(Te(me({feeCalculator:me({lamportsPerSignature:te()})}))),QA=bt(Se()),eB=bt(Se()),tB=me({err:to,logs:Ce(Se()),signature:Se()}),rB=me({result:Nf(tB),subscription:te()}),nB={"solana-client":"js/0.0.0-development"};class iB{constructor(t,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:y,config:A}=or(l),b=this._buildArgs([],y,void 0,A),R=M1(b);return u[R]=u[R]??(async()=>{try{const O=await this._rpcRequest("getBlockHeight",b),P=Be(O,bt(te()));if("error"in P)throw new je(P.error,"failed to get block height information");return P.result}finally{delete u[R]}})(),await u[R]}})();let n,i,s,o,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=q6(t),this._rpcWsEndpoint=n||D6(t),this._rpcClient=rA(t,i,s,o,a,c),this._rpcRequest=nA(this._rpcClient),this._rpcBatchRequest=iA(this._rpcClient),this._rpcWebSocket=new P6(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=Be(o,mr(te()));if("error"in a)throw new je(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,r){return await this.getBalanceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const r=await this._rpcRequest("getBlockTime",[t]),n=Be(r,bt(Te(te())));if("error"in n)throw new je(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),r=Be(t,bt(te()));if("error"in r)throw new je(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),r=Be(t,lA);if("error"in r)throw new je(r.error,"failed to get first available block");return r.result}async getSupply(t){let r={};typeof t=="string"?r={commitment:t}:t?r={...t,commitment:t&&t.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=Be(n,hA);if("error"in i)throw new je(i.error,"failed to get supply");return i.result}async getTokenSupply(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=Be(i,mr(kh));if("error"in s)throw new je(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=Be(i,mr(kh));if("error"in s)throw new je(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(t,r,n){const{commitment:i,config:s}=or(n);let o=[t.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Be(c,pA);if("error"in u)throw new je(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,r,n){let i=[t.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Be(o,gA);if("error"in a)throw new je(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const r={...t,commitment:t&&t.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=Be(i,yA);if("error"in s)throw new je(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(t,r){const n=this._buildArgs([t.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=Be(i,dA);if("error"in s)throw new je(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Be(o,mr(Te(ec)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Be(o,mr(Te(Lh)));if("error"in a)throw new je(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,r){try{return(await this.getAccountInfoAndContext(t,r)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,r){const{commitment:n,config:i}=or(r),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Be(a,mr(Ce(Te(Lh))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(t,r){const{commitment:n,config:i}=or(r),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Be(a,mr(Ce(Te(ec))));if("error"in c)throw new je(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(t,r){return(await this.getMultipleAccountsInfoAndContext(t,r)).value}async getStakeActivation(t,r,n){const{commitment:i,config:s}=or(r),o=this._buildArgs([t.toBase58()],i,void 0,{...s,epoch:n??s?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=Be(a,bt(vA));if("error"in c)throw new je(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,r){const{commitment:n,config:i}=or(r),{encoding:s,...o}=i||{},a=this._buildArgs([t.toBase58()],n,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ce(wA),l=o.withContext===!0?Be(c,mr(u)):Be(c,bt(u));if("error"in l)throw new je(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Be(o,bt(Ce(bA)));if("error"in a)throw new je(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,r){let n;if(typeof t=="string")n=t;else{const s=t;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=Tr.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return sr(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((r,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:r}){let n,i,s=!1;const o=new Promise((c,u)=>{try{n=this.onSignature(r,(y,A)=>{n=void 0;const b={context:A,value:y};c({__type:ds.PROCESSED,response:b})},t);const l=new Promise(y=>{n==null?y():i=this._onSubscriptionStateChange(n,A=>{A==="subscribed"&&y()})});(async()=>{if(await l,s)return;const y=await this.getSignatureStatus(r);if(s||y==null)return;const{context:A,value:b}=y;if(b!=null)if(b?.err)u(b.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:ds.PROCESSED,response:{context:A,value:b}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(y=>{const A=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let b=await A();if(!s){for(;b<=n;)if(await zo(1e3),s||(b=await A(),s))return;y({__type:ds.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(r);let l;try{const y=await Promise.race([u,c,o]);if(y.__type===ds.PROCESSED)l=y.response;else throw new T1(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(b=>{let R=s,O=null;const P=async()=>{try{const{context:D,value:F}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:n});return O=D.slot,F?.nonce}catch{return R}};(async()=>{if(R=await P(),!a)for(;;){if(s!==R){b({__type:ds.NONCE_INVALID,slotInWhichNonceDidAdvance:O});return}if(await zo(2e3),a||(R=await P(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),y=this.getCancellationPromise(r);let A;try{const b=await Promise.race([y,l,c]);if(b.__type===ds.PROCESSED)A=b.response;else{let R;for(;;){const O=await this.getSignatureStatus(o);if(O==null)break;if(O.context.slot<(b.slotInWhichNonceDidAdvance??n)){await zo(400);continue}R=O;break}if(R?.value){const O=t||"finalized",{confirmationStatus:P}=R.value;switch(O){case"processed":case"recent":if(P!=="processed"&&P!=="confirmed"&&P!=="finalized")throw new Za(o);break;case"confirmed":case"single":case"singleGossip":if(P!=="confirmed"&&P!=="finalized")throw new Za(o);break;case"finalized":case"max":case"root":if(P!=="finalized")throw new Za(o);break;default:(D=>{})(O)}A={context:R.context,value:{err:R.value.err}}}else throw new Za(o)}}finally{a=!0,u()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:r}){let n;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:ds.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:r});let a;try{const c=await Promise.race([o,i]);if(c.__type===ds.PROCESSED)a=c.response;else throw new k1(r,c.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),r=Be(t,bt(Ce(LA)));if("error"in r)throw new je(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",r),i=Be(n,$A);if("error"in i)throw new je(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=Be(s,bt(te()));if("error"in o)throw new je(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=Be(s,bt(Se()));if("error"in o)throw new je(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,r){const n=[t,r],i=await this._rpcRequest("getSlotLeaders",n),s=Be(i,bt(Ce(kr)));if("error"in s)throw new je(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(t,r){const{context:n,value:i}=await this.getSignatureStatuses([t],r);sr(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(t,r){const n=[t];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=Be(i,NA);if("error"in s)throw new je(s.error,"failed to get signature status");return s.result}async getTransactionCount(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=Be(s,bt(te()));if("error"in o)throw new je(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",r),i=Be(n,sA);if("error"in i)throw new je(i.error,"failed to get inflation");return i.result}async getInflationReward(t,r,n){const{commitment:i,config:s}=or(n),o=this._buildArgs([t.map(u=>u.toBase58())],i,void 0,{...s,epoch:r??s?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=Be(a,K6);if("error"in c)throw new je(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),r=Be(t,oA);if("error"in r)throw new je(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=Be(s,cA);if("error"in o)throw new je(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),r=Be(t,fA);if("error"in r)throw new je(r.error,"failed to get epoch schedule");const n=r.result;return new M6(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),r=Be(t,uA);if("error"in r)throw new je(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=Be(i,PA);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(t){const r=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",r),i=Be(n,WA);if("error"in i)throw new je(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(t){const r=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=Be(r,XA);if("error"in n)throw new je(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,r){const n=this._buildArgs([t],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=Be(i,JA);if("error"in s)throw new je(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,r){const n=Do(t.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=Be(s,mr(Te(te())));if("error"in o)throw new je(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){const r=t?.lockedWritableAccounts?.map(o=>o.toBase58()),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=Be(i,aA);if("error"in s)throw new je(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=Be(s,GA);if("error"in o)throw new je(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgs([t],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Be(o,ZA);if("error"in a)throw new je(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),r=Be(t,bt(eA));if("error"in r)throw new je(r.error,"failed to get version");return r.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),r=Be(t,bt(Se()));if("error"in r)throw new je(r.error,"failed to get genesis hash");return r.result}async getBlock(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Be(o,jA);if("error"in a)throw a.error;return a.result}case"none":{const a=Be(o,DA);if("error"in a)throw a.error;return a.result}default:{const a=Be(o,HA);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:y})=>({meta:l,transaction:{...u,message:Th(y,u.message)},version:y}))}:null}}}catch(a){throw new je(a,"failed to get confirmed block")}}async getParsedBlock(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Be(o,zA);if("error"in a)throw a.error;return a.result}case"none":{const a=Be(o,VA);if("error"in a)throw a.error;return a.result}default:{const a=Be(o,qA);if("error"in a)throw a.error;return a.result}}}catch(a){throw new je(a,"failed to get block")}}async getBlockProduction(t){let r,n;if(typeof t=="string")n=t;else if(t){const{commitment:a,...c}=t;n=a,r=c}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=Be(s,tA);if("error"in o)throw new je(o.error,"failed to get block production information");return o.result}async getTransaction(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Be(o,Mh);if("error"in a)throw new je(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Th(c.version,c.transaction.message)}}}async getParsedTransaction(t,r){const{commitment:n,config:i}=or(r),s=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Be(o,Ff);if("error"in a)throw new je(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,r){const{commitment:n,config:i}=or(r),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Be(c,Ff);if("error"in u)throw new je(u.error,"failed to get transactions");return u.result})}async getTransactions(t,r){const{commitment:n,config:i}=or(r),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Be(c,Mh);if("error"in u)throw new je(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:Th(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedBlock",n),s=Be(i,KA);if("error"in s)throw new je(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Hi(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:ps.populate(c.message,c.signatures)}))}}async getBlocks(t,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[t,r]:[t],n),s=await this._rpcRequest("getBlocks",i),o=Be(s,bt(Ce(te())));if("error"in o)throw new je(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=Be(i,X1);if("error"in s)throw new je(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=Be(i,X1);if("error"in s)throw new je(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=Be(i,Mh);if("error"in s)throw new je(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Hi(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:ps.populate(a,c)}}async getParsedConfirmedTransaction(t,r){const n=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=Be(i,Ff);if("error"in s)throw new je(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(t,r){const n=t.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=Be(o,Ff);if("error"in a)throw new je(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Be(s,_A);if("error"in o)throw new je(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,r,n){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=Be(s,xA);if("error"in o)throw new je(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=new U1({key:t,state:U1.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(t,r){const{context:n,value:i}=await this.getAccountInfoAndContext(t,r);let s=null;return i!==null&&(s=Bh.fromAccountData(i.data)),{context:n,value:s}}async getNonce(t,r){return await this.getNonceAndContext(t,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,r){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),r]),i=Be(n,QA);if("error"in i)throw new je(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await zo(100);const n=Date.now()-this._blockhashInfo.lastFetch>=j6;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await zo(I6/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:r,config:n}=or(t),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Be(s,mr(te()));if("error"in o)throw new je(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,r,n){if("message"in t){const O=t.serialize(),P=ae.Buffer.from(O).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const D=r||{};D.encoding="base64","commitment"in D||(D.commitment=this.commitment);const F=[P,D],N=await this._rpcRequest("simulateTransaction",F),$=Be(N,D1);if("error"in $)throw new Error("failed to simulate transaction: "+$.error.message);return $.result}let i;if(t instanceof ps){let R=t;i=new ps,i.feePayer=R.feePayer,i.instructions=t.instructions,i.nonceInfo=R.nonceInfo,i.signatures=R.signatures}else i=ps.populate(t),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let R=this._disableBlockhashCaching;for(;;){const O=await this._blockhashWithExpiryBlockHeight(R);if(i.lastValidBlockHeight=O.lastValidBlockHeight,i.recentBlockhash=O.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const P=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(P)&&!this._blockhashInfo.transactionSignatures.includes(P)){this._blockhashInfo.simulatedSignatures.push(P);break}else R=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const R=(Array.isArray(n)?n:o.nonProgramIds()).map(O=>O.toBase58());l.accounts={encoding:"base64",addresses:R}}s&&(l.sigVerify=!0);const y=[u,l],A=await this._rpcRequest("simulateTransaction",y),b=Be(A,D1);if("error"in b){let R;if("data"in b.error&&(R=b.error.data.logs,R&&Array.isArray(R))){const O=`
    `,P=O+R.join(O);console.error(b.error.message,P)}throw new N1("failed to simulate transaction: "+b.error.message,R)}return b.result}async sendTransaction(t,r,n){if("version"in t){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(t.nonceInfo)t.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=t.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(t,r){const n=Do(t).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(t,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[t,n],a=await this._rpcRequest("sendTransaction",o),c=Be(a,eB);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new N1("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(t,r){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=r,n!==r.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(s=>{try{s(r.state)}catch{}})}}_onSubscriptionStateChange(t,r){const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,r=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,r){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){const{result:r,subscription:n}=Be(t,EA);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(t,r){const n=this._nextClientSubscriptionId++,i=M1([t.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...t,args:r,callbacks:new Set([t.callback]),state:"pending"}:s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];sr(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,r,n){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:r,subscription:n}=Be(t,AA);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(t,r,n,i){const s=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,r,n){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:r,subscription:n}=Be(t,rB);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(t){const{result:r,subscription:n}=Be(t,IA);this._handleServerNotification(n,[r])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:r,subscription:n}=Be(t,TA);this._handleServerNotification(n,[r])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${r}' events could not be found.`)}_buildArgs(t,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,r,n,i)}_wsOnSignatureNotification(t){const{result:r,subscription:n}=Be(t,kA);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(t,r,n){const i=this._buildArgs([t],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(t,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([t],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{r(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:r,subscription:n}=Be(t,CA);this._handleServerNotification(n,[r])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Fe([ze("instruction"),Vo("recentSlot"),Ut("bumpSeed")])},FreezeLookupTable:{index:1,layout:Fe([ze("instruction")])},ExtendLookupTable:{index:2,layout:Fe([ze("instruction"),Vo(),en(St(),Js(ze(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Fe([ze("instruction")])},CloseLookupTable:{index:4,layout:Fe([ze("instruction")])}}),new et("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:Fe([Ut("instruction"),ze("units"),ze("additionalFee")])},RequestHeapFrame:{index:1,layout:Fe([Ut("instruction"),ze("bytes")])},SetComputeUnitLimit:{index:2,layout:Fe([Ut("instruction"),ze("units")])},SetComputeUnitPrice:{index:3,layout:Fe([Ut("instruction"),Vo("microLamports")])}}),new et("ComputeBudget111111111111111111111111111111"),Fe([Ut("numSignatures"),Ut("padding"),jn("signatureOffset"),jn("signatureInstructionIndex"),jn("publicKeyOffset"),jn("publicKeyInstructionIndex"),jn("messageDataOffset"),jn("messageDataSize"),jn("messageInstructionIndex")]),new et("Ed25519SigVerify111111111111111111111111111"),Sh.utils.isValidPrivateKey,Sh.getPublicKey,Fe([Ut("numSignatures"),jn("signatureOffset"),Ut("signatureInstructionIndex"),jn("ethAddressOffset"),Ut("ethAddressInstructionIndex"),jn("messageDataOffset"),jn("messageDataSize"),Ut("messageInstructionIndex"),nr(20,"ethAddress"),nr(64,"signature"),Ut("recoveryId")]),new et("KeccakSecp256k11111111111111111111111111111");var J1;new et("StakeConfig11111111111111111111111111111111");class Q1{constructor(t,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}}J1=Q1,Q1.default=new J1(0,0,et.default),Object.freeze({Initialize:{index:0,layout:Fe([ze("instruction"),x6(),E6()])},Authorize:{index:1,layout:Fe([ze("instruction"),St("newAuthorized"),ze("stakeAuthorizationType")])},Delegate:{index:2,layout:Fe([ze("instruction")])},Split:{index:3,layout:Fe([ze("instruction"),Tn("lamports")])},Withdraw:{index:4,layout:Fe([ze("instruction"),Tn("lamports")])},Deactivate:{index:5,layout:Fe([ze("instruction")])},Merge:{index:7,layout:Fe([ze("instruction")])},AuthorizeWithSeed:{index:8,layout:Fe([ze("instruction"),St("newAuthorized"),ze("stakeAuthorizationType"),qo("authoritySeed"),St("authorityOwner")])}}),Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),new et("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:Fe([ze("instruction"),S6()])},Authorize:{index:1,layout:Fe([ze("instruction"),St("newAuthorized"),ze("voteAuthorizationType")])},Withdraw:{index:3,layout:Fe([ze("instruction"),Tn("lamports")])},UpdateValidatorIdentity:{index:4,layout:Fe([ze("instruction")])},AuthorizeWithSeed:{index:10,layout:Fe([ze("instruction"),A6()])}}),Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),new et("Vote111111111111111111111111111111111111111"),new et("Va1idator1nfo111111111111111111111111111111"),me({name:Se(),website:Qe(Se()),details:Qe(Se()),keybaseUsername:Qe(Se())}),new et("Vote111111111111111111111111111111111111111"),Fe([St("nodePubkey"),St("authorizedWithdrawer"),Ut("commission"),Zr(),en(Fe([Zr("slot"),ze("confirmationCount")]),Js(ze(),-8),"votes"),Ut("rootSlotValid"),Zr("rootSlot"),Zr(),en(Fe([Zr("epoch"),St("authorizedVoter")]),Js(ze(),-8),"authorizedVoters"),Fe([en(Fe([St("authorizedPubkey"),Zr("epochOfLastAuthorizedSwitch"),Zr("targetEpoch")]),32,"buf"),Zr("idx"),Ut("isEmpty")],"priorVoters"),Zr(),en(Fe([Zr("epoch"),Zr("credits"),Zr("prevCredits")]),Js(ze(),-8),"epochCredits"),Fe([Zr("slot"),Zr("timestamp")],"lastTimestamp")]);const ey="solana:signAndSendTransaction",sB="solana:signIn",ty="solana:signMessage",ry="solana:signTransaction",oB="standard:connect",aB="standard:disconnect",cB="standard:events";var ny=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},fB=(e,t,r)=>(ny(e,t,"read from private field"),r?r.call(e):t.get(e)),uB=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},lB=(e,t,r,n)=>(ny(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Hf;function hB(e){const t=({register:r})=>r(e);try{window.dispatchEvent(new dB(t))}catch(r){console.error(`wallet-standard:register-wallet event could not be dispatched
`,r)}try{window.addEventListener("wallet-standard:app-ready",({detail:r})=>t(r))}catch(r){console.error(`wallet-standard:app-ready event listener could not be added
`,r)}}class dB extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),uB(this,Hf,void 0),lB(this,Hf,t)}get detail(){return fB(this,Hf)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Hf=new WeakMap;const pB="solana:mainnet",gB="solana:devnet",yB="solana:testnet",wB="solana:localnet",Nh=[pB,gB,yB,wB];function Ph(e){return Nh.includes(e)}function Df(e){return"version"in e}var iy=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Wo=(e,t,r)=>(iy(e,t,"read from private field"),r?r.call(e):t.get(e)),Go=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Zo=(e,t,r,n)=>(iy(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),jf,qf,zf,Vf,Kf,Wf;const mB=Nh,bB=[ey,ry,ty],sy=class{constructor({address:e,publicKey:t,label:r,icon:n}){Go(this,jf,void 0),Go(this,qf,void 0),Go(this,zf,void 0),Go(this,Vf,void 0),Go(this,Kf,void 0),Go(this,Wf,void 0),new.target===sy&&Object.freeze(this),Zo(this,jf,e),Zo(this,qf,t),Zo(this,zf,mB),Zo(this,Vf,bB),Zo(this,Kf,r),Zo(this,Wf,n)}get address(){return Wo(this,jf)}get publicKey(){return Wo(this,qf).slice()}get chains(){return Wo(this,zf).slice()}get features(){return Wo(this,Vf).slice()}get label(){return Wo(this,Kf)}get icon(){return Wo(this,Wf)}};let vB=sy;jf=new WeakMap,qf=new WeakMap,zf=new WeakMap,Vf=new WeakMap,Kf=new WeakMap,Wf=new WeakMap;const _B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAAEH5aXCAAAIpklEQVR4nO2d/7WiOhDHv3PPKwA6wA6wgsUKVjvADtwKnlagHWAH3leBbgWwFehWAB3k/SHxIiYhCRDQ6+ecnOMPwmSYZJIMIQAlTI8YAIhngAFkmgEAPmR/nE4nea56oQEw/nOSJExwCBNegPqBnufdfZfqRETgf1U/C3VaLBa82CAioUoPkupn5Rmrv/0juDB3EkQSre20NM1kXI2oouRBp7YCFvpI65xWhul0evucZZk4h6xy8u95nt/p8WBI4KsGcCMq61i1MgLAarWS61DP5Ps+PM+7l66qkFaVMQzDu/+FSqtsaWw48wpYZggBpKbStAQQ0Qdj7NCXAOCqsVUrN0VpECLCdDrFZrMBEQmTDkpN6icRHSqqrHUaqxZviPyEMsEqrbTrr0rYer1W5m0UIip5VZjv+1olVJKm6c3xeZ7H0jRlx+Px9ls1SZ17kxBdwjCU/ueknViNp6yElII8AHlH570Q0eROSI+aFETku7DJZHgH+RpCZA5POYCXIXUFFVcBgQsBwIIg0PIGjUJ4iuNY+n9nQkRw51mfjdRRzk7Ky6ns/XzfR1EU7QddTNH75fnVE0kHy+UJlJer6Tf+exRF0stl1E5UGqmQCqmPr9sIkgrh15rPONsIarxcn5+fwlZuIkgphJ9oNpuBiLDZbAAAv379MrOLshWVrNdroVs5n89atauz0YpKyLvTMhay61MA8YgFYywFEDYcb8OEiC53lZ11O8Drmx0R/eJf+NV6JgXqZEQ0pSdX4oYTn+ICJy7FBVaKVOOSo8Gm/0PZ8Ypm7dvtVjr+50nVf9pi1UZMh45N5HkuHUXq0nkbYWX0qCltt9tbHt/3218cGzOiNvGCoProcjgchONEU1pXrWp20VXVOX1RFHdxP4sidVu1WCUoydEJGnuehyAIbt/5lMGEXvoRG4XiOL59tgmntFZENWW3tZANVookSXL7rNM5yhTSiodrYqVIHMd3VYGI1MGUkrpCRVF0p5CVryvJ8/zB7api9Kp81WTT8wtvQuried5DtCPLMqM2wO+K6lhURWdei1V67fP5jPl8/nCM53lYr9d3x6ZpijRNwRh7uNVrWoDRsV6vjfO81MTqMnQhusDJfTgH7Kv3+nIA7SYFwzAhosvNaxGRXwbTJopMY2FPX1ykRzHGYsbYuUNH1BUHdg1fPVCPNG4BrEQHjhCfiAr+5dnbyJSIMuDLa/UVYHaBT0QFMcYCAOehS9MGIqJX6dmdrLRwweerKPLNg9hj5PsqMpvNUBRF84GOsZqz+76vFUGvBtqiKLIRpY/pqC2Kolu0o76GPM9zFgRB4/2RJElajRxFtFKkqozneY0K1NPxeOxMkdaNnd/bsGk3s9mss9t4vXgtHt4RpXpbybKsG2XaVq1qWq1W2uep560vBzSllSKidmHSkOv5687DhFZVKwzDu8g8ACyXS+z3e638fIUbp1Uw21TzqkV4sJk/bwYLy9QD2rZW6UQRxtopU80zn89Ni3Q9h2kGmSKM2StTv7NrQ6eKMGavzOgUYcxOmVEqwpi5Ms4VWa1W2rfITJRxrki9cKbHy5RxroiNUJEyaZq2OudDmawyWYyRmpQZRJE4jq0Eq5QZRJG64C6UGUyR+pK/podiqoiUaauI9eh3tVrd3RfnyzF0Vvb8/fvXVqwcK/UrhGEovKrz+fxuTn44HKTH1pMNnSwYqHaSpkn0YOtginBMIilVt12fk9jQyxKO7XYrjG9FUfTQEXKqytgwqtsKfJGmTZFGFcT2PO9hHq/LqCzShlFZpA1vRUbG5VXayPIDwH7oUrSFiPYfRGS8fdLI2AFfa1ECPOcyjoKIfKBs7OXirWdYcFYl40oAFa9FRJdyBd1+iFIZMiGiu7tDjUumy2r3L4C4nzJ9G/YANsqli5AYpDTCAc+7Fm3sZAAWIuPUl2YGuG4i9mwrG5+VAtdVmRf+w833sus62TPexnCJB+BcXnsAX8OTBO8+Ymj2RLQkdt1SNhm6NG8AAEtijJ0BBEOX5A2AF5qsvwyvEgZ6Gd4GGRlODLLZbEa5+HyMODHI6XSC7/uYTqdvwzTg1GVlWWZtmCzLsNvtsFgsbkvXVWkymWCxWGC/3+NyufSjUB9Y3f41RLbyPAxD4dLePM8fFh11lYIg6OVJj64Y1CBVw6Rpqr06pctk8iiCC5zMQ2azmd3G0AKCIEAURfjx4weCILgl4Oshrt+/fyPLMpxOJ23XGIYhjsdj663WWuPC6k0tRJXiOLbe9azK8XjUaoEyN+qK0RukD3+fpmnjUrLDQetlPZ0zqEGiKGpcXzqkYdo+rmbD4AbhDGkY1YjOtVFGYxDOUIaR7e7eVyWQMTqDcIYwjKylmCzxb8toDcJxaRjVBouuWsnoo71xHIMx9vAUc53lcgki0n6yWYTnedJNKP78+WN9XhNGbxCOK8PIDNJ2B09dnsYgHJctZgicGERW69qEU17VME4M8vPnT+l/u127186YGqarmFpvOBk6MMbm87l0BNNFrIqjMyrj770UIZuP9PHyChHO+pAkSaSR1Mlk0tlNJJ0WUxQFptMpfN931lnr4swgnuchTeXvHp5MJp36+ac1jJN2WCHPc2VAT+VO2qDrymSu1ZXLGmxfeFWfwpPN/vBNqGJWqvTyBmGsubXUL4hN+OJ8PrPVamW1KeG3Mwgnz/NB7qeP0SCjmKnzDp8xhuPxePd6pD5lVt8Pkud5u3eCdIUTs7cgSZJOWk8QBGy9XjfOeWSt9Vu5rDFSN8y3clljhLtR167s/XzIyHi3kJHxNsjIeBtkZHwA+By6EG9ufL7My+NfBP+jfHPYs20F9IpMiKio7s/k47opyhu3ZLi+uO0CCHYDYoyFAI5473nSNwWAGX8dIOdhlEVEfGcwH+V+bW86ZYdri/DrxgA0NjDjlJ3/HMBPXPfRCroq4YtywdUd/Qfgs/qWTxX/A1qZSkCGMimqAAAAAElFTkSuQmCC";function xB(e,t){return EB(e,t)}function EB(e,t){if(e===t)return!0;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}var Uh=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},nt=(e,t,r)=>(Uh(e,t,"read from private field"),r?r.call(e):t.get(e)),Hr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Fh=(e,t,r,n)=>(Uh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Hh=(e,t,r)=>(Uh(e,t,"access private method"),r),no,Dh,jh,qh,on,dn,zh,Gf,Vh,Kh,oy,Yo,Zf,Wh,Gh,Zh,Yf,Yh,Xf,Xh;const SB="ONTO:",ay=class{constructor(e){Hr(this,Gf),Hr(this,Kh),Hr(this,no,{}),Hr(this,Dh,"1.0.0"),Hr(this,jh,"ONTO"),Hr(this,qh,_B),Hr(this,on,null),Hr(this,dn,void 0),Hr(this,zh,(t,r)=>{var n;return(n=nt(this,no)[t])!=null&&n.push(r)||(nt(this,no)[t]=[r]),()=>Hh(this,Kh,oy).call(this,t,r)}),Hr(this,Yo,()=>{var t;const r=(t=nt(this,dn).publicKey)==null?void 0:t.toBase58();if(r){const n=nt(this,dn).publicKey.toBytes(),i=nt(this,on);(!i||i.address!==r||!xB(i.publicKey,n))&&(Fh(this,on,new vB({address:r,publicKey:n})),Hh(this,Gf,Vh).call(this,"change",{accounts:this.accounts}))}}),Hr(this,Zf,()=>{nt(this,on)&&(Fh(this,on,null),Hh(this,Gf,Vh).call(this,"change",{accounts:this.accounts}))}),Hr(this,Wh,()=>{nt(this,dn).publicKey?nt(this,Yo).call(this):nt(this,Zf).call(this)}),Hr(this,Gh,async({silent:t}={})=>(nt(this,on)||await nt(this,dn).connect(t?{onlyIfTrusted:!0}:void 0),nt(this,Yo).call(this),{accounts:this.accounts})),Hr(this,Zh,async()=>{await nt(this,dn).disconnect()}),Hr(this,Yf,async(...t)=>{if(!nt(this,on))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:s,options:o}=t[0],{minContextSlot:a,preflightCommitment:c,skipPreflight:u,maxRetries:l}=o||{};if(i!==nt(this,on))throw new Error("invalid account");if(!Ph(s))throw new Error("invalid chain");const{signature:y}=await nt(this,dn).signAndSendTransaction(Xa.deserialize(n),{preflightCommitment:c,minContextSlot:a,maxRetries:l,skipPreflight:u});r.push({signature:Tr.decode(y)})}else if(t.length>1)for(const n of t)r.push(...await nt(this,Yf).call(this,n));return r}),Hr(this,Yh,async(...t)=>{if(!nt(this,on))throw new Error("not connected");const r=[];if(t.length===1){const{transaction:n,account:i,chain:s}=t[0];if(i!==nt(this,on))throw new Error("invalid account");if(s&&!Ph(s))throw new Error("invalid chain");const o=await nt(this,dn).signTransaction(Xa.deserialize(n)),a=Df(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}));r.push({signedTransaction:a})}else if(t.length>1){let n;for(const o of t){if(o.account!==nt(this,on))throw new Error("invalid account");if(o.chain){if(!Ph(o.chain))throw new Error("invalid chain");if(n){if(o.chain!==n)throw new Error("conflicting chain")}else n=o.chain}}const i=t.map(({transaction:o})=>Xa.deserialize(o)),s=await nt(this,dn).signAllTransactions(i);r.push(...s.map(o=>({signedTransaction:Df(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})))}return r}),Hr(this,Xf,async(...t)=>{if(!nt(this,on))throw new Error("not connected");const r=[];if(t.length===1){const{message:n,account:i}=t[0];if(i!==nt(this,on))throw new Error("invalid account");const{signature:s}=await nt(this,dn).signMessage(n);r.push({signedMessage:n,signature:s})}else if(t.length>1)for(const n of t)r.push(...await nt(this,Xf).call(this,n));return r}),Hr(this,Xh,async(...t)=>{const r=[];if(t.length>1)for(const n of t)r.push(await nt(this,dn).signIn(n));else return[await nt(this,dn).signIn(t[0])];return r}),new.target===ay&&Object.freeze(this),Fh(this,dn,e),e.on("connect",nt(this,Yo),this),e.on("disconnect",nt(this,Zf),this),e.on("accountChanged",nt(this,Wh),this),nt(this,Yo).call(this)}get version(){return nt(this,Dh)}get name(){return nt(this,jh)}get icon(){return nt(this,qh)}get chains(){return Nh.slice()}get features(){return{[oB]:{version:"1.0.0",connect:nt(this,Gh)},[aB]:{version:"1.0.0",disconnect:nt(this,Zh)},[cB]:{version:"1.0.0",on:nt(this,zh)},[ey]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:nt(this,Yf)},[ry]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:nt(this,Yh)},[ty]:{version:"1.0.0",signMessage:nt(this,Xf)},[sB]:{version:"1.0.0",signIn:nt(this,Xh)},[SB]:{ONTO:nt(this,dn)}}}get accounts(){return nt(this,on)?[nt(this,on)]:[]}};let cy=ay;no=new WeakMap,Dh=new WeakMap,jh=new WeakMap,qh=new WeakMap,on=new WeakMap,dn=new WeakMap,zh=new WeakMap,Gf=new WeakSet,Vh=function(e,...t){var r;(r=nt(this,no)[e])==null||r.forEach(n=>n.apply(null,t))},Kh=new WeakSet,oy=function(e,t){var r;nt(this,no)[e]=(r=nt(this,no)[e])==null?void 0:r.filter(n=>t!==n)},Yo=new WeakMap,Zf=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,Zh=new WeakMap,Yf=new WeakMap,Yh=new WeakMap,Xf=new WeakMap,Xh=new WeakMap;function AB(e){hB(new cy(e))}class BB{constructor(t){this.provider=t}async connect(t){const r=await this.provider.internalRequest({method:"requestAccounts",params:{options:t}});return this.provider.emit("connect"),{publicKey:new et(r)}}async signTransaction(t){let r;Df(t)?r=su.bufferToHex(t.message.serialize()):r=su.bufferToHex(t.serializeMessage());const n=await this.provider.internalRequest({method:"signTransaction",params:{message:r}});return this.provider.mapSignedTransaction(t,n.signature)}async request(t,r){var n;switch(t.method){case"signTransaction":return this.signTransaction(t.params);case"connect":return this.connect((n=t?.params)==null?void 0:n.options)}return r()}}var Jh=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Jf=(e,t,r)=>(Jh(e,t,"read from private field"),r?r.call(e):t.get(e)),Qf=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},eu=(e,t,r,n)=>(Jh(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),tu=(e,t,r)=>(Jh(e,t,"access private method"),r),ru,nu,Xo,Jo,tc;const iu=class extends Pl{constructor(e){super(),Qf(this,Jo),Qf(this,ru,!1),Qf(this,nu,!0),Qf(this,Xo,!1),this.isONTO=!0,this.isPhantom=!0,e&&(typeof e.enableAdapter<"u"&&eu(this,nu,e.enableAdapter),typeof e.cluster<"u"&&(this.connection=new iB(e.cluster,"confirmed")),typeof e.disableMobileAdapter<"u"&&eu(this,ru,e.disableMobileAdapter),typeof e.isOnto<"u"&&(this.isONTO=e.isOnto)),Jf(this,nu)&&AB(this),Jf(this,ru)||(this.mobileAdapter=new BB(this))}static bufferToHex(e){return"0x"+ae.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ae.Buffer.from([]);try{typeof e=="string"?t=ae.Buffer.from(e.replace("0x",""),"hex"):t=ae.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}getInstanceWithAdapter(){return new cy(this)}async connect(e){const t=await tu(this,Jo,tc).call(this,{method:"connect",params:{options:e}});return this.publicKey=t.publicKey,eu(this,Xo,!0),t}async getAccount(){return(await this.connect()).publicKey.toBase58()}disconnect(){return new Promise(e=>{this.publicKey=null,this.emit("disconnect"),eu(this,Xo,!1),e()})}async signAndSendTransaction(e,t){const r=await this.signTransaction(e);return{signature:await this.connection.sendRawTransaction(r.serialize(),t)}}signTransaction(e){return tu(this,Jo,tc).call(this,{method:"signTransaction",params:e})}signAllTransactions(e){return Promise.all(e.map(t=>this.signTransaction(t)))}async signRawTransactionMulti(e){return(await tu(this,Jo,tc).call(this,{method:"signRawTransactionMulti",params:{transactions:e.map(t=>{const r=JSON.stringify(t);let n="legacy",i;Df(t)?(n=t.version,i=ae.Buffer.from(t.message.serialize()).toString("base64")):i=ae.Buffer.from(t.serializeMessage()).toString("base64");const s=ae.Buffer.from(t.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("base64");return{data:r,raw:s,rawMessage:i,version:n}})}})).map((t,r)=>this.mapSignedTransaction(e[r],t))}async signMessage(e){var t;const r=iu.bufferToHex(e),n=await tu(this,Jo,tc).call(this,{method:"signMessage",params:{data:r}});return{signature:ae.Buffer.from(iu.messageToBuffer(n).buffer),publicKey:(t=this.publicKey)==null?void 0:t.toBase58()}}signIn(e){throw new Error("Method not implemented.")}getNetwork(){return iu.NETWORK}mapSignedTransaction(e,t){return e.addSignature(this.publicKey,Tr.decode(t)),e}request(e){throw new Error("Not implemented")}internalRequest(e){return super.request(e)}isConnected(){return Jf(this,Xo)}connected(){return Jf(this,Xo)}};let su=iu;ru=new WeakMap,nu=new WeakMap,Xo=new WeakMap,Jo=new WeakSet,tc=function(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()},su.NETWORK="solana";var Qo={},gs={},ou={},au={},cu={},fy={},ea={},fu={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.output=Dr.exists=Dr.hash=Dr.bytes=Dr.bool=Dr.number=void 0;function uu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}Dr.number=uu;function uy(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}Dr.bool=uy;function IB(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Qh(e,...t){if(!IB(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}Dr.bytes=Qh;function ly(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");uu(e.outputLen),uu(e.blockLen)}Dr.hash=ly;function hy(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Dr.exists=hy;function dy(e,t){Qh(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Dr.output=dy;const RB={number:uu,bool:uy,bytes:Qh,hash:ly,exists:hy,output:dy};Dr.default=RB;var Di={},lu={};Object.defineProperty(lu,"__esModule",{value:!0}),lu.crypto=void 0,lu.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=lu,r=q=>new Uint8Array(q.buffer,q.byteOffset,q.byteLength);e.u8=r;const n=q=>new Uint32Array(q.buffer,q.byteOffset,Math.floor(q.byteLength/4));e.u32=n;function i(q){return q instanceof Uint8Array||q!=null&&typeof q=="object"&&q.constructor.name==="Uint8Array"}const s=q=>new DataView(q.buffer,q.byteOffset,q.byteLength);e.createView=s;const o=(q,ee)=>q<<32-ee|q>>>ee;if(e.rotr=o,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(q,ee)=>ee.toString(16).padStart(2,"0"));function c(q){if(!i(q))throw new Error("Uint8Array expected");let ee="";for(let ie=0;ie<q.length;ie++)ee+=a[q[ie]];return ee}e.bytesToHex=c;const u={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function l(q){if(q>=u._0&&q<=u._9)return q-u._0;if(q>=u._A&&q<=u._F)return q-(u._A-10);if(q>=u._a&&q<=u._f)return q-(u._a-10)}function y(q){if(typeof q!="string")throw new Error("hex string expected, got "+typeof q);const ee=q.length,ie=ee/2;if(ee%2)throw new Error("padded hex string expected, got unpadded hex of length "+ee);const Q=new Uint8Array(ie);for(let I=0,g=0;I<ie;I++,g+=2){const f=l(q.charCodeAt(g)),h=l(q.charCodeAt(g+1));if(f===void 0||h===void 0){const m=q[g]+q[g+1];throw new Error('hex string expected, got non-hex character "'+m+'" at index '+g)}Q[I]=f*16+h}return Q}e.hexToBytes=y;const A=async()=>{};e.nextTick=A;async function b(q,ee,ie){let Q=Date.now();for(let I=0;I<q;I++){ie(I);const g=Date.now()-Q;g>=0&&g<ee||(await(0,e.nextTick)(),Q+=g)}}e.asyncLoop=b;function R(q){if(typeof q!="string")throw new Error(`utf8ToBytes expected string, got ${typeof q}`);return new Uint8Array(new TextEncoder().encode(q))}e.utf8ToBytes=R;function O(q){if(typeof q=="string"&&(q=R(q)),!i(q))throw new Error(`expected Uint8Array, got ${typeof q}`);return q}e.toBytes=O;function P(...q){let ee=0;for(let Q=0;Q<q.length;Q++){const I=q[Q];if(!i(I))throw new Error("Uint8Array expected");ee+=I.length}const ie=new Uint8Array(ee);for(let Q=0,I=0;Q<q.length;Q++){const g=q[Q];ie.set(g,I),I+=g.length}return ie}e.concatBytes=P;class D{clone(){return this._cloneInto()}}e.Hash=D;const F={}.toString;function N(q,ee){if(ee!==void 0&&F.call(ee)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(q,ee)}e.checkOpts=N;function $(q){const ee=Q=>q().update(O(Q)).digest(),ie=q();return ee.outputLen=ie.outputLen,ee.blockLen=ie.blockLen,ee.create=()=>q(),ee}e.wrapConstructor=$;function z(q){const ee=(Q,I)=>q(I).update(O(Q)).digest(),ie=q({});return ee.outputLen=ie.outputLen,ee.blockLen=ie.blockLen,ee.create=Q=>q(Q),ee}e.wrapConstructorWithOpts=z;function Z(q){const ee=(Q,I)=>q(I).update(O(Q)).digest(),ie=q({});return ee.outputLen=ie.outputLen,ee.blockLen=ie.blockLen,ee.create=Q=>q(Q),ee}e.wrapXOFConstructorWithOpts=Z;function G(q=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(q));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=G}(Di),Object.defineProperty(fu,"__esModule",{value:!0}),fu.SHA2=void 0;const ed=Dr,rc=Di;function TB(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}class kB extends rc.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,rc.createView)(this.buffer)}update(t){(0,ed.exists)(this);const{view:r,buffer:n,blockLen:i}=this;t=(0,rc.toBytes)(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,rc.createView)(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,ed.exists)(this),(0,ed.output)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let y=o;y<i;y++)r[y]=0;TB(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=(0,rc.createView)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,l[y],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}fu.SHA2=kB,Object.defineProperty(ea,"__esModule",{value:!0}),ea.sha224=ea.sha256=void 0;const CB=fu,zn=Di,LB=(e,t,r)=>e&t^~e&r,$B=(e,t,r)=>e&t^e&r^t&r,OB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ys=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ws=new Uint32Array(64);class py extends CB.SHA2{constructor(){super(64,32,8,!1),this.A=ys[0]|0,this.B=ys[1]|0,this.C=ys[2]|0,this.D=ys[3]|0,this.E=ys[4]|0,this.F=ys[5]|0,this.G=ys[6]|0,this.H=ys[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let y=0;y<16;y++,r+=4)ws[y]=t.getUint32(r,!1);for(let y=16;y<64;y++){const A=ws[y-15],b=ws[y-2],R=(0,zn.rotr)(A,7)^(0,zn.rotr)(A,18)^A>>>3,O=(0,zn.rotr)(b,17)^(0,zn.rotr)(b,19)^b>>>10;ws[y]=O+ws[y-7]+R+ws[y-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let y=0;y<64;y++){const A=(0,zn.rotr)(a,6)^(0,zn.rotr)(a,11)^(0,zn.rotr)(a,25),b=l+A+LB(a,c,u)+OB[y]+ws[y]|0,O=((0,zn.rotr)(n,2)^(0,zn.rotr)(n,13)^(0,zn.rotr)(n,22))+$B(n,i,s)|0;l=u,u=c,c=a,a=o+b|0,o=s,s=i,i=n,n=b+O|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,i,s,o,a,c,u,l)}roundClean(){ws.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class MB extends py{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}ea.sha256=(0,zn.wrapConstructor)(()=>new py),ea.sha224=(0,zn.wrapConstructor)(()=>new MB);var ht={},st={};Object.defineProperty(st,"__esModule",{value:!0}),st.validateObject=st.createHmacDrbg=st.bitMask=st.bitSet=st.bitGet=st.bitLen=st.utf8ToBytes=st.equalBytes=st.concatBytes=st.ensureBytes=st.numberToVarBytesBE=st.numberToBytesLE=st.numberToBytesBE=st.bytesToNumberLE=st.bytesToNumberBE=st.hexToBytes=st.hexToNumber=st.numberToHexUnpadded=st.bytesToHex=st.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gy=BigInt(0),hu=BigInt(1),NB=BigInt(2);function ta(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}st.isBytes=ta;const PB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function td(e){if(!ta(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=PB[e[r]];return t}st.bytesToHex=td;function yy(e){const t=e.toString(16);return t.length&1?`0${t}`:t}st.numberToHexUnpadded=yy;function rd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}st.hexToNumber=rd;const ji={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wy(e){if(e>=ji._0&&e<=ji._9)return e-ji._0;if(e>=ji._A&&e<=ji._F)return e-(ji._A-10);if(e>=ji._a&&e<=ji._f)return e-(ji._a-10)}function du(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=wy(e.charCodeAt(s)),a=wy(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}st.hexToBytes=du;function UB(e){return rd(td(e))}st.bytesToNumberBE=UB;function FB(e){if(!ta(e))throw new Error("Uint8Array expected");return rd(td(Uint8Array.from(e).reverse()))}st.bytesToNumberLE=FB;function my(e,t){return du(e.toString(16).padStart(t*2,"0"))}st.numberToBytesBE=my;function HB(e,t){return my(e,t).reverse()}st.numberToBytesLE=HB;function DB(e){return du(yy(e))}st.numberToVarBytesBE=DB;function jB(e,t,r){let n;if(typeof t=="string")try{n=du(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(ta(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}st.ensureBytes=jB;function by(...e){let t=0;for(let i=0;i<e.length;i++){const s=e[i];if(!ta(s))throw new Error("Uint8Array expected");t+=s.length}let r=new Uint8Array(t),n=0;for(let i=0;i<e.length;i++){const s=e[i];r.set(s,n),n+=s.length}return r}st.concatBytes=by;function qB(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}st.equalBytes=qB;function zB(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}st.utf8ToBytes=zB;function VB(e){let t;for(t=0;e>gy;e>>=hu,t+=1);return t}st.bitLen=VB;function KB(e,t){return e>>BigInt(t)&hu}st.bitGet=KB;const WB=(e,t,r)=>e|(r?hu:gy)<<BigInt(t);st.bitSet=WB;const GB=e=>(NB<<BigInt(e-1))-hu;st.bitMask=GB;const nd=e=>new Uint8Array(e),vy=e=>Uint8Array.from(e);function ZB(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=nd(e),i=nd(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...y)=>r(i,n,...y),c=(y=nd())=>{i=a(vy([0]),y),n=a(),y.length!==0&&(i=a(vy([1]),y),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const A=[];for(;y<t;){n=a();const b=n.slice();A.push(b),y+=n.length}return by(...A)};return(y,A)=>{o(),c(y);let b;for(;!(b=A(u()));)c();return o(),b}}st.createHmacDrbg=ZB;const YB={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ta(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function XB(e,t,r={}){const n=(i,s,o)=>{const a=YB[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}st.validateObject=XB,Object.defineProperty(ht,"__esModule",{value:!0}),ht.mapHashToField=ht.getMinHashLength=ht.getFieldBytesLength=ht.hashToPrivateScalar=ht.FpSqrtEven=ht.FpSqrtOdd=ht.Field=ht.nLength=ht.FpIsSquare=ht.FpDiv=ht.FpInvertBatch=ht.FpPow=ht.validateField=ht.isNegativeLE=ht.FpSqrt=ht.tonelliShanks=ht.invert=ht.pow2=ht.pow=ht.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $n=st,jr=BigInt(0),Jt=BigInt(1),ms=BigInt(2),JB=BigInt(3),id=BigInt(4),_y=BigInt(5),xy=BigInt(8);BigInt(9),BigInt(16);function On(e,t){const r=e%t;return r>=jr?r:t+r}ht.mod=On;function Ey(e,t,r){if(r<=jr||t<jr)throw new Error("Expected power/modulo > 0");if(r===Jt)return jr;let n=Jt;for(;t>jr;)t&Jt&&(n=n*e%r),e=e*e%r,t>>=Jt;return n}ht.pow=Ey;function QB(e,t,r){let n=e;for(;t-- >jr;)n*=n,n%=r;return n}ht.pow2=QB;function pu(e,t){if(e===jr||t<=jr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=On(e,t),n=t,i=jr,s=Jt;for(;r!==jr;){const a=n/r,c=n%r,u=i-s*a;n=r,r=c,i=s,s=u}if(n!==Jt)throw new Error("invert: does not exist");return On(i,t)}ht.invert=pu;function Sy(e){const t=(e-Jt)/ms;let r,n,i;for(r=e-Jt,n=0;r%ms===jr;r/=ms,n++);for(i=ms;i<e&&Ey(i,t,e)!==e-Jt;i++);if(n===1){const o=(e+Jt)/id;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+Jt)/ms;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,i),r),y=a.pow(c,s),A=a.pow(c,r);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let b=1;for(let O=a.sqr(A);b<u&&!a.eql(O,a.ONE);b++)O=a.sqr(O);const R=a.pow(l,Jt<<BigInt(u-b-1));l=a.sqr(R),y=a.mul(y,R),A=a.mul(A,l),u=b}return y}}ht.tonelliShanks=Sy;function Ay(e){if(e%id===JB){const t=(e+Jt)/id;return function(n,i){const s=n.pow(i,t);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%xy===_y){const t=(e-_y)/xy;return function(n,i){const s=n.mul(i,ms),o=n.pow(s,t),a=n.mul(i,o),c=n.mul(n.mul(a,ms),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return Sy(e)}ht.FpSqrt=Ay;const e8=(e,t)=>(On(e,t)&Jt)===Jt;ht.isNegativeLE=e8;const t8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r8(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=t8.reduce((n,i)=>(n[i]="function",n),t);return(0,$n.validateObject)(e,r)}ht.validateField=r8;function By(e,t,r){if(r<jr)throw new Error("Expected power > 0");if(r===jr)return e.ONE;if(r===Jt)return t;let n=e.ONE,i=t;for(;r>jr;)r&Jt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Jt;return n}ht.FpPow=By;function Iy(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}ht.FpInvertBatch=Iy;function n8(e,t,r){return e.mul(t,typeof r=="bigint"?pu(r,e.ORDER):e.inv(r))}ht.FpDiv=n8;function i8(e){const t=(e.ORDER-Jt)/ms;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}ht.FpIsSquare=i8;function sd(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}ht.nLength=sd;function s8(e,t,r=!1,n={}){if(e<=jr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=sd(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Ay(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:(0,$n.bitMask)(i),ZERO:jr,ONE:Jt,create:c=>On(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return jr<=c&&c<e},is0:c=>c===jr,isOdd:c=>(c&Jt)===Jt,neg:c=>On(-c,e),eql:(c,u)=>c===u,sqr:c=>On(c*c,e),add:(c,u)=>On(c+u,e),sub:(c,u)=>On(c-u,e),mul:(c,u)=>On(c*u,e),pow:(c,u)=>By(a,c,u),div:(c,u)=>On(c*pu(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>pu(c,e),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>Iy(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?(0,$n.numberToBytesLE)(c,s):(0,$n.numberToBytesBE)(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?(0,$n.bytesToNumberLE)(c):(0,$n.bytesToNumberBE)(c)}});return Object.freeze(a)}ht.Field=s8;function o8(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}ht.FpSqrtOdd=o8;function a8(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}ht.FpSqrtEven=a8;function c8(e,t,r=!1){e=(0,$n.ensureBytes)("privateHash",e);const n=e.length,i=sd(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=r?(0,$n.bytesToNumberLE)(e):(0,$n.bytesToNumberBE)(e);return On(s,t-Jt)+Jt}ht.hashToPrivateScalar=c8;function od(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}ht.getFieldBytesLength=od;function Ry(e){const t=od(e);return t+Math.ceil(t/2)}ht.getMinHashLength=Ry;function f8(e,t,r=!1){const n=e.length,i=od(t),s=Ry(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?(0,$n.bytesToNumberBE)(e):(0,$n.bytesToNumberLE)(e),a=On(o,t-Jt)+Jt;return r?(0,$n.numberToBytesLE)(a,i):(0,$n.numberToBytesBE)(a,i)}ht.mapHashToField=f8;var ad={},ra={};Object.defineProperty(ra,"__esModule",{value:!0}),ra.validateBasic=ra.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ty=ht,u8=st,l8=BigInt(0),cd=BigInt(1);function h8(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>l8;)s&cd&&(o=o.add(a)),a=a.double(),s>>=cd;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let u=i,l=u;for(let y=0;y<o;y++){l=u,c.push(l);for(let A=1;A<a;A++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let u=e.ZERO,l=e.BASE;const y=BigInt(2**i-1),A=2**i,b=BigInt(i);for(let R=0;R<a;R++){const O=R*c;let P=Number(o&y);o>>=b,P>c&&(P-=A,o+=cd);const D=O,F=O+Math.abs(P)-1,N=R%2!==0,$=P<0;P===0?l=l.add(r(N,s[D])):u=u.add(r($,s[F]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}ra.wNAF=h8;function d8(e){return(0,Ty.validateField)(e.Fp),(0,u8.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Ty.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}ra.validateBasic=d8,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ht,r=st,n=st,i=ra;function s(F){const N=(0,i.validateBasic)(F);r.validateObject(N,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:$,Fp:z,a:Z}=N;if($){if(!z.eql(Z,z.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof $!="object"||typeof $.beta!="bigint"||typeof $.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...N})}const{bytesToNumberBE:o,hexToBytes:a}=r;e.DER={Err:class extends Error{constructor(N=""){super(N)}},_parseInt(F){const{Err:N}=e.DER;if(F.length<2||F[0]!==2)throw new N("Invalid signature integer tag");const $=F[1],z=F.subarray(2,$+2);if(!$||z.length!==$)throw new N("Invalid signature integer: wrong length");if(z[0]&128)throw new N("Invalid signature integer: negative");if(z[0]===0&&!(z[1]&128))throw new N("Invalid signature integer: unnecessary leading zero");return{d:o(z),l:F.subarray($+2)}},toSig(F){const{Err:N}=e.DER,$=typeof F=="string"?a(F):F;if(!r.isBytes($))throw new Error("ui8a expected");let z=$.length;if(z<2||$[0]!=48)throw new N("Invalid signature tag");if($[1]!==z-2)throw new N("Invalid signature: incorrect length");const{d:Z,l:G}=e.DER._parseInt($.subarray(2)),{d:q,l:ee}=e.DER._parseInt(G);if(ee.length)throw new N("Invalid signature: left bytes after parsing");return{r:Z,s:q}},hexFromSig(F){const N=Q=>Number.parseInt(Q[0],16)&8?"00"+Q:Q,$=Q=>{const I=Q.toString(16);return I.length&1?`0${I}`:I},z=N($(F.s)),Z=N($(F.r)),G=z.length/2,q=Z.length/2,ee=$(G),ie=$(q);return`30${$(q+G+4)}02${ie}${Z}02${ee}${z}`}};const c=BigInt(0),u=BigInt(1),l=BigInt(2),y=BigInt(3),A=BigInt(4);function b(F){const N=s(F),{Fp:$}=N,z=N.toBytes||((m,_,x)=>{const E=_.toAffine();return r.concatBytes(Uint8Array.from([4]),$.toBytes(E.x),$.toBytes(E.y))}),Z=N.fromBytes||(m=>{const _=m.subarray(1),x=$.fromBytes(_.subarray(0,$.BYTES)),E=$.fromBytes(_.subarray($.BYTES,2*$.BYTES));return{x,y:E}});function G(m){const{a:_,b:x}=N,E=$.sqr(m),T=$.mul(E,m);return $.add($.add(T,$.mul(m,_)),x)}if(!$.eql($.sqr(N.Gy),G(N.Gx)))throw new Error("bad generator point: equation left != right");function q(m){return typeof m=="bigint"&&c<m&&m<N.n}function ee(m){if(!q(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ie(m){const{allowedPrivateKeyLengths:_,nByteLength:x,wrapPrivateKey:E,n:T}=N;if(_&&typeof m!="bigint"){if(r.isBytes(m)&&(m=r.bytesToHex(m)),typeof m!="string"||!_.includes(m.length))throw new Error("Invalid key");m=m.padStart(x*2,"0")}let B;try{B=typeof m=="bigint"?m:r.bytesToNumberBE((0,n.ensureBytes)("private key",m,x))}catch{throw new Error(`private key must be ${x} bytes, hex or bigint, not ${typeof m}`)}return E&&(B=t.mod(B,T)),ee(B),B}const Q=new Map;function I(m){if(!(m instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(_,x,E){if(this.px=_,this.py=x,this.pz=E,_==null||!$.isValid(_))throw new Error("x required");if(x==null||!$.isValid(x))throw new Error("y required");if(E==null||!$.isValid(E))throw new Error("z required")}static fromAffine(_){const{x,y:E}=_||{};if(!_||!$.isValid(x)||!$.isValid(E))throw new Error("invalid affine point");if(_ instanceof g)throw new Error("projective point not allowed");const T=B=>$.eql(B,$.ZERO);return T(x)&&T(E)?g.ZERO:new g(x,E,$.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const x=$.invertBatch(_.map(E=>E.pz));return _.map((E,T)=>E.toAffine(x[T])).map(g.fromAffine)}static fromHex(_){const x=g.fromAffine(Z((0,n.ensureBytes)("pointHex",_)));return x.assertValidity(),x}static fromPrivateKey(_){return g.BASE.multiply(ie(_))}_setWindowSize(_){this._WINDOW_SIZE=_,Q.delete(this)}assertValidity(){if(this.is0()){if(N.allowInfinityPoint&&!$.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:_,y:x}=this.toAffine();if(!$.isValid(_)||!$.isValid(x))throw new Error("bad point: x or y not FE");const E=$.sqr(x),T=G(_);if(!$.eql(E,T))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:_}=this.toAffine();if($.isOdd)return!$.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){I(_);const{px:x,py:E,pz:T}=this,{px:B,py:d,pz:k}=_,K=$.eql($.mul(x,k),$.mul(B,T)),W=$.eql($.mul(E,k),$.mul(d,T));return K&&W}negate(){return new g(this.px,$.neg(this.py),this.pz)}double(){const{a:_,b:x}=N,E=$.mul(x,y),{px:T,py:B,pz:d}=this;let k=$.ZERO,K=$.ZERO,W=$.ZERO,re=$.mul(T,T),Ee=$.mul(B,B),be=$.mul(d,d),ge=$.mul(T,B);return ge=$.add(ge,ge),W=$.mul(T,d),W=$.add(W,W),k=$.mul(_,W),K=$.mul(E,be),K=$.add(k,K),k=$.sub(Ee,K),K=$.add(Ee,K),K=$.mul(k,K),k=$.mul(ge,k),W=$.mul(E,W),be=$.mul(_,be),ge=$.sub(re,be),ge=$.mul(_,ge),ge=$.add(ge,W),W=$.add(re,re),re=$.add(W,re),re=$.add(re,be),re=$.mul(re,ge),K=$.add(K,re),be=$.mul(B,d),be=$.add(be,be),re=$.mul(be,ge),k=$.sub(k,re),W=$.mul(be,Ee),W=$.add(W,W),W=$.add(W,W),new g(k,K,W)}add(_){I(_);const{px:x,py:E,pz:T}=this,{px:B,py:d,pz:k}=_;let K=$.ZERO,W=$.ZERO,re=$.ZERO;const Ee=N.a,be=$.mul(N.b,y);let ge=$.mul(x,B),tt=$.mul(E,d),Ue=$.mul(T,k),Pe=$.add(x,E),pe=$.add(B,d);Pe=$.mul(Pe,pe),pe=$.add(ge,tt),Pe=$.sub(Pe,pe),pe=$.add(x,T);let we=$.add(B,k);return pe=$.mul(pe,we),we=$.add(ge,Ue),pe=$.sub(pe,we),we=$.add(E,T),K=$.add(d,k),we=$.mul(we,K),K=$.add(tt,Ue),we=$.sub(we,K),re=$.mul(Ee,pe),K=$.mul(be,Ue),re=$.add(K,re),K=$.sub(tt,re),re=$.add(tt,re),W=$.mul(K,re),tt=$.add(ge,ge),tt=$.add(tt,ge),Ue=$.mul(Ee,Ue),pe=$.mul(be,pe),tt=$.add(tt,Ue),Ue=$.sub(ge,Ue),Ue=$.mul(Ee,Ue),pe=$.add(pe,Ue),ge=$.mul(tt,pe),W=$.add(W,ge),ge=$.mul(we,pe),K=$.mul(Pe,K),K=$.sub(K,ge),ge=$.mul(Pe,tt),re=$.mul(we,re),re=$.add(re,ge),new g(K,W,re)}subtract(_){return this.add(_.negate())}is0(){return this.equals(g.ZERO)}wNAF(_){return h.wNAFCached(this,Q,_,x=>{const E=$.invertBatch(x.map(T=>T.pz));return x.map((T,B)=>T.toAffine(E[B])).map(g.fromAffine)})}multiplyUnsafe(_){const x=g.ZERO;if(_===c)return x;if(ee(_),_===u)return this;const{endo:E}=N;if(!E)return h.unsafeLadder(this,_);let{k1neg:T,k1:B,k2neg:d,k2:k}=E.splitScalar(_),K=x,W=x,re=this;for(;B>c||k>c;)B&u&&(K=K.add(re)),k&u&&(W=W.add(re)),re=re.double(),B>>=u,k>>=u;return T&&(K=K.negate()),d&&(W=W.negate()),W=new g($.mul(W.px,E.beta),W.py,W.pz),K.add(W)}multiply(_){ee(_);let x=_,E,T;const{endo:B}=N;if(B){const{k1neg:d,k1:k,k2neg:K,k2:W}=B.splitScalar(x);let{p:re,f:Ee}=this.wNAF(k),{p:be,f:ge}=this.wNAF(W);re=h.constTimeNegate(d,re),be=h.constTimeNegate(K,be),be=new g($.mul(be.px,B.beta),be.py,be.pz),E=re.add(be),T=Ee.add(ge)}else{const{p:d,f:k}=this.wNAF(x);E=d,T=k}return g.normalizeZ([E,T])[0]}multiplyAndAddUnsafe(_,x,E){const T=g.BASE,B=(k,K)=>K===c||K===u||!k.equals(T)?k.multiplyUnsafe(K):k.multiply(K),d=B(this,x).add(B(_,E));return d.is0()?void 0:d}toAffine(_){const{px:x,py:E,pz:T}=this,B=this.is0();_==null&&(_=B?$.ONE:$.inv(T));const d=$.mul(x,_),k=$.mul(E,_),K=$.mul(T,_);if(B)return{x:$.ZERO,y:$.ZERO};if(!$.eql(K,$.ONE))throw new Error("invZ was invalid");return{x:d,y:k}}isTorsionFree(){const{h:_,isTorsionFree:x}=N;if(_===u)return!0;if(x)return x(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:x}=N;return _===u?this:x?x(g,this):this.multiplyUnsafe(N.h)}toRawBytes(_=!0){return this.assertValidity(),z(g,this,_)}toHex(_=!0){return r.bytesToHex(this.toRawBytes(_))}}g.BASE=new g(N.Gx,N.Gy,$.ONE),g.ZERO=new g($.ZERO,$.ONE,$.ZERO);const f=N.nBitLength,h=(0,i.wNAF)(g,N.endo?Math.ceil(f/2):f);return{CURVE:N,ProjectivePoint:g,normPrivateKeyToScalar:ie,weierstrassEquation:G,isWithinCurveOrder:q}}e.weierstrassPoints=b;function R(F){const N=(0,i.validateBasic)(F);return r.validateObject(N,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...N})}function O(F){const N=R(F),{Fp:$,n:z}=N,Z=$.BYTES+1,G=2*$.BYTES+1;function q(pe){return c<pe&&pe<$.ORDER}function ee(pe){return t.mod(pe,z)}function ie(pe){return t.invert(pe,z)}const{ProjectivePoint:Q,normPrivateKeyToScalar:I,weierstrassEquation:g,isWithinCurveOrder:f}=b({...N,toBytes(pe,we,ke){const vt=we.toAffine(),De=$.toBytes(vt.x),it=r.concatBytes;return ke?it(Uint8Array.from([we.hasEvenY()?2:3]),De):it(Uint8Array.from([4]),De,$.toBytes(vt.y))},fromBytes(pe){const we=pe.length,ke=pe[0],vt=pe.subarray(1);if(we===Z&&(ke===2||ke===3)){const De=r.bytesToNumberBE(vt);if(!q(De))throw new Error("Point is not on curve");const it=g(De);let Dt=$.sqrt(it);const ut=(Dt&u)===u;return(ke&1)===1!==ut&&(Dt=$.neg(Dt)),{x:De,y:Dt}}else if(we===G&&ke===4){const De=$.fromBytes(vt.subarray(0,$.BYTES)),it=$.fromBytes(vt.subarray($.BYTES,2*$.BYTES));return{x:De,y:it}}else throw new Error(`Point of length ${we} was invalid. Expected ${Z} compressed bytes or ${G} uncompressed bytes`)}}),h=pe=>r.bytesToHex(r.numberToBytesBE(pe,N.nByteLength));function m(pe){const we=z>>u;return pe>we}function _(pe){return m(pe)?ee(-pe):pe}const x=(pe,we,ke)=>r.bytesToNumberBE(pe.slice(we,ke));class E{constructor(we,ke,vt){this.r=we,this.s=ke,this.recovery=vt,this.assertValidity()}static fromCompact(we){const ke=N.nByteLength;return we=(0,n.ensureBytes)("compactSignature",we,ke*2),new E(x(we,0,ke),x(we,ke,2*ke))}static fromDER(we){const{r:ke,s:vt}=e.DER.toSig((0,n.ensureBytes)("DER",we));return new E(ke,vt)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(we){return new E(this.r,this.s,we)}recoverPublicKey(we){const{r:ke,s:vt,recovery:De}=this,it=W((0,n.ensureBytes)("msgHash",we));if(De==null||![0,1,2,3].includes(De))throw new Error("recovery id invalid");const Dt=De===2||De===3?ke+N.n:ke;if(Dt>=$.ORDER)throw new Error("recovery id 2 or 3 invalid");const ut=De&1?"03":"02",pt=Q.fromHex(ut+h(Dt)),Kt=ie(Dt),Et=ee(-it*Kt),At=ee(vt*Kt),Xt=Q.BASE.multiplyAndAddUnsafe(pt,Et,At);if(!Xt)throw new Error("point at infinify");return Xt.assertValidity(),Xt}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,ee(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const T={isValidPrivateKey(pe){try{return I(pe),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const pe=t.getMinHashLength(N.n);return t.mapHashToField(N.randomBytes(pe),N.n)},precompute(pe=8,we=Q.BASE){return we._setWindowSize(pe),we.multiply(BigInt(3)),we}};function B(pe,we=!0){return Q.fromPrivateKey(pe).toRawBytes(we)}function d(pe){const we=r.isBytes(pe),ke=typeof pe=="string",vt=(we||ke)&&pe.length;return we?vt===Z||vt===G:ke?vt===2*Z||vt===2*G:pe instanceof Q}function k(pe,we,ke=!0){if(d(pe))throw new Error("first arg must be private key");if(!d(we))throw new Error("second arg must be public key");return Q.fromHex(we).multiply(I(pe)).toRawBytes(ke)}const K=N.bits2int||function(pe){const we=r.bytesToNumberBE(pe),ke=pe.length*8-N.nBitLength;return ke>0?we>>BigInt(ke):we},W=N.bits2int_modN||function(pe){return ee(K(pe))},re=r.bitMask(N.nBitLength);function Ee(pe){if(typeof pe!="bigint")throw new Error("bigint expected");if(!(c<=pe&&pe<re))throw new Error(`bigint expected < 2^${N.nBitLength}`);return r.numberToBytesBE(pe,N.nByteLength)}function be(pe,we,ke=ge){if(["recovered","canonical"].some(C=>C in ke))throw new Error("sign() legacy options not supported");const{hash:vt,randomBytes:De}=N;let{lowS:it,prehash:Dt,extraEntropy:ut}=ke;it==null&&(it=!0),pe=(0,n.ensureBytes)("msgHash",pe),Dt&&(pe=(0,n.ensureBytes)("prehashed msgHash",vt(pe)));const pt=W(pe),Kt=I(we),Et=[Ee(Kt),Ee(pt)];if(ut!=null){const C=ut===!0?De($.BYTES):ut;Et.push((0,n.ensureBytes)("extraEntropy",C))}const At=r.concatBytes(...Et),Xt=pt;function Tt(C){const w=K(C);if(!f(w))return;const v=ie(w),H=Q.BASE.multiply(w).toAffine(),V=ee(H.x);if(V===c)return;const X=ee(v*ee(Xt+V*Kt));if(X===c)return;let oe=(H.x===V?0:2)|Number(H.y&u),Ge=X;return it&&m(X)&&(Ge=_(X),oe^=1),new E(V,Ge,oe)}return{seed:At,k2sig:Tt}}const ge={lowS:N.lowS,prehash:!1},tt={lowS:N.lowS,prehash:!1};function Ue(pe,we,ke=ge){const{seed:vt,k2sig:De}=be(pe,we,ke),it=N;return r.createHmacDrbg(it.hash.outputLen,it.nByteLength,it.hmac)(vt,De)}Q.BASE._setWindowSize(8);function Pe(pe,we,ke,vt=tt){const De=pe;if(we=(0,n.ensureBytes)("msgHash",we),ke=(0,n.ensureBytes)("publicKey",ke),"strict"in vt)throw new Error("options.strict was renamed to lowS");const{lowS:it,prehash:Dt}=vt;let ut,pt;try{if(typeof De=="string"||r.isBytes(De))try{ut=E.fromDER(De)}catch(H){if(!(H instanceof e.DER.Err))throw H;ut=E.fromCompact(De)}else if(typeof De=="object"&&typeof De.r=="bigint"&&typeof De.s=="bigint"){const{r:H,s:V}=De;ut=new E(H,V)}else throw new Error("PARSE");pt=Q.fromHex(ke)}catch(H){if(H.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(it&&ut.hasHighS())return!1;Dt&&(we=N.hash(we));const{r:Kt,s:Et}=ut,At=W(we),Xt=ie(Et),Tt=ee(At*Xt),C=ee(Kt*Xt),w=Q.BASE.multiplyAndAddUnsafe(pt,Tt,C)?.toAffine();return w?ee(w.x)===Kt:!1}return{CURVE:N,getPublicKey:B,getSharedSecret:k,sign:Ue,verify:Pe,ProjectivePoint:Q,Signature:E,utils:T}}e.weierstrass=O;function P(F,N){const $=F.ORDER;let z=c;for(let m=$-u;m%l===c;m/=l)z+=u;const Z=z,G=l<<Z-u-u,q=G*l,ee=($-u)/q,ie=(ee-u)/l,Q=q-u,I=G,g=F.pow(N,ee),f=F.pow(N,(ee+u)/l);let h=(m,_)=>{let x=g,E=F.pow(_,Q),T=F.sqr(E);T=F.mul(T,_);let B=F.mul(m,T);B=F.pow(B,ie),B=F.mul(B,E),E=F.mul(B,_),T=F.mul(B,m);let d=F.mul(T,E);B=F.pow(d,I);let k=F.eql(B,F.ONE);E=F.mul(T,f),B=F.mul(d,x),T=F.cmov(E,T,k),d=F.cmov(B,d,k);for(let K=Z;K>u;K--){let W=K-l;W=l<<W-u;let re=F.pow(d,W);const Ee=F.eql(re,F.ONE);E=F.mul(T,x),x=F.mul(x,x),re=F.mul(d,x),T=F.cmov(E,T,Ee),d=F.cmov(re,d,Ee)}return{isValid:k,value:T}};if(F.ORDER%A===y){const m=(F.ORDER-y)/A,_=F.sqrt(F.neg(N));h=(x,E)=>{let T=F.sqr(E);const B=F.mul(x,E);T=F.mul(T,B);let d=F.pow(T,m);d=F.mul(d,B);const k=F.mul(d,_),K=F.mul(F.sqr(d),E),W=F.eql(K,x);let re=F.cmov(k,d,W);return{isValid:W,value:re}}}return h}e.SWUFpSqrtRatio=P;function D(F,N){if(t.validateField(F),!F.isValid(N.A)||!F.isValid(N.B)||!F.isValid(N.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const $=P(F,N.Z);if(!F.isOdd)throw new Error("Fp.isOdd is not implemented!");return z=>{let Z,G,q,ee,ie,Q,I,g;Z=F.sqr(z),Z=F.mul(Z,N.Z),G=F.sqr(Z),G=F.add(G,Z),q=F.add(G,F.ONE),q=F.mul(q,N.B),ee=F.cmov(N.Z,F.neg(G),!F.eql(G,F.ZERO)),ee=F.mul(ee,N.A),G=F.sqr(q),Q=F.sqr(ee),ie=F.mul(Q,N.A),G=F.add(G,ie),G=F.mul(G,q),Q=F.mul(Q,ee),ie=F.mul(Q,N.B),G=F.add(G,ie),I=F.mul(Z,q);const{isValid:f,value:h}=$(G,Q);g=F.mul(Z,z),g=F.mul(g,h),I=F.cmov(I,q,f),g=F.cmov(g,h,f);const m=F.isOdd(z)===F.isOdd(g);return g=F.cmov(F.neg(g),g,m),I=F.div(I,ee),{x:I,y:g}}}e.mapToCurveSimpleSWU=D}(ad);var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.createHasher=Vn.isogenyMap=Vn.hash_to_field=Vn.expand_message_xof=Vn.expand_message_xmd=void 0;const p8=ht,Mn=st;function g8(e){if((0,Mn.isBytes)(e))return e;if(typeof e=="string")return(0,Mn.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const y8=Mn.bytesToNumberBE;function bs(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function w8(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function nc(e){if(!(0,Mn.isBytes)(e))throw new Error("Uint8Array expected")}function fd(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function ky(e,t,r,n){nc(e),nc(t),fd(r),t.length>255&&(t=n((0,Mn.concatBytes)((0,Mn.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");const a=(0,Mn.concatBytes)(t,bs(t.length,1)),c=bs(0,s),u=bs(r,2),l=new Array(o),y=n((0,Mn.concatBytes)(c,e,u,bs(0,1),a));l[0]=n((0,Mn.concatBytes)(y,bs(1,1),a));for(let b=1;b<=o;b++){const R=[w8(y,l[b-1]),bs(b+1,1),a];l[b]=n((0,Mn.concatBytes)(...R))}return(0,Mn.concatBytes)(...l).slice(0,r)}Vn.expand_message_xmd=ky;function Cy(e,t,r,n,i){if(nc(e),nc(t),fd(r),t.length>255){const s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update((0,Mn.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(bs(r,2)).update(t).update(bs(t.length,1)).digest()}Vn.expand_message_xof=Cy;function ud(e,t,r){(0,Mn.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;nc(e),fd(t);const u=g8(c),l=n.toString(2).length,y=Math.ceil((l+i)/8),A=t*s*y;let b;if(a==="xmd")b=ky(e,u,A,o);else if(a==="xof")b=Cy(e,u,A,i,o);else if(a==="_internal_pass")b=e;else throw new Error('expand must be "xmd" or "xof"');const R=new Array(t);for(let O=0;O<t;O++){const P=new Array(s);for(let D=0;D<s;D++){const F=y*(D+O*s),N=b.subarray(F,F+y);P[D]=(0,p8.mod)(y8(N),n)}R[O]=P}return R}Vn.hash_to_field=ud;function m8(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,c]=r.map(u=>u.reduce((l,y)=>e.add(e.mul(l,n),y)));return n=e.div(s,o),i=e.mul(i,e.div(a,c)),{x:n,y:i}}}Vn.isogenyMap=m8;function b8(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=ud(n,2,{...r,DST:r.DST,...i}),o=e.fromAffine(t(s[0])),a=e.fromAffine(t(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,i){const s=ud(n,1,{...r,DST:r.encodeDST,...i}),o=e.fromAffine(t(s[0])).clearCofactor();return o.assertValidity(),o}}}Vn.createHasher=b8;var na={},Ly={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Dr,r=Di;class n extends r.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,(0,t.hash)(o);const c=(0,r.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let y=0;y<l.length;y++)l[y]^=54;this.iHash.update(l),this.oHash=o.create();for(let y=0;y<l.length;y++)l[y]^=106;this.oHash.update(l),l.fill(0)}update(o){return(0,t.exists)(this),this.iHash.update(o),this}digestInto(o){(0,t.exists)(this),(0,t.bytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:y,outputLen:A}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=y,o.outputLen=A,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;const i=(s,o,a)=>new n(s,o).update(a).digest();e.hmac=i,e.hmac.create=(s,o)=>new n(s,o)})(Ly),Object.defineProperty(na,"__esModule",{value:!0}),na.createCurve=na.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v8=Ly,$y=Di,_8=ad;function Oy(e){return{hash:e,hmac:(t,...r)=>(0,v8.hmac)(e,t,(0,$y.concatBytes)(...r)),randomBytes:$y.randomBytes}}na.getHash=Oy;function x8(e,t){const r=n=>(0,_8.weierstrass)({...e,...Oy(n)});return Object.freeze({...r(t),create:r})}na.createCurve=x8,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ea,r=Di,n=ht,i=ad,s=st,o=Vn,a=na,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(1),y=BigInt(2),A=(E,T)=>(E+T/y)/T;function b(E){const T=c,B=BigInt(3),d=BigInt(6),k=BigInt(11),K=BigInt(22),W=BigInt(23),re=BigInt(44),Ee=BigInt(88),be=E*E*E%T,ge=be*be*E%T,tt=(0,n.pow2)(ge,B,T)*ge%T,Ue=(0,n.pow2)(tt,B,T)*ge%T,Pe=(0,n.pow2)(Ue,y,T)*be%T,pe=(0,n.pow2)(Pe,k,T)*Pe%T,we=(0,n.pow2)(pe,K,T)*pe%T,ke=(0,n.pow2)(we,re,T)*we%T,vt=(0,n.pow2)(ke,Ee,T)*ke%T,De=(0,n.pow2)(vt,re,T)*we%T,it=(0,n.pow2)(De,B,T)*ge%T,Dt=(0,n.pow2)(it,W,T)*pe%T,ut=(0,n.pow2)(Dt,d,T)*be%T,pt=(0,n.pow2)(ut,y,T);if(!R.eql(R.sqr(pt),E))throw new Error("Cannot find square root");return pt}const R=(0,n.Field)(c,void 0,void 0,{sqrt:b});e.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:R,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:E=>{const T=u,B=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),d=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),k=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),K=B,W=BigInt("0x100000000000000000000000000000000"),re=A(K*E,T),Ee=A(-d*E,T);let be=(0,n.mod)(E-re*B-Ee*k,T),ge=(0,n.mod)(-re*d-Ee*K,T);const tt=be>W,Ue=ge>W;if(tt&&(be=T-be),Ue&&(ge=T-ge),be>W||ge>W)throw new Error("splitScalar: Endomorphism failed, k="+E);return{k1neg:tt,k1:be,k2neg:Ue,k2:ge}}}},t.sha256);const O=BigInt(0),P=E=>typeof E=="bigint"&&O<E&&E<c,D=E=>typeof E=="bigint"&&O<E&&E<u,F={};function N(E,...T){let B=F[E];if(B===void 0){const d=(0,t.sha256)(Uint8Array.from(E,k=>k.charCodeAt(0)));B=(0,s.concatBytes)(d,d),F[E]=B}return(0,t.sha256)((0,s.concatBytes)(B,...T))}const $=E=>E.toRawBytes(!0).slice(1),z=E=>(0,s.numberToBytesBE)(E,32),Z=E=>(0,n.mod)(E,c),G=E=>(0,n.mod)(E,u),q=e.secp256k1.ProjectivePoint,ee=(E,T,B)=>q.BASE.multiplyAndAddUnsafe(E,T,B);function ie(E){let T=e.secp256k1.utils.normPrivateKeyToScalar(E),B=q.fromPrivateKey(T);return{scalar:B.hasEvenY()?T:G(-T),bytes:$(B)}}function Q(E){if(!P(E))throw new Error("bad x: need 0 < x < p");const T=Z(E*E),B=Z(T*E+BigInt(7));let d=b(B);d%y!==O&&(d=Z(-d));const k=new q(E,d,l);return k.assertValidity(),k}function I(...E){return G((0,s.bytesToNumberBE)(N("BIP0340/challenge",...E)))}function g(E){return ie(E).bytes}function f(E,T,B=(0,r.randomBytes)(32)){const d=(0,s.ensureBytes)("message",E),{bytes:k,scalar:K}=ie(T),W=(0,s.ensureBytes)("auxRand",B,32),re=z(K^(0,s.bytesToNumberBE)(N("BIP0340/aux",W))),Ee=N("BIP0340/nonce",re,k,d),be=G((0,s.bytesToNumberBE)(Ee));if(be===O)throw new Error("sign failed: k is zero");const{bytes:ge,scalar:tt}=ie(be),Ue=I(ge,k,d),Pe=new Uint8Array(64);if(Pe.set(ge,0),Pe.set(z(G(tt+Ue*K)),32),!h(Pe,d,k))throw new Error("sign: Invalid signature produced");return Pe}function h(E,T,B){const d=(0,s.ensureBytes)("signature",E,64),k=(0,s.ensureBytes)("message",T),K=(0,s.ensureBytes)("publicKey",B,32);try{const W=Q((0,s.bytesToNumberBE)(K)),re=(0,s.bytesToNumberBE)(d.subarray(0,32));if(!P(re))return!1;const Ee=(0,s.bytesToNumberBE)(d.subarray(32,64));if(!D(Ee))return!1;const be=I(z(re),$(W),k),ge=ee(W,Ee,G(-be));return!(!ge||!ge.hasEvenY()||ge.toAffine().x!==re)}catch{return!1}}e.schnorr=(()=>({getPublicKey:g,sign:f,verify:h,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:Q,pointToBytes:$,numberToBytesBE:s.numberToBytesBE,bytesToNumberBE:s.bytesToNumberBE,taggedHash:N,mod:n.mod}}))();const m=(()=>(0,o.isogenyMap)(R,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(E=>E.map(T=>BigInt(T)))))(),_=(()=>(0,i.mapToCurveSimpleSWU)(R,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:R.create(BigInt("-11"))}))(),x=(()=>(0,o.createHasher)(e.secp256k1.ProjectivePoint,E=>{const{x:T,y:B}=_(R.create(E[0]));return m(T,B)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:R.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}))();e.hashToCurve=(()=>x.hashToCurve)(),e.encodeToCurve=(()=>x.encodeToCurve)()}(fy),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=fy;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})}(cu),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=ae,r=cu;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16}(au);var gu={};Object.defineProperty(gu,"__esModule",{value:!0}),gu.GWEI_TO_WEI=void 0,gu.GWEI_TO_WEI=BigInt(1e9);var ld={},xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.RLP=xi.utils=xi.decode=xi.encode=void 0;function hd(e){if(Array.isArray(e)){const r=[];let n=0;for(let i=0;i<e.length;i++){const s=hd(e[i]);r.push(s),n+=s.length}return pd(Ny(n,192),...r)}const t=jy(e);return t.length===1&&t[0]<128?t:pd(Ny(t.length,128),t)}xi.encode=hd;function ia(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function My(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Fy(Uy(e))}function Ny(e,t){if(e<56)return Uint8Array.from([e+t]);const r=gd(e),n=r.length/2,i=gd(t+55+n);return Uint8Array.from(yu(i+r))}function Py(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);const r=jy(e),n=dd(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}xi.decode=Py;function dd(e){let t,r,n,i,s;const o=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?n=Uint8Array.from([]):n=ia(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=My(ia(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=ia(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(a<=247){for(t=a-191,i=ia(e,1,t);i.length;)s=dd(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(t)}}else{if(r=a-246,t=My(ia(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const c=r+t;if(c>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=ia(e,r,c);i.length;)s=dd(i),o.push(s.data),i=s.remainder;return{data:o,remainder:e.slice(c)}}}const E8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Uy(e){let t="";for(let r=0;r<e.length;r++)t+=E8[e[r]];return t}function Fy(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function yu(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2;t[r]=Fy(e.slice(n,n+2))}return t}function pd(...e){if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}function Hy(e){return new TextEncoder().encode(e)}function gd(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function S8(e){return e.length%2?`0${e}`:e}function Dy(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function A8(e){return typeof e!="string"?e:Dy(e)?e.slice(2):e}function jy(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Dy(e)?yu(S8(A8(e))):Hy(e);if(typeof e=="number"||typeof e=="bigint")return e?yu(gd(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}xi.utils={bytesToHex:Uy,concatBytes:pd,hexToBytes:yu,utf8ToBytes:Hy},xi.RLP={encode:hd,decode:Py};var Kn={},Qt={},ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.add5L=ot.add5H=ot.add4H=ot.add4L=ot.add3H=ot.add3L=ot.add=ot.rotlBL=ot.rotlBH=ot.rotlSL=ot.rotlSH=ot.rotr32L=ot.rotr32H=ot.rotrBL=ot.rotrBH=ot.rotrSL=ot.rotrSH=ot.shrSL=ot.shrSH=ot.toBig=ot.split=ot.fromBig=void 0;const wu=BigInt(2**32-1),yd=BigInt(32);function wd(e,t=!1){return t?{h:Number(e&wu),l:Number(e>>yd&wu)}:{h:Number(e>>yd&wu)|0,l:Number(e&wu)|0}}ot.fromBig=wd;function qy(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=wd(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}ot.split=qy;const zy=(e,t)=>BigInt(e>>>0)<<yd|BigInt(t>>>0);ot.toBig=zy;const Vy=(e,t,r)=>e>>>r;ot.shrSH=Vy;const Ky=(e,t,r)=>e<<32-r|t>>>r;ot.shrSL=Ky;const Wy=(e,t,r)=>e>>>r|t<<32-r;ot.rotrSH=Wy;const Gy=(e,t,r)=>e<<32-r|t>>>r;ot.rotrSL=Gy;const Zy=(e,t,r)=>e<<64-r|t>>>r-32;ot.rotrBH=Zy;const Yy=(e,t,r)=>e>>>r-32|t<<64-r;ot.rotrBL=Yy;const Xy=(e,t)=>t;ot.rotr32H=Xy;const Jy=(e,t)=>e;ot.rotr32L=Jy;const Qy=(e,t,r)=>e<<r|t>>>32-r;ot.rotlSH=Qy;const ew=(e,t,r)=>t<<r|e>>>32-r;ot.rotlSL=ew;const tw=(e,t,r)=>t<<r-32|e>>>64-r;ot.rotlBH=tw;const rw=(e,t,r)=>e<<r-32|t>>>64-r;ot.rotlBL=rw;function nw(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}ot.add=nw;const iw=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);ot.add3L=iw;const sw=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;ot.add3H=sw;const ow=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);ot.add4L=ow;const aw=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;ot.add4H=aw;const cw=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);ot.add5L=cw;const fw=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;ot.add5H=fw;const B8={fromBig:wd,split:qy,toBig:zy,shrSH:Vy,shrSL:Ky,rotrSH:Wy,rotrSL:Gy,rotrBH:Zy,rotrBL:Yy,rotr32H:Xy,rotr32L:Jy,rotlSH:Qy,rotlSL:ew,rotlBH:tw,rotlBL:rw,add:nw,add3L:iw,add3H:sw,add4L:ow,add4H:aw,add5H:fw,add5L:cw};ot.default=B8,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.shake256=Qt.shake128=Qt.keccak_512=Qt.keccak_384=Qt.keccak_256=Qt.keccak_224=Qt.sha3_512=Qt.sha3_384=Qt.sha3_256=Qt.sha3_224=Qt.Keccak=Qt.keccakP=void 0;const sa=Dr,ic=ot,sc=Di,[uw,lw,hw]=[[],[],[]],I8=BigInt(0),oc=BigInt(1),R8=BigInt(2),T8=BigInt(7),k8=BigInt(256),C8=BigInt(113);for(let e=0,t=oc,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],uw.push(2*(5*n+r)),lw.push((e+1)*(e+2)/2%64);let i=I8;for(let s=0;s<7;s++)t=(t<<oc^(t>>T8)*C8)%k8,t&R8&&(i^=oc<<(oc<<BigInt(s))-oc);hw.push(i)}const[L8,$8]=(0,ic.split)(hw,!0),dw=(e,t,r)=>r>32?(0,ic.rotlBH)(e,t,r):(0,ic.rotlSH)(e,t,r),pw=(e,t,r)=>r>32?(0,ic.rotlBL)(e,t,r):(0,ic.rotlSL)(e,t,r);function gw(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],y=dw(u,l,1)^r[a],A=pw(u,l,1)^r[a+1];for(let b=0;b<50;b+=10)e[o+b]^=y,e[o+b+1]^=A}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=lw[o],c=dw(i,s,a),u=pw(i,s,a),l=uw[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=L8[n],e[1]^=$8[n]}r.fill(0)}Qt.keccakP=gw;class ac extends sc.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,sa.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,sc.u32)(this.state)}keccak(){gw(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){(0,sa.exists)(this);const{blockLen:r,state:n}=this;t=(0,sc.toBytes)(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,sa.exists)(this,!1),(0,sa.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,sa.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,sa.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new ac(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}Qt.Keccak=ac;const vs=(e,t,r)=>(0,sc.wrapConstructor)(()=>new ac(t,e,r));Qt.sha3_224=vs(6,144,224/8),Qt.sha3_256=vs(6,136,256/8),Qt.sha3_384=vs(6,104,384/8),Qt.sha3_512=vs(6,72,512/8),Qt.keccak_224=vs(1,144,224/8),Qt.keccak_256=vs(1,136,256/8),Qt.keccak_384=vs(1,104,384/8),Qt.keccak_512=vs(1,72,512/8);const yw=(e,t,r)=>(0,sc.wrapXOFConstructorWithOpts)((n={})=>new ac(t,e,n.dkLen===void 0?r:n.dkLen,!0));Qt.shake128=yw(31,168,128/8),Qt.shake256=yw(31,136,256/8);function md(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mu={exports:{}};(function(e,t){var r=ft&&ft.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=t.wrapHash=t.equalsBytes=t.hexToBytes=t.bytesToUtf8=t.utf8ToBytes=t.createView=t.concatBytes=t.toHex=t.bytesToHex=t.assertBytes=t.assertBool=void 0;const n=r(Dr),i=Di,s=n.default.bool;t.assertBool=s;const o=n.default.bytes;t.assertBytes=o;var a=Di;Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return a.bytesToHex}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return a.concatBytes}}),Object.defineProperty(t,"createView",{enumerable:!0,get:function(){return a.createView}}),Object.defineProperty(t,"utf8ToBytes",{enumerable:!0,get:function(){return a.utf8ToBytes}});function c(A){if(!(A instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof A}`);return new TextDecoder().decode(A)}t.bytesToUtf8=c;function u(A){const b=A.startsWith("0x")?A.substring(2):A;return(0,i.hexToBytes)(b)}t.hexToBytes=u;function l(A,b){if(A.length!==b.length)return!1;for(let R=0;R<A.length;R++)if(A[R]!==b[R])return!1;return!0}t.equalsBytes=l;function y(A){return b=>(n.default.bytes(b),A(b))}t.wrapHash=y,t.crypto=(()=>{const A=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,b=typeof md=="function"&&md.bind(e);return{node:b&&!A?b("crypto"):void 0,web:A}})()})(mu,mu.exports),Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.keccak512=Kn.keccak384=Kn.keccak256=Kn.keccak224=void 0;const cc=Qt,bu=mu.exports;Kn.keccak224=(0,bu.wrapHash)(cc.keccak_224),Kn.keccak256=(()=>{const e=(0,bu.wrapHash)(cc.keccak_256);return e.create=cc.keccak_256.create,e})(),Kn.keccak384=(0,bu.wrapHash)(cc.keccak_384),Kn.keccak512=(0,bu.wrapHash)(cc.keccak_512);var io={},Wn={},er={};Object.defineProperty(er,"__esModule",{value:!0}),er.isHexString=er.getKeys=er.fromAscii=er.fromUtf8=er.toAscii=er.arrayContainsArray=er.getBinarySize=er.padToEven=er.stripHexPrefix=er.isHexPrefixed=void 0;function ww(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}er.isHexPrefixed=ww;const O8=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return ww(e)?e.slice(2):e};er.stripHexPrefix=O8;function mw(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}er.padToEven=mw;function M8(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return ae.Buffer.byteLength(e,"utf8")}er.getBinarySize=M8;function N8(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}er.arrayContainsArray=N8;function P8(e){let t="",r=0;const n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){const i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}er.toAscii=P8;function U8(e){const t=ae.Buffer.from(e,"utf8");return`0x${mw(t.toString("hex")).replace(/^0+|0+$/g,"")}`}er.fromUtf8=U8;function F8(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}er.fromAscii=F8;function H8(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(r===!0&&!s)s="";else if(typeof s!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof s}`);n.push(s)}return n}er.getKeys=H8;function D8(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}er.isHexString=D8,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.assertIsString=Wn.assertIsArray=Wn.assertIsBuffer=Wn.assertIsHexString=void 0;const j8=er,q8=function(e){if(!(0,j8.isHexString)(e)){const t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};Wn.assertIsHexString=q8;const z8=function(e){if(!ae.Buffer.isBuffer(e)){const t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};Wn.assertIsBuffer=z8;const V8=function(e){if(!Array.isArray(e)){const t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};Wn.assertIsArray=V8;const K8=function(e){if(typeof e!="string"){const t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};Wn.assertIsString=K8,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=Wn,r=er,n=function(f){if(!Number.isSafeInteger(f)||f<0)throw new Error(`Received an invalid integer type: ${f}`);return`0x${f.toString(16)}`};e.intToHex=n;const i=function(f){const h=(0,e.intToHex)(f);return ae.Buffer.from((0,r.padToEven)(h.slice(2)),"hex")};e.intToBuffer=i;const s=function(f){return ae.Buffer.allocUnsafe(f).fill(0)};e.zeros=s;const o=function(f,h,m){const _=(0,e.zeros)(h);return m?f.length<h?(f.copy(_),_):f.slice(0,h):f.length<h?(f.copy(_,h-f.length),_):f.slice(-h)},a=function(f,h){return(0,t.assertIsBuffer)(f),o(f,h,!1)};e.setLengthLeft=a;const c=function(f,h){return(0,t.assertIsBuffer)(f),o(f,h,!0)};e.setLengthRight=c;const u=function(f){let h=f[0];for(;f.length>0&&h.toString()==="0";)f=f.slice(1),h=f[0];return f},l=function(f){return(0,t.assertIsBuffer)(f),u(f)};e.unpadBuffer=l;const y=function(f){return(0,t.assertIsArray)(f),u(f)};e.unpadArray=y;const A=function(f){return(0,t.assertIsHexString)(f),f=(0,r.stripHexPrefix)(f),"0x"+u(f)};e.unpadHexString=A;const b=function(f){if(f==null)return ae.Buffer.allocUnsafe(0);if(ae.Buffer.isBuffer(f)||Array.isArray(f)||f instanceof Uint8Array)return ae.Buffer.from(f);if(typeof f=="string"){if(!(0,r.isHexString)(f))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${f}`);return ae.Buffer.from((0,r.padToEven)((0,r.stripHexPrefix)(f)),"hex")}if(typeof f=="number")return(0,e.intToBuffer)(f);if(typeof f=="bigint"){if(f<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${f}`);let h=f.toString(16);return h.length%2&&(h="0"+h),ae.Buffer.from(h,"hex")}if(f.toArray)return ae.Buffer.from(f.toArray());if(f.toBuffer)return ae.Buffer.from(f.toBuffer());throw new Error("invalid type")};e.toBuffer=b;const R=function(f){return f=(0,e.toBuffer)(f),"0x"+f.toString("hex")};e.bufferToHex=R;function O(f){const h=(0,e.bufferToHex)(f);return BigInt(h==="0x"?0:h)}e.bufferToBigInt=O;function P(f){return(0,e.toBuffer)("0x"+f.toString(16))}e.bigIntToBuffer=P;const D=function(f){const h=Number(O(f));if(!Number.isSafeInteger(h))throw new Error("Number exceeds 53 bits");return h};e.bufferToInt=D;const F=function(f){return BigInt.asIntN(256,O(f))};e.fromSigned=F;const N=function(f){return P(BigInt.asUintN(256,f))};e.toUnsigned=N;const $=function(f){return typeof f!="string"||(0,r.isHexPrefixed)(f)?f:"0x"+f};e.addHexPrefix=$;function z(f,h=50){const m=ae.Buffer.isBuffer(f)?f.toString("hex"):f;return m.length<=h?m:m.slice(0,h)+"\u2026"}e.short=z;const Z=function(f){const h=/^(00)+|(00)+$/g;if(f=(0,r.stripHexPrefix)(f),f.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return ae.Buffer.from(f.replace(h,""),"hex").toString("utf8")};e.toUtf8=Z;const G=function(f){if(ae.Buffer.isBuffer(f))return`0x${f.toString("hex")}`;if(f instanceof Array){const h=[];for(let m=0;m<f.length;m++)h.push((0,e.baToJSON)(f[m]));return h}};e.baToJSON=G;const q=function(f){for(const[h,m]of Object.entries(f))if(m!==void 0&&m.length>0&&m[0]===0)throw new Error(`${h} cannot have leading zeroes, received: ${m.toString("hex")}`)};e.validateNoLeadingZeroes=q;function ee(f){return Array.isArray(f)?f.map(h=>ee(h)):ae.Buffer.from(f)}e.arrToBufArr=ee;function ie(f){return Array.isArray(f)?f.map(h=>ie(h)):Uint8Array.from(f??[])}e.bufArrToArr=ie;const Q=f=>"0x"+f.toString(16);e.bigIntToHex=Q;function I(f){return(0,e.unpadBuffer)(P(f))}e.bigIntToUnpaddedBuffer=I;function g(f){return(0,e.unpadBuffer)((0,e.intToBuffer)(f))}e.intToUnpaddedBuffer=g}(io),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=xi,r=Kn,n=cu,i=mu.exports,s=io,o=au,a=Wn,c=er,u=BigInt(0);class l{constructor(g=u,f=u,h=o.KECCAK256_RLP,m=o.KECCAK256_NULL){this.nonce=g,this.balance=f,this.storageRoot=h,this.codeHash=m,this._validate()}static fromAccountData(g){const{nonce:f,balance:h,storageRoot:m,codeHash:_}=g;return new l(f!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(f)):void 0,h!==void 0?(0,s.bufferToBigInt)((0,s.toBuffer)(h)):void 0,m!==void 0?(0,s.toBuffer)(m):void 0,_!==void 0?(0,s.toBuffer)(_):void 0)}static fromRlpSerializedAccount(g){const f=(0,s.arrToBufArr)(t.RLP.decode(Uint8Array.from(g)));if(!Array.isArray(f))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(f)}static fromValuesArray(g){const[f,h,m,_]=g;return new l((0,s.bufferToBigInt)(f),(0,s.bufferToBigInt)(h),m,_)}_validate(){if(this.nonce<u)throw new Error("nonce must be greater than zero");if(this.balance<u)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,s.bigIntToUnpaddedBuffer)(this.nonce),(0,s.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return ae.Buffer.from(t.RLP.encode((0,s.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(o.KECCAK256_NULL)}isEmpty(){return this.balance===u&&this.nonce===u&&this.codeHash.equals(o.KECCAK256_NULL)}}e.Account=l;const y=function(I){try{(0,a.assertIsString)(I)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(I)};e.isValidAddress=y;const A=function(I,g){(0,a.assertIsHexString)(I);const f=(0,c.stripHexPrefix)(I).toLowerCase();let h="";g!==void 0&&(h=(0,s.bufferToBigInt)((0,s.toBuffer)(g)).toString()+"0x");const m=ae.Buffer.from(h+f,"utf8"),_=(0,i.bytesToHex)((0,r.keccak256)(m));let x="0x";for(let E=0;E<f.length;E++)parseInt(_[E],16)>=8?x+=f[E].toUpperCase():x+=f[E];return x};e.toChecksumAddress=A;const b=function(I,g){return(0,e.isValidAddress)(I)&&(0,e.toChecksumAddress)(I,g)===I};e.isValidChecksumAddress=b;const R=function(I,g){return(0,a.assertIsBuffer)(I),(0,a.assertIsBuffer)(g),(0,s.bufferToBigInt)(g)===BigInt(0)?ae.Buffer.from((0,r.keccak256)(t.RLP.encode((0,s.bufArrToArr)([I,null])))).slice(-20):ae.Buffer.from((0,r.keccak256)(t.RLP.encode((0,s.bufArrToArr)([I,g])))).slice(-20)};e.generateAddress=R;const O=function(I,g,f){if((0,a.assertIsBuffer)(I),(0,a.assertIsBuffer)(g),(0,a.assertIsBuffer)(f),I.length!==20)throw new Error("Expected from to be of length 20");if(g.length!==32)throw new Error("Expected salt to be of length 32");const h=(0,r.keccak256)(ae.Buffer.concat([ae.Buffer.from("ff","hex"),I,g,(0,r.keccak256)(f)]));return(0,s.toBuffer)(h).slice(-20)};e.generateAddress2=O;const P=function(I){return n.secp256k1.utils.isValidPrivateKey(I)};e.isValidPrivate=P;const D=function(I,g=!1){if((0,a.assertIsBuffer)(I),I.length===64)try{return n.secp256k1.ProjectivePoint.fromHex(ae.Buffer.concat([ae.Buffer.from([4]),I])),!0}catch{return!1}if(!g)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(I),!0}catch{return!1}};e.isValidPublic=D;const F=function(I,g=!1){if((0,a.assertIsBuffer)(I),g&&I.length!==64&&(I=ae.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(I).toRawBytes(!1).slice(1))),I.length!==64)throw new Error("Expected pubKey to be of length 64");return ae.Buffer.from((0,r.keccak256)(I)).slice(-20)};e.pubToAddress=F,e.publicToAddress=e.pubToAddress;const N=function(I){return(0,a.assertIsBuffer)(I),ae.Buffer.from(n.secp256k1.ProjectivePoint.fromPrivateKey(I).toRawBytes(!1).slice(1))};e.privateToPublic=N;const $=function(I){return(0,e.publicToAddress)((0,e.privateToPublic)(I))};e.privateToAddress=$;const z=function(I){return(0,a.assertIsBuffer)(I),I.length!==64&&(I=ae.Buffer.from(n.secp256k1.ProjectivePoint.fromHex(I).toRawBytes(!1).slice(1))),I};e.importPublic=z;const Z=function(){const g=(0,s.zeros)(20);return(0,s.bufferToHex)(g)};e.zeroAddress=Z;const G=function(I){try{(0,a.assertIsString)(I)}catch{return!1}return(0,e.zeroAddress)()===I};e.isZeroAddress=G;function q(I){const[g,f,h,m]=I;return[g,f,(0,s.arrToBufArr)(h).length===0?o.KECCAK256_RLP:h,(0,s.arrToBufArr)(m).length===0?o.KECCAK256_NULL:m]}e.accountBodyFromSlim=q;const ee=new Uint8Array(0);function ie(I){const[g,f,h,m]=I;return[g,f,(0,s.arrToBufArr)(h).equals(o.KECCAK256_RLP)?ee:h,(0,s.arrToBufArr)(m).equals(o.KECCAK256_NULL)?ee:m]}e.accountBodyToSlim=ie;function Q(I,g=!0){const f=g?q(I):I;return(0,s.arrToBufArr)(t.RLP.encode(f))}e.accountBodyToRLP=Q}(ld);var fc={};Object.defineProperty(fc,"__esModule",{value:!0}),fc.Address=void 0;const uc=ld,vu=io;class qi{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new qi((0,vu.zeros)(20))}static fromString(t){if(!(0,uc.isValidAddress)(t))throw new Error("Invalid address");return new qi((0,vu.toBuffer)(t))}static fromPublicKey(t){if(!ae.Buffer.isBuffer(t))throw new Error("Public key should be Buffer");const r=(0,uc.pubToAddress)(t);return new qi(r)}static fromPrivateKey(t){if(!ae.Buffer.isBuffer(t))throw new Error("Private key should be Buffer");const r=(0,uc.privateToAddress)(t);return new qi(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new qi((0,uc.generateAddress)(t.buf,(0,vu.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!ae.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!ae.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new qi((0,uc.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(qi.zero())}isPrecompileOrSystemAddress(){const t=(0,vu.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return ae.Buffer.from(this.buf)}}fc.Address=qi;var _u={},bd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=io,r=er;var n;(function(s){s[s.Number=0]="Number",s[s.BigInt=1]="BigInt",s[s.Buffer=2]="Buffer",s[s.PrefixedHexString=3]="PrefixedHexString"})(n=e.TypeOutput||(e.TypeOutput={}));function i(s,o){if(s===null)return null;if(s===void 0)return;if(typeof s=="string"&&!(0,r.isHexString)(s))throw new Error(`A string must be provided with a 0x-prefix, given: ${s}`);if(typeof s=="number"&&!Number.isSafeInteger(s))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const a=(0,t.toBuffer)(s);switch(o){case n.Buffer:return a;case n.BigInt:return(0,t.bufferToBigInt)(a);case n.Number:{const c=(0,t.bufferToBigInt)(a);if(c>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(c)}case n.PrefixedHexString:return(0,t.bufferToHex)(a);default:throw new Error("unknown outputType")}}e.toType=i})(bd),Object.defineProperty(_u,"__esModule",{value:!0}),_u.Withdrawal=void 0;const bw=fc,vd=io,br=bd;class lc{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){const{index:r,validatorIndex:n,address:i,amount:s}=t,o=(0,br.toType)(r,br.TypeOutput.BigInt),a=(0,br.toType)(n,br.TypeOutput.BigInt),c=new bw.Address((0,br.toType)(i,br.TypeOutput.Buffer)),u=(0,br.toType)(s,br.TypeOutput.BigInt);return new lc(o,a,c,u)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);const[r,n,i,s]=t;return lc.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:s})}static toBufferArray(t){const{index:r,validatorIndex:n,address:i,amount:s}=t,o=(0,br.toType)(r,br.TypeOutput.BigInt)===BigInt(0)?ae.Buffer.alloc(0):(0,br.toType)(r,br.TypeOutput.Buffer),a=(0,br.toType)(n,br.TypeOutput.BigInt)===BigInt(0)?ae.Buffer.alloc(0):(0,br.toType)(n,br.TypeOutput.Buffer);let c;i instanceof bw.Address?c=i.buf:c=(0,br.toType)(i,br.TypeOutput.Buffer);const u=(0,br.toType)(s,br.TypeOutput.BigInt)===BigInt(0)?ae.Buffer.alloc(0):(0,br.toType)(s,br.TypeOutput.Buffer);return[o,a,c,u]}raw(){return lc.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,vd.bigIntToHex)(this.index),validatorIndex:(0,vd.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,vd.bigIntToHex)(this.amount)}}}_u.Withdrawal=lc;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.hashPersonalMessage=an.isValidSignature=an.fromRpcSig=an.toCompactSig=an.toRpcSig=an.ecrecover=an.ecsign=void 0;const W8=Kn,vw=cu,vn=io,_d=au,G8=Wn;function Z8(e,t,r){const n=vw.secp256k1.sign(e,t),i=n.toCompactRawBytes(),s=ae.Buffer.from(i.slice(0,32)),o=ae.Buffer.from(i.slice(32,64)),a=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:s,s:o,v:a}}an.ecsign=Z8;function xu(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function Eu(e){return e===BigInt(0)||e===BigInt(1)}const Y8=function(e,t,r,n,i){const s=ae.Buffer.concat([(0,vn.setLengthLeft)(r,32),(0,vn.setLengthLeft)(n,32)],64),o=xu(t,i);if(!Eu(o))throw new Error("Invalid signature v value");const c=vw.secp256k1.Signature.fromCompact(s).addRecoveryBit(Number(o)).recoverPublicKey(e);return ae.Buffer.from(c.toRawBytes(!1).slice(1))};an.ecrecover=Y8;const X8=function(e,t,r,n){const i=xu(e,n);if(!Eu(i))throw new Error("Invalid signature v value");return(0,vn.bufferToHex)(ae.Buffer.concat([(0,vn.setLengthLeft)(t,32),(0,vn.setLengthLeft)(r,32),(0,vn.toBuffer)(e)]))};an.toRpcSig=X8;const J8=function(e,t,r,n){const i=xu(e,n);if(!Eu(i))throw new Error("Invalid signature v value");let s=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(s=ae.Buffer.from(r),s[0]|=128),(0,vn.bufferToHex)(ae.Buffer.concat([(0,vn.setLengthLeft)(t,32),(0,vn.setLengthLeft)(s,32)]))};an.toCompactSig=J8;const Q8=function(e){const t=(0,vn.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,vn.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,vn.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};an.fromRpcSig=Q8;const eI=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!Eu(xu(e,i)))return!1;const s=(0,vn.bufferToBigInt)(t),o=(0,vn.bufferToBigInt)(r);return!(s===BigInt(0)||s>=_d.SECP256K1_ORDER||o===BigInt(0)||o>=_d.SECP256K1_ORDER||n&&o>=_d.SECP256K1_ORDER_DIV_2)};an.isValidSignature=eI;const tI=function(e){(0,G8.assertIsBuffer)(e);const t=ae.Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return ae.Buffer.from((0,W8.keccak256)(ae.Buffer.concat([t,e])))};an.hashPersonalMessage=tI;var _w={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;const t=o=>o.length>0&&o[o.length-1]===16;e.hasTerminator=t;const r=(o,a)=>{for(let c=0,u=0;u<o.length;c+=1,u+=2)a[c]=o[u]<<4|o[u+1]};e.nibblesToBytes=r;const n=o=>{let a=0;(0,e.hasTerminator)(o)&&(a=1,o=o.subarray(0,o.length-1));const c=new Uint8Array(o.length/2+1);return c[0]=a<<5,(o.length&1)===1&&(c[0]|=16,c[0]|=o[0],o=o.subarray(1)),(0,e.nibblesToBytes)(o,c.subarray(1)),c};e.nibblesToCompactBytes=n;const i=o=>{const a=o.length*2+1,c=new Uint8Array(a);for(let u=0;u<o.length;u++){const l=o[u];c[u*2]=l/16,c[u*2+1]=l%16}return c[a-1]=16,c};e.bytesToNibbles=i;const s=o=>{if(o.length===0)return o;let a=(0,e.bytesToNibbles)(o);a[0]<2&&(a=a.subarray(0,a.length-1));const c=2-(a[0]&1);return a.subarray(c)};e.compactBytesToNibbles=s})(_w);var Su={};Object.defineProperty(Su,"__esModule",{value:!0}),Su.AsyncEventEmitter=void 0;const rI=Hn.exports;async function nI(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise((s,o)=>{i.call(e,r,a=>{a?o(a):s()})})}catch(s){n=s}if(n)throw n}class iI extends rI.EventEmitter{emit(t,...r){let[n,i]=r;const s=this;let o=s._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),o=Array.isArray(o)?o:[o],nI(s,o.slice(),n).then(i).catch(i),s.listenerCount(t)>0}once(t,r){const n=this;let i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(s,o){n.removeListener(t,i),r(s,o)}:i=function(s){n.removeListener(t,i),r(s,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let s=this._events[t]??[],o,a;const c=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[t]=s=[s]),a=s.length,o=s.length;o--;)if(s[o]===r){a=o+c;break}return s.splice(a,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}}Su.AsyncEventEmitter=iI;var Au={};Object.defineProperty(Au,"__esModule",{value:!0}),Au.Lock=void 0;class sI{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const t=this.promiseResolverQueue.shift();t&&t(!0)}}}Au.Lock=sI;var oa={},so={},pr=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Ei=[],Gn=[],oI=typeof Uint8Array<"u"?Uint8Array:Array,xd=!1;function xw(){xd=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)Ei[t]=e[t],Gn[e.charCodeAt(t)]=t;Gn["-".charCodeAt(0)]=62,Gn["_".charCodeAt(0)]=63}function aI(e){xd||xw();var t,r,n,i,s,o,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[a-2]==="="?2:e[a-1]==="="?1:0,o=new oI(a*3/4-s),n=s>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=Gn[e.charCodeAt(t)]<<18|Gn[e.charCodeAt(t+1)]<<12|Gn[e.charCodeAt(t+2)]<<6|Gn[e.charCodeAt(t+3)],o[c++]=i>>16&255,o[c++]=i>>8&255,o[c++]=i&255;return s===2?(i=Gn[e.charCodeAt(t)]<<2|Gn[e.charCodeAt(t+1)]>>4,o[c++]=i&255):s===1&&(i=Gn[e.charCodeAt(t)]<<10|Gn[e.charCodeAt(t+1)]<<4|Gn[e.charCodeAt(t+2)]>>2,o[c++]=i>>8&255,o[c++]=i&255),o}function cI(e){return Ei[e>>18&63]+Ei[e>>12&63]+Ei[e>>6&63]+Ei[e&63]}function fI(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(cI(n));return i.join("")}function Ew(e){xd||xw();for(var t,r=e.length,n=r%3,i="",s=[],o=16383,a=0,c=r-n;a<c;a+=o)s.push(fI(e,a,a+o>c?c:a+o));return n===1?(t=e[r-1],i+=Ei[t>>2],i+=Ei[t<<4&63],i+="=="):n===2&&(t=(e[r-2]<<8)+e[r-1],i+=Ei[t>>10],i+=Ei[t>>4&63],i+=Ei[t<<2&63],i+="="),s.push(i),s.join("")}function Bu(e,t,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,y=r?i-1:0,A=r?-1:1,b=e[t+y];for(y+=A,s=b&(1<<-l)-1,b>>=-l,l+=a;l>0;s=s*256+e[t+y],y+=A,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+y],y+=A,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(b?-1:1)*o*Math.pow(2,s-n)}function Sw(e,t,r,n,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,y=l>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,R=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?t+=A/c:t+=A*Math.pow(2,1-y),t*c>=2&&(o++,c/=2),o+y>=l?(a=0,o=l):o+y>=1?(a=(t*c-1)*Math.pow(2,i),o=o+y):(a=t*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;e[r+b]=a&255,b+=R,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+b]=o&255,b+=R,o/=256,u-=8);e[r+b-R]|=O*128}var uI={}.toString,Aw=Array.isArray||function(e){return uI.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var lI=50;le.TYPED_ARRAY_SUPPORT=pr.TYPED_ARRAY_SUPPORT!==void 0?pr.TYPED_ARRAY_SUPPORT:!0,Iu();function Iu(){return le.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function zi(e,t){if(Iu()<t)throw new RangeError("Invalid typed array length");return le.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=le.prototype):(e===null&&(e=new le(t)),e.length=t),e}function le(e,t,r){if(!le.TYPED_ARRAY_SUPPORT&&!(this instanceof le))return new le(e,t,r);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Ed(this,e)}return Bw(this,e,t,r)}le.poolSize=8192,le._augment=function(e){return e.__proto__=le.prototype,e};function Bw(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?pI(e,t,r,n):typeof t=="string"?dI(e,t,r):gI(e,t)}le.from=function(e,t,r){return Bw(null,e,t,r)},le.TYPED_ARRAY_SUPPORT&&(le.prototype.__proto__=Uint8Array.prototype,le.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&le[Symbol.species]);function Iw(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function hI(e,t,r,n){return Iw(t),t<=0?zi(e,t):r!==void 0?typeof n=="string"?zi(e,t).fill(r,n):zi(e,t).fill(r):zi(e,t)}le.alloc=function(e,t,r){return hI(null,e,t,r)};function Ed(e,t){if(Iw(t),e=zi(e,t<0?0:Ad(t)|0),!le.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}le.allocUnsafe=function(e){return Ed(null,e)},le.allocUnsafeSlow=function(e){return Ed(null,e)};function dI(e,t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!le.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=Rw(t,r)|0;e=zi(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function Sd(e,t){var r=t.length<0?0:Ad(t.length)|0;e=zi(e,r);for(var n=0;n<r;n+=1)e[n]=t[n]&255;return e}function pI(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,r):t=new Uint8Array(t,r,n),le.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=le.prototype):e=Sd(e,t),e}function gI(e,t){if(Si(t)){var r=Ad(t.length)|0;return e=zi(e,r),e.length===0||t.copy(e,0,0,r),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||OI(t.length)?zi(e,0):Sd(e,t);if(t.type==="Buffer"&&Aw(t.data))return Sd(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Ad(e){if(e>=Iu())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Iu().toString(16)+" bytes");return e|0}le.isBuffer=MI;function Si(e){return!!(e!=null&&e._isBuffer)}le.compare=function(t,r){if(!Si(t)||!Si(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(t[s]!==r[s]){n=t[s],i=r[s];break}return n<i?-1:i<n?1:0},le.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},le.concat=function(t,r){if(!Aw(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return le.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var i=le.allocUnsafe(r),s=0;for(n=0;n<t.length;++n){var o=t[n];if(!Si(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};function Rw(e,t){if(Si(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return ku(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Pw(e).length;default:if(n)return ku(e).length;t=(""+t).toLowerCase(),n=!0}}le.byteLength=Rw;function yI(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return BI(this,t,r);case"utf8":case"utf-8":return Lw(this,t,r);case"ascii":return SI(this,t,r);case"latin1":case"binary":return AI(this,t,r);case"base64":return xI(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return II(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}le.prototype._isBuffer=!0;function oo(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}le.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)oo(this,r,r+1);return this},le.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)oo(this,r,r+3),oo(this,r+1,r+2);return this},le.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)oo(this,r,r+7),oo(this,r+1,r+6),oo(this,r+2,r+5),oo(this,r+3,r+4);return this},le.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Lw(this,0,t):yI.apply(this,arguments)},le.prototype.equals=function(t){if(!Si(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:le.compare(this,t)===0},le.prototype.inspect=function(){var t="",r=lI;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},le.prototype.compare=function(t,r,n,i,s){if(!Si(t))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>t.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===t)return 0;for(var o=s-i,a=n-r,c=Math.min(o,a),u=this.slice(i,s),l=t.slice(r,n),y=0;y<c;++y)if(u[y]!==l[y]){o=u[y],a=l[y];break}return o<a?-1:a<o?1:0};function Tw(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=le.from(t,n)),Si(t))return t.length===0?-1:kw(e,t,r,n,i);if(typeof t=="number")return t=t&255,le.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):kw(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function kw(e,t,r,n,i){var s=1,o=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,o/=2,a/=2,r/=2}function c(b,R){return s===1?b[R]:b.readUInt16BE(R*s)}var u;if(i){var l=-1;for(u=r;u<o;u++)if(c(e,u)===c(t,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*s}else l!==-1&&(u-=u-l),l=-1}else for(r+a>o&&(r=o-a),u=r;u>=0;u--){for(var y=!0,A=0;A<a;A++)if(c(e,u+A)!==c(t,A)){y=!1;break}if(y)return u}return-1}le.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1},le.prototype.indexOf=function(t,r,n){return Tw(this,t,r,n,!0)},le.prototype.lastIndexOf=function(t,r,n){return Tw(this,t,r,n,!1)};function wI(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(o*2,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function mI(e,t,r,n){return Cu(ku(t,e.length-r),e,r,n)}function Cw(e,t,r,n){return Cu(LI(t),e,r,n)}function bI(e,t,r,n){return Cw(e,t,r,n)}function vI(e,t,r,n){return Cu(Pw(t),e,r,n)}function _I(e,t,r,n){return Cu($I(t,e.length-r),e,r,n)}le.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return wI(this,t,r,n);case"utf8":case"utf-8":return mI(this,t,r,n);case"ascii":return Cw(this,t,r,n);case"latin1":case"binary":return bI(this,t,r,n);case"base64":return vI(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _I(this,t,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},le.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xI(e,t,r){return t===0&&r===e.length?Ew(e):Ew(e.slice(t,r))}function Lw(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s=e[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var c,u,l,y;switch(a){case 1:s<128&&(o=s);break;case 2:c=e[i+1],(c&192)===128&&(y=(s&31)<<6|c&63,y>127&&(o=y));break;case 3:c=e[i+1],u=e[i+2],(c&192)===128&&(u&192)===128&&(y=(s&15)<<12|(c&63)<<6|u&63,y>2047&&(y<55296||y>57343)&&(o=y));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],(c&192)===128&&(u&192)===128&&(l&192)===128&&(y=(s&15)<<18|(c&63)<<12|(u&63)<<6|l&63,y>65535&&y<1114112&&(o=y))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return EI(n)}var $w=4096;function EI(e){var t=e.length;if(t<=$w)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=$w));return r}function SI(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function AI(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function BI(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=CI(e[s]);return i}function II(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}le.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var i;if(le.TYPED_ARRAY_SUPPORT)i=this.subarray(t,r),i.__proto__=le.prototype;else{var s=r-t;i=new le(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+t]}return i};function qr(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}le.prototype.readUIntLE=function(t,r,n){t=t|0,r=r|0,n||qr(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return i},le.prototype.readUIntBE=function(t,r,n){t=t|0,r=r|0,n||qr(t,r,this.length);for(var i=this[t+--r],s=1;r>0&&(s*=256);)i+=this[t+--r]*s;return i},le.prototype.readUInt8=function(t,r){return r||qr(t,1,this.length),this[t]},le.prototype.readUInt16LE=function(t,r){return r||qr(t,2,this.length),this[t]|this[t+1]<<8},le.prototype.readUInt16BE=function(t,r){return r||qr(t,2,this.length),this[t]<<8|this[t+1]},le.prototype.readUInt32LE=function(t,r){return r||qr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},le.prototype.readUInt32BE=function(t,r){return r||qr(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},le.prototype.readIntLE=function(t,r,n){t=t|0,r=r|0,n||qr(t,r,this.length);for(var i=this[t],s=1,o=0;++o<r&&(s*=256);)i+=this[t+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i},le.prototype.readIntBE=function(t,r,n){t=t|0,r=r|0,n||qr(t,r,this.length);for(var i=r,s=1,o=this[t+--i];i>0&&(s*=256);)o+=this[t+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o},le.prototype.readInt8=function(t,r){return r||qr(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},le.prototype.readInt16LE=function(t,r){r||qr(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},le.prototype.readInt16BE=function(t,r){r||qr(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},le.prototype.readInt32LE=function(t,r){return r||qr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},le.prototype.readInt32BE=function(t,r){return r||qr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},le.prototype.readFloatLE=function(t,r){return r||qr(t,4,this.length),Bu(this,t,!0,23,4)},le.prototype.readFloatBE=function(t,r){return r||qr(t,4,this.length),Bu(this,t,!1,23,4)},le.prototype.readDoubleLE=function(t,r){return r||qr(t,8,this.length),Bu(this,t,!0,52,8)},le.prototype.readDoubleBE=function(t,r){return r||qr(t,8,this.length),Bu(this,t,!1,52,8)};function _n(e,t,r,n,i,s){if(!Si(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}le.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;_n(this,t,r,n,s,0)}var o=1,a=0;for(this[r]=t&255;++a<n&&(o*=256);)this[r+a]=t/o&255;return r+n},le.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;_n(this,t,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=t&255;--o>=0&&(a*=256);)this[r+o]=t/a&255;return r+n},le.prototype.writeUInt8=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,1,255,0),le.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=t&255,r+1};function Ru(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}le.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):Ru(this,t,r,!0),r+2},le.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,2,65535,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):Ru(this,t,r,!1),r+2};function Tu(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>(n?i:3-i)*8&255}le.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255):Tu(this,t,r,!0),r+4},le.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,4,4294967295,0),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):Tu(this,t,r,!1),r+4},le.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);_n(this,t,r,n,s-1,-s)}var o=0,a=1,c=0;for(this[r]=t&255;++o<n&&(a*=256);)t<0&&c===0&&this[r+o-1]!==0&&(c=1),this[r+o]=(t/a>>0)-c&255;return r+n},le.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r|0,!i){var s=Math.pow(2,8*n-1);_n(this,t,r,n,s-1,-s)}var o=n-1,a=1,c=0;for(this[r+o]=t&255;--o>=0&&(a*=256);)t<0&&c===0&&this[r+o+1]!==0&&(c=1),this[r+o]=(t/a>>0)-c&255;return r+n},le.prototype.writeInt8=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,1,127,-128),le.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=t&255,r+1},le.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8):Ru(this,t,r,!0),r+2},le.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,2,32767,-32768),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=t&255):Ru(this,t,r,!1),r+2},le.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,4,2147483647,-2147483648),le.TYPED_ARRAY_SUPPORT?(this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):Tu(this,t,r,!0),r+4},le.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r|0,n||_n(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),le.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255):Tu(this,t,r,!1),r+4};function Ow(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Mw(e,t,r,n,i){return i||Ow(e,t,r,4),Sw(e,t,r,n,23,4),r+4}le.prototype.writeFloatLE=function(t,r,n){return Mw(this,t,r,!0,n)},le.prototype.writeFloatBE=function(t,r,n){return Mw(this,t,r,!1,n)};function Nw(e,t,r,n,i){return i||Ow(e,t,r,8),Sw(e,t,r,n,52,8),r+8}le.prototype.writeDoubleLE=function(t,r,n){return Nw(this,t,r,!0,n)},le.prototype.writeDoubleBE=function(t,r,n){return Nw(this,t,r,!1,n)},le.prototype.copy=function(t,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);var s=i-n,o;if(this===t&&n<r&&r<i)for(o=s-1;o>=0;--o)t[o+r]=this[o+n];else if(s<1e3||!le.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+r]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),r);return s},le.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var s=t.charCodeAt(0);s<256&&(t=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!le.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{var a=Si(t)?t:ku(new le(t,i).toString()),c=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%c]}return this};var RI=/[^+\/0-9A-Za-z-_]/g;function TI(e){if(e=kI(e).replace(RI,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function kI(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function CI(e){return e<16?"0"+e.toString(16):e.toString(16)}function ku(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function LI(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function $I(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Pw(e){return aI(TI(e))}function Cu(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function OI(e){return e!==e}function MI(e){return e!=null&&(!!e._isBuffer||Uw(e)||NI(e))}function Uw(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function NI(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Uw(e.slice(0,0))}function Fw(){throw new Error("setTimeout has not been defined")}function Hw(){throw new Error("clearTimeout has not been defined")}var _s=Fw,xs=Hw;typeof pr.setTimeout=="function"&&(_s=setTimeout),typeof pr.clearTimeout=="function"&&(xs=clearTimeout);function Dw(e){if(_s===setTimeout)return setTimeout(e,0);if((_s===Fw||!_s)&&setTimeout)return _s=setTimeout,setTimeout(e,0);try{return _s(e,0)}catch{try{return _s.call(null,e,0)}catch{return _s.call(this,e,0)}}}function PI(e){if(xs===clearTimeout)return clearTimeout(e);if((xs===Hw||!xs)&&clearTimeout)return xs=clearTimeout,clearTimeout(e);try{return xs(e)}catch{try{return xs.call(null,e)}catch{return xs.call(this,e)}}}var Vi=[],aa=!1,ao,Lu=-1;function UI(){!aa||!ao||(aa=!1,ao.length?Vi=ao.concat(Vi):Lu=-1,Vi.length&&jw())}function jw(){if(!aa){var e=Dw(UI);aa=!0;for(var t=Vi.length;t;){for(ao=Vi,Vi=[];++Lu<t;)ao&&ao[Lu].run();Lu=-1,t=Vi.length}ao=null,aa=!1,PI(e)}}function Nn(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Vi.push(new qw(e,t)),Vi.length===1&&!aa&&Dw(jw)}function qw(e,t){this.fun=e,this.array=t}qw.prototype.run=function(){this.fun.apply(null,this.array)};var FI="browser",HI="browser",DI=!0,jI={},qI=[],zI="",VI={},KI={},WI={};function co(){}var GI=co,ZI=co,YI=co,XI=co,JI=co,QI=co,eR=co;function tR(e){throw new Error("process.binding is not supported")}function rR(){return"/"}function nR(e){throw new Error("process.chdir is not supported")}function iR(){return 0}var ca=pr.performance||{},sR=ca.now||ca.mozNow||ca.msNow||ca.oNow||ca.webkitNow||function(){return new Date().getTime()};function oR(e){var t=sR.call(ca)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}var aR=new Date;function cR(){var e=new Date,t=e-aR;return t/1e3}var xn={nextTick:Nn,title:FI,browser:DI,env:jI,argv:qI,version:zI,versions:VI,on:GI,addListener:ZI,once:YI,off:XI,removeListener:JI,removeAllListeners:QI,emit:eR,binding:tR,cwd:rR,chdir:nR,umask:iR,hrtime:oR,platform:HI,release:KI,config:WI,uptime:cR},Bd=dc(pr.fetch)&&dc(pr.ReadableStream),hc;function fR(){if(typeof hc<"u")return hc;try{new pr.Blob([new ArrayBuffer(1)]),hc=!0}catch{hc=!1}return hc}var fo;function Id(e){fo||(fo=new pr.XMLHttpRequest,fo.open("GET",pr.location.host?"/":"https://example.com"));try{return fo.responseType=e,fo.responseType===e}catch{return!1}}var Rd=typeof pr.ArrayBuffer<"u",uR=Rd&&dc(pr.ArrayBuffer.prototype.slice),lR=Rd&&Id("arraybuffer"),hR=!Bd&&uR&&Id("ms-stream"),dR=!Bd&&Rd&&Id("moz-chunked-arraybuffer"),zw=dc(fo.overrideMimeType),pR=dc(pr.VBArray);function dc(e){return typeof e=="function"}fo=null;var Td;typeof Object.create=="function"?Td=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:Td=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t};var zr=Td,Vw=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i]);return n},gR=/%[sdj%]/g;function $u(e){if(!Es(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Ai(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(e).replace(gR,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])Ki(o)||!Wi(o)?s+=" "+o:s+=" "+Ai(o);return s}function Ou(e,t){if(Bi(pr.process))return function(){return Ou(e,t).apply(this,arguments)};if(xn.noDeprecation===!0)return e;var r=!1;function n(){if(!r){if(xn.throwDeprecation)throw new Error(t);xn.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n}var Mu={},kd;function Cd(e){if(Bi(kd)&&(kd=xn.env.NODE_DEBUG||""),e=e.toUpperCase(),!Mu[e])if(new RegExp("\\b"+e+"\\b","i").test(kd)){var t=0;Mu[e]=function(){var r=$u.apply(null,arguments);console.error("%s %d: %s",e,t,r)}}else Mu[e]=function(){};return Mu[e]}function Ai(e,t){var r={seen:[],stylize:wR};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Pu(t)?r.showHidden=t:t&&Fd(r,t),Bi(r.showHidden)&&(r.showHidden=!1),Bi(r.depth)&&(r.depth=2),Bi(r.colors)&&(r.colors=!1),Bi(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=yR),Nu(r,e,r.depth)}Ai.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ai.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function yR(e,t){var r=Ai.styles[t];return r?"\x1B["+Ai.colors[r][0]+"m"+e+"\x1B["+Ai.colors[r][1]+"m":e}function wR(e,t){return e}function mR(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function Nu(e,t,r){if(e.customInspect&&t&&yc(t.inspect)&&t.inspect!==Ai&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return Es(n)||(n=Nu(e,n,r)),n}var i=bR(e,t);if(i)return i;var s=Object.keys(t),o=mR(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),gc(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Ld(t);if(s.length===0){if(yc(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(pc(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Uu(t))return e.stylize(Date.prototype.toString.call(t),"date");if(gc(t))return Ld(t)}var c="",u=!1,l=["{","}"];if(Od(t)&&(u=!0,l=["[","]"]),yc(t)){var y=t.name?": "+t.name:"";c=" [Function"+y+"]"}if(pc(t)&&(c=" "+RegExp.prototype.toString.call(t)),Uu(t)&&(c=" "+Date.prototype.toUTCString.call(t)),gc(t)&&(c=" "+Ld(t)),s.length===0&&(!u||t.length==0))return l[0]+c+l[1];if(r<0)return pc(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var A;return u?A=vR(e,t,r,o,s):A=s.map(function(b){return $d(e,t,r,o,b,u)}),e.seen.pop(),_R(A,c,l)}function bR(e,t){if(Bi(t))return e.stylize("undefined","undefined");if(Es(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Nd(t))return e.stylize(""+t,"number");if(Pu(t))return e.stylize(""+t,"boolean");if(Ki(t))return e.stylize("null","null")}function Ld(e){return"["+Error.prototype.toString.call(e)+"]"}function vR(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)Yw(t,String(o))?s.push($d(e,t,r,n,String(o),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push($d(e,t,r,n,c,!0))}),s}function $d(e,t,r,n,i,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?c.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),Yw(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(Ki(r)?a=Nu(e,c.value,null):a=Nu(e,c.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),Bi(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function _R(e,t,r){var n=e.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function Od(e){return Array.isArray(e)}function Pu(e){return typeof e=="boolean"}function Ki(e){return e===null}function Md(e){return e==null}function Nd(e){return typeof e=="number"}function Es(e){return typeof e=="string"}function Kw(e){return typeof e=="symbol"}function Bi(e){return e===void 0}function pc(e){return Wi(e)&&Pd(e)==="[object RegExp]"}function Wi(e){return typeof e=="object"&&e!==null}function Uu(e){return Wi(e)&&Pd(e)==="[object Date]"}function gc(e){return Wi(e)&&(Pd(e)==="[object Error]"||e instanceof Error)}function yc(e){return typeof e=="function"}function Ww(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}function Gw(e){return le.isBuffer(e)}function Pd(e){return Object.prototype.toString.call(e)}function Ud(e){return e<10?"0"+e.toString(10):e.toString(10)}var xR=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ER(){var e=new Date,t=[Ud(e.getHours()),Ud(e.getMinutes()),Ud(e.getSeconds())].join(":");return[e.getDate(),xR[e.getMonth()],t].join(" ")}function Zw(){console.log("%s - %s",ER(),$u.apply(null,arguments))}function Fd(e,t){if(!t||!Wi(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Yw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var uo=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Hd(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(uo&&e[uo]){var t=e[uo];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,uo,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var r,n,i=new Promise(function(a,c){r=a,n=c}),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push(function(a,c){a?n(a):r(c)});try{e.apply(this,s)}catch(a){n(a)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),uo&&Object.defineProperty(t,uo,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Vw(e))}Hd.custom=uo;function SR(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function Xw(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,r).then(function(a){xn.nextTick(o.bind(null,null,a))},function(a){xn.nextTick(SR.bind(null,a,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,Vw(e)),t}var AR={inherits:zr,_extend:Fd,log:Zw,isBuffer:Gw,isPrimitive:Ww,isFunction:yc,isError:gc,isDate:Uu,isObject:Wi,isRegExp:pc,isUndefined:Bi,isSymbol:Kw,isString:Es,isNumber:Nd,isNullOrUndefined:Md,isNull:Ki,isBoolean:Pu,isArray:Od,inspect:Ai,deprecate:Ou,format:$u,debuglog:Cd,promisify:Hd,callbackify:Xw},BR=Object.freeze({__proto__:null,format:$u,deprecate:Ou,debuglog:Cd,inspect:Ai,isArray:Od,isBoolean:Pu,isNull:Ki,isNullOrUndefined:Md,isNumber:Nd,isString:Es,isSymbol:Kw,isUndefined:Bi,isRegExp:pc,isObject:Wi,isDate:Uu,isError:gc,isFunction:yc,isPrimitive:Ww,isBuffer:Gw,log:Zw,inherits:zr,_extend:Fd,promisify:Hd,callbackify:Xw,default:AR});function lo(){this.head=null,this.tail=null,this.length=0}lo.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},lo.prototype.unshift=function(e){var t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},lo.prototype.shift=function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},lo.prototype.clear=function(){this.head=this.tail=null,this.length=0},lo.prototype.join=function(e){if(this.length===0)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},lo.prototype.concat=function(e){if(this.length===0)return ae.Buffer.alloc(0);if(this.length===1)return this.head.data;for(var t=ae.Buffer.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Dd=mf.exports.Buffer,Jw=Dd.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function IR(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function RR(e){var t=IR(e);if(typeof t!="string"&&(Dd.isEncoding===Jw||!Jw(e)))throw new Error("Unknown encoding: "+e);return t||e}var Qw=wc;function wc(e){this.encoding=RR(e);var t;switch(this.encoding){case"utf16le":this.text=OR,this.end=MR,t=4;break;case"utf8":this.fillLast=CR,t=4;break;case"base64":this.text=NR,this.end=PR,t=3;break;default:this.write=UR,this.end=FR;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Dd.allocUnsafe(t)}wc.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},wc.prototype.end=$R,wc.prototype.text=LR,wc.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function jd(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function TR(e,t,r){var n=t.length-1;if(n<r)return 0;var i=jd(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=jd(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=jd(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function kR(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function CR(e){var t=this.lastTotal-this.lastNeed,r=kR(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function LR(e,t){var r=TR(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function $R(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function OR(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function MR(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function NR(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function PR(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function UR(e){return e.toString(this.encoding)}function FR(e){return e&&e.length?this.write(e):""}ar.ReadableState=em;var Vt=Cd("stream");zr(ar,Hn.exports);function HR(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function DR(e,t){return e.listeners(t).length}function em(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Zn&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new lo,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Qw(e.encoding),this.encoding=e.encoding)}function ar(e){if(!(this instanceof ar))return new ar(e);this._readableState=new em(e,this),this.readable=!0,e&&typeof e.read=="function"&&(this._read=e.read),Hn.exports.call(this)}ar.prototype.push=function(e,t){var r=this._readableState;return!r.objectMode&&typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=le.from(e,t),t="")),tm(this,r,e,t,!1)},ar.prototype.unshift=function(e){var t=this._readableState;return tm(this,t,e,"",!0)},ar.prototype.isPaused=function(){return this._readableState.flowing===!1};function tm(e,t,r,n,i){var s=zR(t,r);if(s)e.emit("error",s);else if(r===null)t.reading=!1,VR(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;t.decoder&&!i&&!n&&(r=t.decoder.write(r),c=!t.objectMode&&r.length===0),i||(t.reading=!1),c||(t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Fu(e))),KR(e,t)}else i||(t.reading=!1);return jR(t)}function jR(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ar.prototype.setEncoding=function(e){return this._readableState.decoder=new Qw(e),this._readableState.encoding=e,this};var rm=8388608;function qR(e){return e>=rm?e=rm:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function nm(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=qR(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}ar.prototype.read=function(e){Vt("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Vt("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?zd(this):Fu(this),null;if(e=nm(e,t),e===0&&t.ended)return t.length===0&&zd(this),null;var n=t.needReadable;Vt("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,Vt("length less than watermark",n)),t.ended||t.reading?(n=!1,Vt("reading or ended",n)):n&&(Vt("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=nm(r,t)));var i;return e>0?i=sm(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&zd(this)),i!==null&&this.emit("data",i),i};function zR(e,t){var r=null;return!le.isBuffer(t)&&typeof t!="string"&&t!==null&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function VR(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Fu(e)}}function Fu(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Vt("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Nn(im,e):im(e))}function im(e){Vt("emit readable"),e.emit("readable"),qd(e)}function KR(e,t){t.readingMore||(t.readingMore=!0,Nn(WR,e,t))}function WR(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Vt("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}ar.prototype._read=function(e){this.emit("error",new Error("not implemented"))},ar.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,Vt("pipe count=%d opts=%j",n.pipesCount,t);var i=!t||t.end!==!1,s=i?a:l;n.endEmitted?Nn(s):r.once("end",s),e.on("unpipe",o);function o(D){Vt("onunpipe"),D===r&&l()}function a(){Vt("onend"),e.end()}var c=GR(r);e.on("drain",c);var u=!1;function l(){Vt("cleanup"),e.removeListener("close",R),e.removeListener("finish",O),e.removeListener("drain",c),e.removeListener("error",b),e.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",l),r.removeListener("data",A),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c()}var y=!1;r.on("data",A);function A(D){Vt("ondata"),y=!1;var F=e.write(D);F===!1&&!y&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&om(n.pipes,e)!==-1)&&!u&&(Vt("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,y=!0),r.pause())}function b(D){Vt("onerror",D),P(),e.removeListener("error",b),DR(e,"error")===0&&e.emit("error",D)}HR(e,"error",b);function R(){e.removeListener("finish",O),P()}e.once("close",R);function O(){Vt("onfinish"),e.removeListener("close",R),P()}e.once("finish",O);function P(){Vt("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(Vt("pipe resume"),r.resume()),e};function GR(e){return function(){var t=e._readableState;Vt("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&e.listeners("data").length&&(t.flowing=!0,qd(e))}}ar.prototype.unpipe=function(e){var t=this._readableState;if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=om(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},ar.prototype.on=function(e,t){var r=Hn.exports.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Fu(this):Nn(ZR,this))}return r},ar.prototype.addListener=ar.prototype.on;function ZR(e){Vt("readable nexttick read 0"),e.read(0)}ar.prototype.resume=function(){var e=this._readableState;return e.flowing||(Vt("resume"),e.flowing=!0,YR(this,e)),this};function YR(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Nn(XR,e,t))}function XR(e,t){t.reading||(Vt("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),qd(e),t.flowing&&!t.reading&&e.read(0)}ar.prototype.pause=function(){return Vt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Vt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function qd(e){var t=e._readableState;for(Vt("flow",t.flowing);t.flowing&&e.read()!==null;);}ar.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(Vt("wrapped end"),t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),e.on("data",function(o){if(Vt("wrapped data"),t.decoder&&(o=t.decoder.write(o)),!(t.objectMode&&o==null)&&!(!t.objectMode&&(!o||!o.length))){var a=n.push(o);a||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));var s=["error","close","destroy","pause","resume"];return rT(s,function(o){e.on(o,n.emit.bind(n,o))}),n._read=function(o){Vt("wrapped _read",o),r&&(r=!1,e.resume())},n},ar._fromList=sm;function sm(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=JR(e,t.buffer,t.decoder),r}function JR(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?QR(e,t):eT(e,t),n}function QR(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),e-=o,e===0){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}function eT(e,t){var r=le.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,e===0){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}function zd(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Nn(tT,t,e))}function tT(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function rT(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function om(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Lr.WritableState=Vd,zr(Lr,Hn.exports.EventEmitter);function nT(){}function iT(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function Vd(e,t){Object.defineProperty(this,"buffer",{get:Ou(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Zn&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){lT(t,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new hm(this)}Vd.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};function Lr(e){if(!(this instanceof Lr)&&!(this instanceof Zn))return new Lr(e);this._writableState=new Vd(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev)),Hn.exports.EventEmitter.call(this)}Lr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function sT(e,t){var r=new Error("write after end");e.emit("error",r),Nn(t,r)}function oT(e,t,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):!ae.Buffer.isBuffer(r)&&typeof r!="string"&&r!==void 0&&!t.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),Nn(n,s),i=!1),i}Lr.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return typeof t=="function"&&(r=t,t=null),ae.Buffer.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=nT),n.ended?sT(this,r):oT(this,n,e,r)&&(n.pendingcb++,i=cT(this,n,e,t,r)),i},Lr.prototype.cork=function(){var e=this._writableState;e.corked++},Lr.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&cm(this,e))},Lr.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function aT(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=ae.Buffer.from(t,r)),t}function cT(e,t,r,n,i){r=aT(t,r,n),ae.Buffer.isBuffer(r)&&(n="buffer");var s=t.objectMode?1:r.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new iT(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Kd(e,t,!1,s,r,n,i);return o}function Kd(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function fT(e,t,r,n,i){--t.pendingcb,r?Nn(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function uT(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function lT(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(uT(r),t)fT(e,r,n,t,i);else{var s=fm(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&cm(e,r),n?Nn(am,e,r,s,i):am(e,r,s,i)}}function am(e,t,r,n){r||hT(e,t),t.pendingcb--,n(),lm(e,t)}function hT(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function cm(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;Kd(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new hm(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback,l=t.objectMode?1:a.length;if(Kd(e,t,!1,l,a,c,u),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}Lr.prototype._write=function(e,t,r){r(new Error("not implemented"))},Lr.prototype._writev=null,Lr.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&dT(this,n,r)};function fm(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function um(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function lm(e,t){var r=fm(t);return r&&(t.pendingcb===0?(um(e,t),t.finished=!0,e.emit("finish")):um(e,t)),r}function dT(e,t,r){t.ending=!0,lm(e,t),r&&(t.finished?Nn(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function hm(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}zr(Zn,ar);for(var dm=Object.keys(Lr.prototype),Wd=0;Wd<dm.length;Wd++){var Gd=dm[Wd];Zn.prototype[Gd]||(Zn.prototype[Gd]=Lr.prototype[Gd])}function Zn(e){if(!(this instanceof Zn))return new Zn(e);ar.call(this,e),Lr.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",pT)}function pT(){this.allowHalfOpen||this._writableState.ended||Nn(gT,this)}function gT(e){e.end()}zr(Yn,Zn);function yT(e){this.afterTransform=function(t,r){return wT(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function wT(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}function Yn(e){if(!(this instanceof Yn))return new Yn(e);Zn.call(this,e),this._transformState=new yT(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r){pm(t,r)}):pm(t)})}Yn.prototype.push=function(e,t){return this._transformState.needTransform=!1,Zn.prototype.push.call(this,e,t)},Yn.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Yn.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Yn.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};function pm(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}zr(mc,Yn);function mc(e){if(!(this instanceof mc))return new mc(e);Yn.call(this,e)}mc.prototype._transform=function(e,t,r){r(null,e)},zr(Gi,Hn.exports),Gi.Readable=ar,Gi.Writable=Lr,Gi.Duplex=Zn,Gi.Transform=Yn,Gi.PassThrough=mc,Gi.Stream=Gi;function Gi(){Hn.exports.call(this)}Gi.prototype.pipe=function(e,t){var r=this;function n(l){e.writable&&e.write(l)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}e.on("drain",i),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,typeof e.destroy=="function"&&e.destroy())}function c(l){if(u(),Hn.exports.listenerCount(this,"error")===0)throw l}r.on("error",c),e.on("error",c);function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var ho={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};function Hu(e,t,r){var n=this;ar.call(n),n._mode=r,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){xn.nextTick(function(){n.emit("close")})});var i;if(r==="fetch"){n._fetchResponse=t,n.url=t.url,n.statusCode=t.status,n.statusMessage=t.statusText;for(var s,o,a=t.headers[Symbol.iterator]();s=(o=a.next()).value,!o.done;)n.headers[s[0].toLowerCase()]=s[1],n.rawHeaders.push(s[0],s[1]);var c=t.body.getReader();i=function(){c.read().then(function(A){if(!n._destroyed){if(A.done){n.push(null);return}n.push(new le(A.value)),i()}})},i()}else{n._xhr=e,n._pos=0,n.url=e.responseURL,n.statusCode=e.status,n.statusMessage=e.statusText;var u=e.getAllResponseHeaders().split(/\r?\n/);if(u.forEach(function(A){var b=A.match(/^([^:]+):\s*(.*)/);if(b){var R=b[1].toLowerCase();R==="set-cookie"?(n.headers[R]===void 0&&(n.headers[R]=[]),n.headers[R].push(b[2])):n.headers[R]!==void 0?n.headers[R]+=", "+b[2]:n.headers[R]=b[2],n.rawHeaders.push(b[1],b[2])}}),n._charset="x-user-defined",!zw){var l=n.rawHeaders["mime-type"];if(l){var y=l.match(/;\s*charset=([^;])(;|$)/);y&&(n._charset=y[1].toLowerCase())}n._charset||(n._charset="utf-8")}}}zr(Hu,ar),Hu.prototype._read=function(){},Hu.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==ho.DONE)break;try{r=new pr.VBArray(t.responseBody).toArray()}catch{}if(r!==null){e.push(new le(r));break}case"text":try{r=t.responseText}catch{e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if(e._charset==="x-user-defined"){for(var i=new le(n.length),s=0;s<n.length;s++)i[s]=n.charCodeAt(s)&255;e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==ho.DONE||!t.response)break;r=t.response,e.push(new le(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==ho.LOADING||!r)break;e.push(new le(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==ho.LOADING)break;var o=new pr.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new le(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(r);break}e._xhr.readyState===ho.DONE&&e._mode!=="ms-stream"&&e.push(null)};function mT(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength)return e.buffer;if(typeof e.buffer.slice=="function")return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(ae.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}else throw new Error("Argument must be a Buffer")}function bT(e,t){return Bd&&t?"fetch":dR?"moz-chunked-arraybuffer":hR?"ms-stream":lR&&e?"arraybuffer":pR&&e?"text:vbarray":"text"}function Xr(e){var t=this;Lr.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new le(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(i){t.setHeader(i,e.headers[i])});var r,n=!0;if(e.mode==="disable-fetch")n=!1,r=!0;else if(e.mode==="prefer-streaming")r=!1;else if(e.mode==="allow-wrong-content-type")r=!zw;else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast")r=!0;else throw new Error("Invalid value for opts.mode");t._mode=bT(r,n),t.on("finish",function(){t._onFinish()})}zr(Xr,Lr);var vT=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];Xr.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();vT.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})},Xr.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value},Xr.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},Xr.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,r=e._headers,n;if((t.method==="POST"||t.method==="PUT"||t.method==="PATCH")&&(fR()?n=new pr.Blob(e._body.map(function(o){return mT(o)}),{type:(r["content-type"]||{}).value||""}):n=le.concat(e._body).toString()),e._mode==="fetch"){var i=Object.keys(r).map(function(o){return[r[o].name,r[o].value]});pr.fetch(e._opts.url,{method:e._opts.method,headers:i,body:n,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(o){e._fetchResponse=o,e._connect()},function(o){e.emit("error",o)})}else{var s=e._xhr=new pr.XMLHttpRequest;try{s.open(e._opts.method,e._opts.url,!0)}catch(o){xn.nextTick(function(){e.emit("error",o)});return}"responseType"in s&&(s.responseType=e._mode.split(":")[0]),"withCredentials"in s&&(s.withCredentials=!!t.withCredentials),e._mode==="text"&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(r).forEach(function(o){s.setRequestHeader(r[o].name,r[o].value)}),e._response=null,s.onreadystatechange=function(){switch(s.readyState){case ho.LOADING:case ho.DONE:e._onXHRProgress();break}},e._mode==="moz-chunked-arraybuffer"&&(s.onprogress=function(){e._onXHRProgress()}),s.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{s.send(n)}catch(o){xn.nextTick(function(){e.emit("error",o)});return}}}};function _T(e){try{var t=e.status;return t!==null&&t!==0}catch{return!1}}Xr.prototype._onXHRProgress=function(){var e=this;!_T(e._xhr)||e._destroyed||(e._response||e._connect(),e._response._onXHRProgress())},Xr.prototype._connect=function(){var e=this;e._destroyed||(e._response=new Hu(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},Xr.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()},Xr.prototype.abort=Xr.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},Xr.prototype.end=function(e,t,r){var n=this;typeof e=="function"&&(r=e,e=void 0),Lr.prototype.end.call(n,e,t,r)},Xr.prototype.flushHeaders=function(){},Xr.prototype.setTimeout=function(){},Xr.prototype.setNoDelay=function(){},Xr.prototype.setSocketKeepAlive=function(){};const Zd=2147483647,bc=36,gm=1,Yd=26,xT=38,ET=700,ST=72,AT=128,BT="-",IT=/[^\0-\x7F]/,RT=/[\x2E\u3002\uFF0E\uFF61]/g,TT={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Xd=bc-gm,fa=Math.floor,Jd=String.fromCharCode;function ym(e){throw new RangeError(TT[e])}function kT(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function CT(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(RT,".");const i=e.split("."),s=kT(i,t).join(".");return n+s}function LT(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const s=e.charCodeAt(r++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const wm=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},$T=function(e,t,r){let n=0;for(e=r?fa(e/ET):e>>1,e+=fa(e/t);e>Xd*Yd>>1;n+=bc)e=fa(e/Xd);return fa(n+(Xd+1)*e/(e+xT))},OT=function(e){const t=[];e=LT(e);const r=e.length;let n=AT,i=0,s=ST;for(const c of e)c<128&&t.push(Jd(c));const o=t.length;let a=o;for(o&&t.push(BT);a<r;){let c=Zd;for(const l of e)l>=n&&l<c&&(c=l);const u=a+1;c-n>fa((Zd-i)/u)&&ym("overflow"),i+=(c-n)*u,n=c;for(const l of e)if(l<n&&++i>Zd&&ym("overflow"),l===n){let y=i;for(let A=bc;;A+=bc){const b=A<=s?gm:A>=s+Yd?Yd:A-s;if(y<b)break;const R=y-b,O=bc-b;t.push(Jd(wm(b+R%O,0))),y=fa(R/O)}t.push(Jd(wm(y,0))),s=$T(i,u,a===o),i=0,++a}++i,++n}return t.join("")},MT=function(e){return CT(e,function(t){return IT.test(t)?"xn--"+OT(t):t})};function NT(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var mm=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function vc(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function PT(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?bm(UT(e),function(i){var s=encodeURIComponent(vc(i))+r;return mm(e[i])?bm(e[i],function(o){return s+encodeURIComponent(vc(o))}).join(t):s+encodeURIComponent(vc(e[i]))}).join(t):n?encodeURIComponent(vc(n))+r+encodeURIComponent(vc(e)):""}function bm(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var UT=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function vm(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var s=/\+/g;e=e.split(t);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var c=0;c<a;++c){var u=e[c].replace(s,"%20"),l=u.indexOf(r),y,A,b,R;l>=0?(y=u.substr(0,l),A=u.substr(l+1)):(y=u,A=""),b=decodeURIComponent(y),R=decodeURIComponent(A),NT(i,b)?mm(i[b])?i[b].push(R):i[b]=[i[b],R]:i[b]=R}return i}const _m=pr.URL,xm=pr.URLSearchParams;var FT={parse:po,resolve:Tm,resolveObject:km,fileURLToPath:Im,format:Rm,Url:Pn,URL:_m,URLSearchParams:xm};function Pn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var HT=/^([a-z0-9.+-]+:)/i,DT=/:[0-9]*$/,jT=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,qT=["<",">",'"',"`"," ","\r",`
`,"	"],zT=["{","}","|","\\","^","`"].concat(qT),Qd=["'"].concat(zT),Em=["%","/","?",";","#"].concat(Qd),Sm=["/","?","#"],VT=255,Am=/^[+a-z0-9A-Z_-]{0,63}$/,KT=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,WT={javascript:!0,"javascript:":!0},e0={javascript:!0,"javascript:":!0},ua={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function po(e,t,r){if(e&&Wi(e)&&e instanceof Pn)return e;var n=new Pn;return n.parse(e,t,r),n}Pn.prototype.parse=function(e,t,r){return Bm(this,e,t,r)};function Bm(e,t,r,n){if(!Es(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=i!==-1&&i<t.indexOf("#")?"?":"#",o=t.split(s),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(s);var c=t;if(c=c.trim(),!n&&t.split("#").length===1){var u=jT.exec(c);if(u)return e.path=c,e.href=c,e.pathname=u[1],u[2]?(e.search=u[2],r?e.query=vm(e.search.substr(1)):e.query=e.search.substr(1)):r&&(e.search="",e.query={}),e}var l=HT.exec(c);if(l){l=l[0];var y=l.toLowerCase();e.protocol=y,c=c.substr(l.length)}if(n||l||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var A=c.substr(0,2)==="//";A&&!(l&&e0[l])&&(c=c.substr(2),e.slashes=!0)}var b,R,O,P;if(!e0[l]&&(A||l&&!ua[l])){var D=-1;for(b=0;b<Sm.length;b++)R=c.indexOf(Sm[b]),R!==-1&&(D===-1||R<D)&&(D=R);var F,N;for(D===-1?N=c.lastIndexOf("@"):N=c.lastIndexOf("@",D),N!==-1&&(F=c.slice(0,N),c=c.slice(N+1),e.auth=decodeURIComponent(F)),D=-1,b=0;b<Em.length;b++)R=c.indexOf(Em[b]),R!==-1&&(D===-1||R<D)&&(D=R);D===-1&&(D=c.length),e.host=c.slice(0,D),c=c.slice(D),Cm(e),e.hostname=e.hostname||"";var $=e.hostname[0]==="["&&e.hostname[e.hostname.length-1]==="]";if(!$){var z=e.hostname.split(/\./);for(b=0,O=z.length;b<O;b++){var Z=z[b];if(Z&&!Z.match(Am)){for(var G="",q=0,ee=Z.length;q<ee;q++)Z.charCodeAt(q)>127?G+="x":G+=Z[q];if(!G.match(Am)){var ie=z.slice(0,b),Q=z.slice(b+1),I=Z.match(KT);I&&(ie.push(I[1]),Q.unshift(I[2])),Q.length&&(c="/"+Q.join(".")+c),e.hostname=ie.join(".");break}}}}e.hostname.length>VT?e.hostname="":e.hostname=e.hostname.toLowerCase(),$||(e.hostname=MT(e.hostname)),P=e.port?":"+e.port:"";var g=e.hostname||"";e.host=g+P,e.href+=e.host,$&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!WT[y])for(b=0,O=Qd.length;b<O;b++){var f=Qd[b];if(c.indexOf(f)!==-1){var h=encodeURIComponent(f);h===f&&(h=escape(f)),c=c.split(f).join(h)}}var m=c.indexOf("#");m!==-1&&(e.hash=c.substr(m),c=c.slice(0,m));var _=c.indexOf("?");if(_!==-1?(e.search=c.substr(_),e.query=c.substr(_+1),r&&(e.query=vm(e.query)),c=c.slice(0,_)):r&&(e.search="",e.query={}),c&&(e.pathname=c),ua[y]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){P=e.pathname||"";var x=e.search||"";e.path=P+x}return e.href=t0(e),e}function Im(e){if(typeof e=="string")e=new Pn().parse(e);else if(!(e instanceof Pn))throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+String(e));if(e.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return GT(e)}function GT(e){const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)|32;if(t[r+1]==="2"&&n===102)throw new TypeError("must not include encoded / characters")}return decodeURIComponent(t)}function Rm(e){return Es(e)&&(e=Bm({},e)),t0(e)}function t0(e){var t=e.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",i=e.hash||"",s=!1,o="";e.host?s=t+e.host:e.hostname&&(s=t+(e.hostname.indexOf(":")===-1?e.hostname:"["+this.hostname+"]"),e.port&&(s+=":"+e.port)),e.query&&Wi(e.query)&&Object.keys(e.query).length&&(o=PT(e.query));var a=e.search||o&&"?"+o||"";return r&&r.substr(-1)!==":"&&(r+=":"),e.slashes||(!r||ua[r])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),i&&i.charAt(0)!=="#"&&(i="#"+i),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),a=a.replace("#","%23"),r+s+n+a+i}Pn.prototype.format=function(){return t0(this)};function Tm(e,t){return po(e,!1,!0).resolve(t)}Pn.prototype.resolve=function(e){return this.resolveObject(po(e,!1,!0)).format()};function km(e,t){return e?po(e,!1,!0).resolveObject(t):t}Pn.prototype.resolveObject=function(e){if(Es(e)){var t=new Pn;t.parse(e,!1,!0),e=t}for(var r=new Pn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=e[c])}return ua[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}var u;if(e.protocol&&e.protocol!==r.protocol){if(!ua[e.protocol]){for(var l=Object.keys(e),y=0;y<l.length;y++){var A=l[y];r[A]=e[A]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!e0[e.protocol]){for(u=(e.pathname||"").split("/");u.length&&!(e.host=u.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),u[0]!==""&&u.unshift(""),u.length<2&&u.unshift(""),r.pathname=u.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var b=r.pathname||"",R=r.search||"";r.path=b+R}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var O=r.pathname&&r.pathname.charAt(0)==="/",P=e.host||e.pathname&&e.pathname.charAt(0)==="/",D=P||O||r.host&&e.pathname,F=D,N=r.pathname&&r.pathname.split("/")||[],$=r.protocol&&!ua[r.protocol];u=e.pathname&&e.pathname.split("/")||[],$&&(r.hostname="",r.port=null,r.host&&(N[0]===""?N[0]=r.host:N.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(u[0]===""?u[0]=e.host:u.unshift(e.host)),e.host=null),D=D&&(u[0]===""||N[0]===""));var z;if(P)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,N=u;else if(u.length)N||(N=[]),N.pop(),N=N.concat(u),r.search=e.search,r.query=e.query;else if(!Md(e.search))return $&&(r.hostname=r.host=N.shift(),z=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,z&&(r.auth=z.shift(),r.host=r.hostname=z.shift())),r.search=e.search,r.query=e.query,(!Ki(r.pathname)||!Ki(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!N.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var Z=N.slice(-1)[0],G=(r.host||e.host||N.length>1)&&(Z==="."||Z==="..")||Z==="",q=0,ee=N.length;ee>=0;ee--)Z=N[ee],Z==="."?N.splice(ee,1):Z===".."?(N.splice(ee,1),q++):q&&(N.splice(ee,1),q--);if(!D&&!F)for(;q--;q)N.unshift("..");D&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),G&&N.join("/").substr(-1)!=="/"&&N.push("");var ie=N[0]===""||N[0]&&N[0].charAt(0)==="/";return $&&(r.hostname=r.host=ie?"":N.length?N.shift():"",z=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1,z&&(r.auth=z.shift(),r.host=r.hostname=z.shift())),D=D||r.host&&N.length,D&&!ie&&N.unshift(""),N.length?r.pathname=N.join("/"):(r.pathname=null,r.path=null),(!Ki(r.pathname)||!Ki(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Pn.prototype.parseHost=function(){return Cm(this)};function Cm(e){var t=e.host,r=DT.exec(t);r&&(r=r[0],r!==":"&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}var ZT=Object.freeze({__proto__:null,parse:po,resolve:Tm,resolveObject:km,fileURLToPath:Im,format:Rm,URL:_m,URLSearchParams:xm,default:FT,Url:Pn});function r0(e,t){typeof e=="string"&&(e=po(e));var r=pr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,s=e.port,o=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(s?":"+s:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new Xr(e);return t&&a.on("response",t),a}function Lm(e,t){var r=r0(e,t);return r.end(),r}function n0(){}n0.defaultMaxSockets=4;var $m=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Om={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},YT={request:r0,get:Lm,Agent:n0,METHODS:$m,STATUS_CODES:Om},XT=Object.freeze({__proto__:null,request:r0,get:Lm,Agent:n0,METHODS:$m,STATUS_CODES:Om,default:YT}),JT=Un(XT);function i0(e,t){typeof e=="string"&&(e=po(e));var r=pr.location.protocol.search(/^https?:$/)===-1?"http:":"",n=e.protocol||r,i=e.hostname||e.host,s=e.port,o=e.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(s?":"+s:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new Xr(e);return t&&a.on("response",t),a}function Mm(e,t){var r=i0(e,t);return r.end(),r}function s0(){}s0.defaultMaxSockets=4;var Nm=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Pm={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},QT={request:i0,get:Mm,Agent:s0,METHODS:Nm,STATUS_CODES:Pm},e5=Object.freeze({__proto__:null,request:i0,get:Mm,Agent:s0,METHODS:Nm,STATUS_CODES:Pm,default:QT}),t5=Un(e5),Um={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function r5(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Zi(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var s=0;s<n;s++)e[i+s]=t[r+s]}var Du=Uint8Array,Xn=Uint16Array,ju=Int32Array,n5=4,Fm=0,Hm=1,i5=2;function la(e){for(var t=e.length;--t>=0;)e[t]=0}var s5=0,Dm=1,o5=2,a5=3,c5=258,o0=29,_c=256,xc=_c+1+o0,ha=30,a0=19,jm=2*xc+1,go=15,c0=16,f5=7,f0=256,qm=16,zm=17,Vm=18,u0=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],qu=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Km=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l5=512,Yi=new Array((xc+2)*2);la(Yi);var Ec=new Array(ha*2);la(Ec);var Sc=new Array(l5);la(Sc);var Ac=new Array(c5-a5+1);la(Ac);var l0=new Array(o0);la(l0);var zu=new Array(ha);la(zu);function h0(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var Wm,Gm,Zm;function d0(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Ym(e){return e<256?Sc[e]:Sc[256+(e>>>7)]}function Bc(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function En(e,t,r){e.bi_valid>c0-r?(e.bi_buf|=t<<e.bi_valid&65535,Bc(e,e.bi_buf),e.bi_buf=t>>c0-e.bi_valid,e.bi_valid+=r-c0):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Ii(e,t,r){En(e,r[t*2],r[t*2+1])}function Xm(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function h5(e){e.bi_valid===16?(Bc(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function d5(e,t){var r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length,u,l,y,A,b,R,O=0;for(A=0;A<=go;A++)e.bl_count[A]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<jm;u++)l=e.heap[u],A=r[r[l*2+1]*2+1]+1,A>c&&(A=c,O++),r[l*2+1]=A,!(l>n)&&(e.bl_count[A]++,b=0,l>=a&&(b=o[l-a]),R=r[l*2],e.opt_len+=R*(A+b),s&&(e.static_len+=R*(i[l*2+1]+b)));if(O!==0){do{for(A=c-1;e.bl_count[A]===0;)A--;e.bl_count[A]--,e.bl_count[A+1]+=2,e.bl_count[c]--,O-=2}while(O>0);for(A=c;A!==0;A--)for(l=e.bl_count[A];l!==0;)y=e.heap[--u],!(y>n)&&(r[y*2+1]!==A&&(e.opt_len+=(A-r[y*2+1])*r[y*2],r[y*2+1]=A),l--)}}function Jm(e,t,r){var n=new Array(go+1),i=0,s,o;for(s=1;s<=go;s++)n[s]=i=i+r[s-1]<<1;for(o=0;o<=t;o++){var a=e[o*2+1];a!==0&&(e[o*2]=Xm(n[a]++,a))}}function p5(){var e,t,r,n,i,s=new Array(go+1);for(r=0,n=0;n<o0-1;n++)for(l0[n]=r,e=0;e<1<<u0[n];e++)Ac[r++]=n;for(Ac[r-1]=n,i=0,n=0;n<16;n++)for(zu[n]=i,e=0;e<1<<qu[n];e++)Sc[i++]=n;for(i>>=7;n<ha;n++)for(zu[n]=i<<7,e=0;e<1<<qu[n]-7;e++)Sc[256+i++]=n;for(t=0;t<=go;t++)s[t]=0;for(e=0;e<=143;)Yi[e*2+1]=8,e++,s[8]++;for(;e<=255;)Yi[e*2+1]=9,e++,s[9]++;for(;e<=279;)Yi[e*2+1]=7,e++,s[7]++;for(;e<=287;)Yi[e*2+1]=8,e++,s[8]++;for(Jm(Yi,xc+1,s),e=0;e<ha;e++)Ec[e*2+1]=5,Ec[e*2]=Xm(e,5);Wm=new h0(Yi,u0,_c+1,xc,go),Gm=new h0(Ec,qu,0,ha,go),Zm=new h0(new Array(0),u5,0,a0,f5)}function Qm(e){var t;for(t=0;t<xc;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ha;t++)e.dyn_dtree[t*2]=0;for(t=0;t<a0;t++)e.bl_tree[t*2]=0;e.dyn_ltree[f0*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function eb(e){e.bi_valid>8?Bc(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function g5(e,t,r,n){eb(e),n&&(Bc(e,r),Bc(e,~r)),Zi(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function tb(e,t,r,n){var i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function p0(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&tb(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!tb(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function rb(e,t,r){var n,i,s=0,o,a;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],i=e.pending_buf[e.l_buf+s],s++,n===0?Ii(e,i,t):(o=Ac[i],Ii(e,o+_c+1,t),a=u0[o],a!==0&&(i-=l0[o],En(e,i,a)),n--,o=Ym(n),Ii(e,o,r),a=qu[o],a!==0&&(n-=zu[o],En(e,n,a)));while(s<e.last_lit);Ii(e,f0,t)}function g0(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems,o,a,c=-1,u;for(e.heap_len=0,e.heap_max=jm,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)p0(e,r,o);u=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],p0(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[u*2]=r[o*2]+r[a*2],e.depth[u]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[o*2+1]=r[a*2+1]=u,e.heap[1]=u++,p0(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d5(e,t),Jm(r,c,e.bl_count)}function nb(e,t,r){var n,i=-1,s,o=t[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++a<c&&s===o)&&(a<u?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[qm*2]++):a<=10?e.bl_tree[zm*2]++:e.bl_tree[Vm*2]++,a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))}function ib(e,t,r){var n,i=-1,s,o=t[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++a<c&&s===o)){if(a<u)do Ii(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ii(e,s,e.bl_tree),a--),Ii(e,qm,e.bl_tree),En(e,a-3,2)):a<=10?(Ii(e,zm,e.bl_tree),En(e,a-3,3)):(Ii(e,Vm,e.bl_tree),En(e,a-11,7));a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}}function y5(e){var t;for(nb(e,e.dyn_ltree,e.l_desc.max_code),nb(e,e.dyn_dtree,e.d_desc.max_code),g0(e,e.bl_desc),t=a0-1;t>=3&&e.bl_tree[Km[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function w5(e,t,r,n){var i;for(En(e,t-257,5),En(e,r-1,5),En(e,n-4,4),i=0;i<n;i++)En(e,e.bl_tree[Km[i]*2+1],3);ib(e,e.dyn_ltree,t-1),ib(e,e.dyn_dtree,r-1)}function m5(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Fm;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Hm;for(r=32;r<_c;r++)if(e.dyn_ltree[r*2]!==0)return Hm;return Fm}var sb=!1;function b5(e){sb||(p5(),sb=!0),e.l_desc=new d0(e.dyn_ltree,Wm),e.d_desc=new d0(e.dyn_dtree,Gm),e.bl_desc=new d0(e.bl_tree,Zm),e.bi_buf=0,e.bi_valid=0,Qm(e)}function ob(e,t,r,n){En(e,(s5<<1)+(n?1:0),3),g5(e,t,r,!0)}function v5(e){En(e,Dm<<1,3),Ii(e,f0,Yi),h5(e)}function _5(e,t,r,n){var i,s,o=0;e.level>0?(e.strm.data_type===i5&&(e.strm.data_type=m5(e)),g0(e,e.l_desc),g0(e,e.d_desc),o=y5(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?ob(e,t,r,n):e.strategy===n5||s===i?(En(e,(Dm<<1)+(n?1:0),3),rb(e,Yi,Ec)):(En(e,(o5<<1)+(n?1:0),3),w5(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),rb(e,e.dyn_ltree,e.dyn_dtree)),Qm(e),n&&eb(e)}function Ss(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Ac[r]+_c+1)*2]++,e.dyn_dtree[Ym(t)*2]++),e.last_lit===e.lit_bufsize-1}function y0(e,t,r,n){for(var i=e&65535|0,s=e>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0}function x5(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var E5=x5();function Vr(e,t,r,n){var i=E5,s=n+r;e^=-1;for(var o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1}var yo=0,S5=1,A5=3,As=4,ab=5,Bs=0,cb=1,Is=-2,B5=-3,w0=-5,I5=-1,R5=1,Vu=2,T5=3,k5=4,C5=2,m0=8,L5=9,$5=29,O5=256,b0=O5+1+$5,M5=30,N5=19,P5=2*b0+1,U5=15,Ft=3,Rs=258,si=Rs+Ft+1,F5=32,v0=42,_0=69,Ku=73,Wu=91,Gu=103,wo=113,Ic=666,$r=1,Rc=2,mo=3,da=4,H5=3;function Ts(e,t){return e.msg=Um[t],t}function fb(e){return(e<<1)-(e>4?9:0)}function bo(e){for(var t=e.length;--t>=0;)e[t]=0}function ks(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Zi(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function Jr(e,t){_5(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ks(e.strm)}function Pt(e,t){e.pending_buf[e.pending++]=t}function Tc(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function D5(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,Zi(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=y0(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Vr(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function ub(e,t){var r=e.max_chain_length,n=e.strstart,i,s,o=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-si?e.strstart-(e.w_size-si):0,u=e.window,l=e.w_mask,y=e.prev,A=e.strstart+Rs,b=u[n+o-1],R=u[n+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(u[i+o]!==R||u[i+o-1]!==b||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<A);if(s=Rs-(A-n),n=A-Rs,s>o){if(e.match_start=t,o=s,s>=a)break;b=u[n+o-1],R=u[n+o]}}while((t=y[t&l])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead}function kc(e){var t=e.w_size,r,n,i,s,o;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-si)){Zi(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);s+=t}if(e.strm.avail_in===0)break;if(n=D5(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=Ft)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+Ft-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Ft)););}while(e.lookahead<si&&e.strm.avail_in!==0)}function j5(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(kc(e),e.lookahead===0&&t===yo)return $r;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Jr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-si&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===As?(Jr(e,!0),e.strm.avail_out===0?mo:da):(e.strstart>e.block_start&&(Jr(e,!1),e.strm.avail_out===0),$r)}function x0(e,t){for(var r,n;;){if(e.lookahead<si){if(kc(e),e.lookahead<si&&t===yo)return $r;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ft&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-si&&(e.match_length=ub(e,r)),e.match_length>=Ft)if(n=Ss(e,e.strstart-e.match_start,e.match_length-Ft),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ft){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Ss(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=e.strstart<Ft-1?e.strstart:Ft-1,t===As?(Jr(e,!0),e.strm.avail_out===0?mo:da):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Rc}function pa(e,t){for(var r,n,i;;){if(e.lookahead<si){if(kc(e),e.lookahead<si&&t===yo)return $r;if(e.lookahead===0)break}if(r=0,e.lookahead>=Ft&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ft-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-si&&(e.match_length=ub(e,r),e.match_length<=5&&(e.strategy===R5||e.match_length===Ft&&e.strstart-e.match_start>4096)&&(e.match_length=Ft-1)),e.prev_length>=Ft&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ft,n=Ss(e,e.strstart-1-e.prev_match,e.prev_length-Ft),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ft-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ft-1,e.strstart++,n&&(Jr(e,!1),e.strm.avail_out===0))return $r}else if(e.match_available){if(n=Ss(e,0,e.window[e.strstart-1]),n&&Jr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return $r}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ss(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ft-1?e.strstart:Ft-1,t===As?(Jr(e,!0),e.strm.avail_out===0?mo:da):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Rc}function q5(e,t){for(var r,n,i,s,o=e.window;;){if(e.lookahead<=Rs){if(kc(e),e.lookahead<=Rs&&t===yo)return $r;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ft&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+Rs;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=Rs-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ft?(r=Ss(e,1,e.match_length-Ft),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Ss(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===As?(Jr(e,!0),e.strm.avail_out===0?mo:da):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Rc}function z5(e,t){for(var r;;){if(e.lookahead===0&&(kc(e),e.lookahead===0)){if(t===yo)return $r;break}if(e.match_length=0,r=Ss(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Jr(e,!1),e.strm.avail_out===0))return $r}return e.insert=0,t===As?(Jr(e,!0),e.strm.avail_out===0?mo:da):e.last_lit&&(Jr(e,!1),e.strm.avail_out===0)?$r:Rc}function Ri(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var ga;ga=[new Ri(0,0,0,0,j5),new Ri(4,4,8,4,x0),new Ri(4,5,16,8,x0),new Ri(4,6,32,32,x0),new Ri(4,4,16,16,pa),new Ri(8,16,32,32,pa),new Ri(8,16,128,128,pa),new Ri(8,32,128,256,pa),new Ri(32,128,258,1024,pa),new Ri(32,258,258,4096,pa)];function V5(e){e.window_size=2*e.w_size,bo(e.head),e.max_lazy_match=ga[e.level].max_lazy,e.good_match=ga[e.level].good_length,e.nice_match=ga[e.level].nice_length,e.max_chain_length=ga[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ft-1,e.match_available=0,e.ins_h=0}function K5(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Xn(P5*2),this.dyn_dtree=new Xn((2*M5+1)*2),this.bl_tree=new Xn((2*N5+1)*2),bo(this.dyn_ltree),bo(this.dyn_dtree),bo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Xn(U5+1),this.heap=new Xn(2*b0+1),bo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Xn(2*b0+1),bo(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W5(e){var t;return!e||!e.state?Ts(e,Is):(e.total_in=e.total_out=0,e.data_type=C5,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?v0:wo,e.adler=t.wrap===2?0:1,t.last_flush=yo,b5(t),Bs)}function lb(e){var t=W5(e);return t===Bs&&V5(e.state),t}function G5(e,t,r,n,i,s){if(!e)return Is;var o=1;if(t===I5&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>L5||r!==m0||n<8||n>15||t<0||t>9||s<0||s>k5)return Ts(e,Is);n===8&&(n=9);var a=new K5;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ft-1)/Ft),a.window=new Du(a.w_size*2),a.head=new Xn(a.hash_size),a.prev=new Xn(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Du(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=t,a.strategy=s,a.method=r,lb(e)}function Z5(e,t){var r,n,i,s;if(!e||!e.state||t>ab||t<0)return e?Ts(e,Is):Is;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===Ic&&t!==As)return Ts(e,e.avail_out===0?w0:Is);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===v0)if(n.wrap===2)e.adler=0,Pt(n,31),Pt(n,139),Pt(n,8),n.gzhead?(Pt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Pt(n,n.gzhead.time&255),Pt(n,n.gzhead.time>>8&255),Pt(n,n.gzhead.time>>16&255),Pt(n,n.gzhead.time>>24&255),Pt(n,n.level===9?2:n.strategy>=Vu||n.level<2?4:0),Pt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Pt(n,n.gzhead.extra.length&255),Pt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Vr(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=_0):(Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,0),Pt(n,n.level===9?2:n.strategy>=Vu||n.level<2?4:0),Pt(n,H5),n.status=wo);else{var o=m0+(n.w_bits-8<<4)<<8,a=-1;n.strategy>=Vu||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,o|=a<<6,n.strstart!==0&&(o|=F5),o+=31-o%31,n.status=wo,Tc(n,o),n.strstart!==0&&(Tc(n,e.adler>>>16),Tc(n,e.adler&65535)),e.adler=1}if(n.status===_0)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),ks(e),i=n.pending,n.pending===n.pending_buf_size));)Pt(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=Ku)}else n.status=Ku;if(n.status===Ku)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),ks(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,Pt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.gzindex=0,n.status=Wu)}else n.status=Wu;if(n.status===Wu)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),ks(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,Pt(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Vr(e.adler,n.pending_buf,n.pending-i,i)),s===0&&(n.status=Gu)}else n.status=Gu;if(n.status===Gu&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ks(e),n.pending+2<=n.pending_buf_size&&(Pt(n,e.adler&255),Pt(n,e.adler>>8&255),e.adler=0,n.status=wo)):n.status=wo),n.pending!==0){if(ks(e),e.avail_out===0)return n.last_flush=-1,Bs}else if(e.avail_in===0&&fb(t)<=fb(r)&&t!==As)return Ts(e,w0);if(n.status===Ic&&e.avail_in!==0)return Ts(e,w0);if(e.avail_in!==0||n.lookahead!==0||t!==yo&&n.status!==Ic){var c=n.strategy===Vu?z5(n,t):n.strategy===T5?q5(n,t):ga[n.level].func(n,t);if((c===mo||c===da)&&(n.status=Ic),c===$r||c===mo)return e.avail_out===0&&(n.last_flush=-1),Bs;if(c===Rc&&(t===S5?v5(n):t!==ab&&(ob(n,0,0,!1),t===A5&&(bo(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),ks(e),e.avail_out===0))return n.last_flush=-1,Bs}return t!==As?Bs:n.wrap<=0?cb:(n.wrap===2?(Pt(n,e.adler&255),Pt(n,e.adler>>8&255),Pt(n,e.adler>>16&255),Pt(n,e.adler>>24&255),Pt(n,e.total_in&255),Pt(n,e.total_in>>8&255),Pt(n,e.total_in>>16&255),Pt(n,e.total_in>>24&255)):(Tc(n,e.adler>>>16),Tc(n,e.adler&65535)),ks(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Bs:cb)}function Y5(e){var t;return!e||!e.state?Is:(t=e.state.status,t!==v0&&t!==_0&&t!==Ku&&t!==Wu&&t!==Gu&&t!==wo&&t!==Ic?Ts(e,Is):(e.state=null,t===wo?Ts(e,B5):Bs))}var Zu=30,X5=12;function J5(e,t){var r,n,i,s,o,a,c,u,l,y,A,b,R,O,P,D,F,N,$,z,Z,G,q,ee,ie;r=e.state,n=e.next_in,ee=e.input,i=n+(e.avail_in-5),s=e.next_out,ie=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,y=r.wnext,A=r.window,b=r.hold,R=r.bits,O=r.lencode,P=r.distcode,D=(1<<r.lenbits)-1,F=(1<<r.distbits)-1;e:do{R<15&&(b+=ee[n++]<<R,R+=8,b+=ee[n++]<<R,R+=8),N=O[b&D];t:for(;;){if($=N>>>24,b>>>=$,R-=$,$=N>>>16&255,$===0)ie[s++]=N&65535;else if($&16){z=N&65535,$&=15,$&&(R<$&&(b+=ee[n++]<<R,R+=8),z+=b&(1<<$)-1,b>>>=$,R-=$),R<15&&(b+=ee[n++]<<R,R+=8,b+=ee[n++]<<R,R+=8),N=P[b&F];r:for(;;){if($=N>>>24,b>>>=$,R-=$,$=N>>>16&255,$&16){if(Z=N&65535,$&=15,R<$&&(b+=ee[n++]<<R,R+=8,R<$&&(b+=ee[n++]<<R,R+=8)),Z+=b&(1<<$)-1,Z>c){e.msg="invalid distance too far back",r.mode=Zu;break e}if(b>>>=$,R-=$,$=s-o,Z>$){if($=Z-$,$>l&&r.sane){e.msg="invalid distance too far back",r.mode=Zu;break e}if(G=0,q=A,y===0){if(G+=u-$,$<z){z-=$;do ie[s++]=A[G++];while(--$);G=s-Z,q=ie}}else if(y<$){if(G+=u+y-$,$-=y,$<z){z-=$;do ie[s++]=A[G++];while(--$);if(G=0,y<z){$=y,z-=$;do ie[s++]=A[G++];while(--$);G=s-Z,q=ie}}}else if(G+=y-$,$<z){z-=$;do ie[s++]=A[G++];while(--$);G=s-Z,q=ie}for(;z>2;)ie[s++]=q[G++],ie[s++]=q[G++],ie[s++]=q[G++],z-=3;z&&(ie[s++]=q[G++],z>1&&(ie[s++]=q[G++]))}else{G=s-Z;do ie[s++]=ie[G++],ie[s++]=ie[G++],ie[s++]=ie[G++],z-=3;while(z>2);z&&(ie[s++]=ie[G++],z>1&&(ie[s++]=ie[G++]))}}else if($&64){e.msg="invalid distance code",r.mode=Zu;break e}else{N=P[(N&65535)+(b&(1<<$)-1)];continue r}break}}else if($&64)if($&32){r.mode=X5;break e}else{e.msg="invalid literal/length code",r.mode=Zu;break e}else{N=O[(N&65535)+(b&(1<<$)-1)];continue t}break}}while(n<i&&s<a);z=R>>3,n-=z,R-=z<<3,b&=(1<<R)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),r.hold=b,r.bits=R}var ya=15,hb=852,db=592,pb=0,E0=1,gb=2,Q5=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e4=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],t4=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],r4=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Cc(e,t,r,n,i,s,o,a){var c=a.bits,u=0,l=0,y=0,A=0,b=0,R=0,O=0,P=0,D=0,F=0,N,$,z,Z,G,q=null,ee=0,ie,Q=new Xn(ya+1),I=new Xn(ya+1),g=null,f=0,h,m,_;for(u=0;u<=ya;u++)Q[u]=0;for(l=0;l<n;l++)Q[t[r+l]]++;for(b=c,A=ya;A>=1&&Q[A]===0;A--);if(b>A&&(b=A),A===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(y=1;y<A&&Q[y]===0;y++);for(b<y&&(b=y),P=1,u=1;u<=ya;u++)if(P<<=1,P-=Q[u],P<0)return-1;if(P>0&&(e===pb||A!==1))return-1;for(I[1]=0,u=1;u<ya;u++)I[u+1]=I[u]+Q[u];for(l=0;l<n;l++)t[r+l]!==0&&(o[I[t[r+l]]++]=l);if(e===pb?(q=g=o,ie=19):e===E0?(q=Q5,ee-=257,g=e4,f-=257,ie=256):(q=t4,g=r4,ie=-1),F=0,l=0,u=y,G=s,R=b,O=0,z=-1,D=1<<b,Z=D-1,e===E0&&D>hb||e===gb&&D>db)return 1;for(;;){h=u-O,o[l]<ie?(m=0,_=o[l]):o[l]>ie?(m=g[f+o[l]],_=q[ee+o[l]]):(m=32+64,_=0),N=1<<u-O,$=1<<R,y=$;do $-=N,i[G+(F>>O)+$]=h<<24|m<<16|_|0;while($!==0);for(N=1<<u-1;F&N;)N>>=1;if(N!==0?(F&=N-1,F+=N):F=0,l++,--Q[u]===0){if(u===A)break;u=t[r+o[l]]}if(u>b&&(F&Z)!==z){for(O===0&&(O=b),G+=y,R=u-O,P=1<<R;R+O<A&&(P-=Q[R+O],!(P<=0));)R++,P<<=1;if(D+=1<<R,e===E0&&D>hb||e===gb&&D>db)return 1;z=F&Z,i[z]=b<<24|R<<16|G-s|0}}return F!==0&&(i[G+F]=u-O<<24|64<<16|0),a.bits=b,0}var n4=0,yb=1,wb=2,mb=4,i4=5,Yu=6,Lc=0,s4=1,o4=2,Cs=-2,a4=-3,c4=-4,f4=-5,bb=8,vb=1,_b=2,xb=3,Eb=4,Sb=5,Ab=6,Bb=7,Ib=8,Rb=9,Tb=10,kb=11,Xi=12,S0=13,Cb=14,A0=15,Lb=16,$b=17,Ob=18,Mb=19,Xu=20,Ju=21,Nb=22,Pb=23,Ub=24,Fb=25,Hb=26,B0=27,Db=28,jb=29,cr=30,u4=31,l4=32,h4=852,d4=592;function qb(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function p4(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Xn(320),this.work=new Xn(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g4(e){var t;return!e||!e.state?Cs:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=vb,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new ju(h4),t.distcode=t.distdyn=new ju(d4),t.sane=1,t.back=-1,Lc)}function zb(e){var t;return!e||!e.state?Cs:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,g4(e))}function y4(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Cs:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,zb(e))}function w4(e,t){var r,n;return e?(n=new p4,e.state=n,n.window=null,r=y4(e,t),r!==Lc&&(e.state=null),r):Cs}var Vb=!0,I0,R0;function m4(e){if(Vb){var t;for(I0=new ju(512),R0=new ju(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Cc(yb,e.lens,0,288,I0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Cc(wb,e.lens,0,32,R0,0,e.work,{bits:5}),Vb=!1}e.lencode=I0,e.lenbits=9,e.distcode=R0,e.distbits=5}function b4(e,t,r,n){var i,s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Du(s.wsize)),n>=s.wsize?(Zi(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),Zi(s.window,t,r-n,i,s.wnext),n-=i,n?(Zi(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}function v4(e,t){var r,n,i,s,o,a,c,u,l,y,A,b,R,O,P=0,D,F,N,$,z,Z,G,q,ee=new Du(4),ie,Q,I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Cs;r=e.state,r.mode===Xi&&(r.mode=S0),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,y=a,A=c,q=Lc;e:for(;;)switch(r.mode){case vb:if(r.wrap===0){r.mode=S0;break}for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.wrap&2&&u===35615){r.check=0,ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0),u=0,l=0,r.mode=_b;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=cr;break}if((u&15)!==bb){e.msg="unknown compression method",r.mode=cr;break}if(u>>>=4,l-=4,G=(u&15)+8,r.wbits===0)r.wbits=G;else if(G>r.wbits){e.msg="invalid window size",r.mode=cr;break}r.dmax=1<<G,e.adler=r.check=1,r.mode=u&512?Tb:Xi,u=0,l=0;break;case _b:for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.flags=u,(r.flags&255)!==bb){e.msg="unknown compression method",r.mode=cr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=cr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0,r.mode=xb;case xb:for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,ee[2]=u>>>16&255,ee[3]=u>>>24&255,r.check=Vr(r.check,ee,4,0)),u=0,l=0,r.mode=Eb;case Eb:for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0,r.mode=Sb;case Sb:if(r.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(ee[0]=u&255,ee[1]=u>>>8&255,r.check=Vr(r.check,ee,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=Ab;case Ab:if(r.flags&1024&&(b=r.length,b>a&&(b=a),b&&(r.head&&(G=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Zi(r.head.extra,n,s,b,G)),r.flags&512&&(r.check=Vr(r.check,n,b,s)),a-=b,s+=b,r.length-=b),r.length))break e;r.length=0,r.mode=Bb;case Bb:if(r.flags&2048){if(a===0)break e;b=0;do G=n[s+b++],r.head&&G&&r.length<65536&&(r.head.name+=String.fromCharCode(G));while(G&&b<a);if(r.flags&512&&(r.check=Vr(r.check,n,b,s)),a-=b,s+=b,G)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Ib;case Ib:if(r.flags&4096){if(a===0)break e;b=0;do G=n[s+b++],r.head&&G&&r.length<65536&&(r.head.comment+=String.fromCharCode(G));while(G&&b<a);if(r.flags&512&&(r.check=Vr(r.check,n,b,s)),a-=b,s+=b,G)break e}else r.head&&(r.head.comment=null);r.mode=Rb;case Rb:if(r.flags&512){for(;l<16;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=cr;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Xi;break;case Tb:for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}e.adler=r.check=qb(u),u=0,l=0,r.mode=kb;case kb:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,o4;e.adler=r.check=1,r.mode=Xi;case Xi:if(t===i4||t===Yu)break e;case S0:if(r.last){u>>>=l&7,l-=l&7,r.mode=B0;break}for(;l<3;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}switch(r.last=u&1,u>>>=1,l-=1,u&3){case 0:r.mode=Cb;break;case 1:if(m4(r),r.mode=Xu,t===Yu){u>>>=2,l-=2;break e}break;case 2:r.mode=$b;break;case 3:e.msg="invalid block type",r.mode=cr}u>>>=2,l-=2;break;case Cb:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=cr;break}if(r.length=u&65535,u=0,l=0,r.mode=A0,t===Yu)break e;case A0:r.mode=Lb;case Lb:if(b=r.length,b){if(b>a&&(b=a),b>c&&(b=c),b===0)break e;Zi(i,n,s,b,o),a-=b,s+=b,c-=b,o+=b,r.length-=b;break}r.mode=Xi;break;case $b:for(;l<14;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(r.nlen=(u&31)+257,u>>>=5,l-=5,r.ndist=(u&31)+1,u>>>=5,l-=5,r.ncode=(u&15)+4,u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=cr;break}r.have=0,r.mode=Ob;case Ob:for(;r.have<r.ncode;){for(;l<3;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.lens[I[r.have++]]=u&7,u>>>=3,l-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ie={bits:r.lenbits},q=Cc(n4,r.lens,0,19,r.lencode,0,r.work,ie),r.lenbits=ie.bits,q){e.msg="invalid code lengths set",r.mode=cr;break}r.have=0,r.mode=Mb;case Mb:for(;r.have<r.nlen+r.ndist;){for(;P=r.lencode[u&(1<<r.lenbits)-1],D=P>>>24,F=P>>>16&255,N=P&65535,!(D<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(N<16)u>>>=D,l-=D,r.lens[r.have++]=N;else{if(N===16){for(Q=D+2;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u>>>=D,l-=D,r.have===0){e.msg="invalid bit length repeat",r.mode=cr;break}G=r.lens[r.have-1],b=3+(u&3),u>>>=2,l-=2}else if(N===17){for(Q=D+3;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=D,l-=D,G=0,b=3+(u&7),u>>>=3,l-=3}else{for(Q=D+7;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=D,l-=D,G=0,b=11+(u&127),u>>>=7,l-=7}if(r.have+b>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=cr;break}for(;b--;)r.lens[r.have++]=G}}if(r.mode===cr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=cr;break}if(r.lenbits=9,ie={bits:r.lenbits},q=Cc(yb,r.lens,0,r.nlen,r.lencode,0,r.work,ie),r.lenbits=ie.bits,q){e.msg="invalid literal/lengths set",r.mode=cr;break}if(r.distbits=6,r.distcode=r.distdyn,ie={bits:r.distbits},q=Cc(wb,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ie),r.distbits=ie.bits,q){e.msg="invalid distances set",r.mode=cr;break}if(r.mode=Xu,t===Yu)break e;case Xu:r.mode=Ju;case Ju:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,J5(e,A),o=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,u=r.hold,l=r.bits,r.mode===Xi&&(r.back=-1);break}for(r.back=0;P=r.lencode[u&(1<<r.lenbits)-1],D=P>>>24,F=P>>>16&255,N=P&65535,!(D<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(F&&!(F&240)){for($=D,z=F,Z=N;P=r.lencode[Z+((u&(1<<$+z)-1)>>$)],D=P>>>24,F=P>>>16&255,N=P&65535,!($+D<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=D,l-=D,r.back+=D,r.length=N,F===0){r.mode=Hb;break}if(F&32){r.back=-1,r.mode=Xi;break}if(F&64){e.msg="invalid literal/length code",r.mode=cr;break}r.extra=F&15,r.mode=Nb;case Nb:if(r.extra){for(Q=r.extra;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Pb;case Pb:for(;P=r.distcode[u&(1<<r.distbits)-1],D=P>>>24,F=P>>>16&255,N=P&65535,!(D<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(!(F&240)){for($=D,z=F,Z=N;P=r.distcode[Z+((u&(1<<$+z)-1)>>$)],D=P>>>24,F=P>>>16&255,N=P&65535,!($+D<=l);){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}u>>>=$,l-=$,r.back+=$}if(u>>>=D,l-=D,r.back+=D,F&64){e.msg="invalid distance code",r.mode=cr;break}r.offset=N,r.extra=F&15,r.mode=Ub;case Ub:if(r.extra){for(Q=r.extra;l<Q;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=cr;break}r.mode=Fb;case Fb:if(c===0)break e;if(b=A-c,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=cr;break}b>r.wnext?(b-=r.wnext,R=r.wsize-b):R=r.wnext-b,b>r.length&&(b=r.length),O=r.window}else O=i,R=o-r.offset,b=r.length;b>c&&(b=c),c-=b,r.length-=b;do i[o++]=O[R++];while(--b);r.length===0&&(r.mode=Ju);break;case Hb:if(c===0)break e;i[o++]=r.length,c--,r.mode=Ju;break;case B0:if(r.wrap){for(;l<32;){if(a===0)break e;a--,u|=n[s++]<<l,l+=8}if(A-=c,e.total_out+=A,r.total+=A,A&&(e.adler=r.check=r.flags?Vr(r.check,i,A,o-A):y0(r.check,i,A,o-A)),A=c,(r.flags?u:qb(u))!==r.check){e.msg="incorrect data check",r.mode=cr;break}u=0,l=0}r.mode=Db;case Db:if(r.wrap&&r.flags){for(;l<32;){if(a===0)break e;a--,u+=n[s++]<<l,l+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=cr;break}u=0,l=0}r.mode=jb;case jb:q=s4;break e;case cr:q=a4;break e;case u4:return c4;case l4:default:return Cs}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,r.hold=u,r.bits=l,(r.wsize||A!==e.avail_out&&r.mode<cr&&(r.mode<B0||t!==mb))&&b4(e,e.output,e.next_out,A-e.avail_out),y-=e.avail_in,A-=e.avail_out,e.total_in+=y,e.total_out+=A,r.total+=A,r.wrap&&A&&(e.adler=r.check=r.flags?Vr(r.check,i,A,e.next_out-A):y0(r.check,i,A,e.next_out-A)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Xi?128:0)+(r.mode===Xu||r.mode===A0?256:0),(y===0&&A===0||t===mb)&&q===Lc&&(q=f4),q}function _4(e){if(!e||!e.state)return Cs;var t=e.state;return t.window&&(t.window=null),e.state=null,Lc}var T0=0,wa=1,Qu=2,$c=3,el=4,ma=5,Oc=6,Mc=7,Kb=0,Wb=1,Gb=2,Zb=3,k0=4,Yb=5,x4=6,tl=0,Xb=1,Jb=2,E4=-1,S4=-2,A4=-3,Qb=-5,B4=0,I4=1,R4=9,T4=-1,k4=1,C4=2,L4=3,$4=4,O4=0,M4=0,N4=1,P4=2,ev=8;function oi(e){if(e<wa||e>Mc)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}oi.prototype.init=function(e,t,r,n,i){this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=n,(this.mode===$c||this.mode===el)&&(this.windowBits+=16),this.mode===Mc&&(this.windowBits+=32),(this.mode===ma||this.mode===Oc)&&(this.windowBits=-this.windowBits),this.strm=new r5;var s;switch(this.mode){case wa:case $c:case ma:s=G5(this.strm,this.level,ev,this.windowBits,this.memLevel,this.strategy);break;case Qu:case el:case Oc:case Mc:s=w4(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(s!==tl){this._error(s);return}this.write_in_progress=!1,this.init_done=!0},oi.prototype.params=function(){throw new Error("deflateParams Not supported")},oi.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===T0)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},oi.prototype.write=function(e,t,r,n,i,s,o){this._writeCheck(),this.write_in_progress=!0;var a=this;return xn.nextTick(function(){a.write_in_progress=!1;var c=a._write(e,t,r,n,i,s,o);a.callback(c[0],c[1]),a.pending_close&&a.close()}),this};function U4(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}oi.prototype.writeSync=function(e,t,r,n,i,s,o){return this._writeCheck(),this._write(e,t,r,n,i,s,o)},oi.prototype._write=function(e,t,r,n,i,s,o){if(this.write_in_progress=!0,e!==Kb&&e!==Wb&&e!==Gb&&e!==Zb&&e!==k0&&e!==Yb)throw new Error("Invalid flush value");t==null&&(t=new le(0),n=0,r=0),i._set?i.set=i._set:i.set=U4;var a=this.strm;a.avail_in=n,a.input=t,a.next_in=r,a.avail_out=o,a.output=i,a.next_out=s;var c;switch(this.mode){case wa:case $c:case ma:c=Z5(a,e);break;case Mc:case Qu:case el:case Oc:c=v4(a,e);break;default:throw new Error("Unknown mode "+this.mode)}return this._checkError(c,a,e)||this._error(c),this.write_in_progress=!1,[a.avail_in,a.avail_out]},oi.prototype._checkError=function(e,t,r){switch(e){case tl:case Qb:if(t.avail_out!==0&&r===k0)return!1;break;case Xb:break;case Jb:return!1;default:return!1}return!0},oi.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===wa||this.mode===$c||this.mode===ma?Y5(this.strm):_4(this.strm),this.mode=T0};var rl;oi.prototype.reset=function(){switch(this.mode){case wa:case ma:rl=lb(this.strm);break;case Qu:case Oc:rl=zb(this.strm);break}rl!==tl&&this._error(rl)},oi.prototype._error=function(e){this.onerror(Um[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};var tv=Object.freeze({__proto__:null,NONE:T0,DEFLATE:wa,INFLATE:Qu,GZIP:$c,GUNZIP:el,DEFLATERAW:ma,INFLATERAW:Oc,UNZIP:Mc,Z_NO_FLUSH:Kb,Z_PARTIAL_FLUSH:Wb,Z_SYNC_FLUSH:Gb,Z_FULL_FLUSH:Zb,Z_FINISH:k0,Z_BLOCK:Yb,Z_TREES:x4,Z_OK:tl,Z_STREAM_END:Xb,Z_NEED_DICT:Jb,Z_ERRNO:E4,Z_STREAM_ERROR:S4,Z_DATA_ERROR:A4,Z_BUF_ERROR:Qb,Z_NO_COMPRESSION:B4,Z_BEST_SPEED:I4,Z_BEST_COMPRESSION:R4,Z_DEFAULT_COMPRESSION:T4,Z_FILTERED:k4,Z_HUFFMAN_ONLY:C4,Z_RLE:L4,Z_FIXED:$4,Z_DEFAULT_STRATEGY:O4,Z_BINARY:M4,Z_TEXT:N4,Z_UNKNOWN:P4,Z_DEFLATED:ev,Zlib:oi});function F4(e,t){if(!e)throw new Error(t)}var Oe={};Object.keys(tv).forEach(function(e){Oe[e]=tv[e]}),Oe.Z_MIN_WINDOWBITS=8,Oe.Z_MAX_WINDOWBITS=15,Oe.Z_DEFAULT_WINDOWBITS=15,Oe.Z_MIN_CHUNK=64,Oe.Z_MAX_CHUNK=1/0,Oe.Z_DEFAULT_CHUNK=16*1024,Oe.Z_MIN_MEMLEVEL=1,Oe.Z_MAX_MEMLEVEL=9,Oe.Z_DEFAULT_MEMLEVEL=8,Oe.Z_MIN_LEVEL=-1,Oe.Z_MAX_LEVEL=9,Oe.Z_DEFAULT_LEVEL=Oe.Z_DEFAULT_COMPRESSION;var ba={Z_OK:Oe.Z_OK,Z_STREAM_END:Oe.Z_STREAM_END,Z_NEED_DICT:Oe.Z_NEED_DICT,Z_ERRNO:Oe.Z_ERRNO,Z_STREAM_ERROR:Oe.Z_STREAM_ERROR,Z_DATA_ERROR:Oe.Z_DATA_ERROR,Z_MEM_ERROR:Oe.Z_MEM_ERROR,Z_BUF_ERROR:Oe.Z_BUF_ERROR,Z_VERSION_ERROR:Oe.Z_VERSION_ERROR};Object.keys(ba).forEach(function(e){ba[ba[e]]=e});function rv(e){return new Ls(e)}function nv(e){return new $s(e)}function iv(e){return new Ns(e)}function sv(e){return new Ps(e)}function ov(e){return new Os(e)}function av(e){return new Ms(e)}function cv(e){return new Us(e)}function fv(e,t,r){return typeof t=="function"&&(r=t,t={}),vo(new Ls(t),e,r)}function uv(e,t){return _o(new Ls(t),e)}function lv(e,t,r){return typeof t=="function"&&(r=t,t={}),vo(new Os(t),e,r)}function hv(e,t){return _o(new Os(t),e)}function dv(e,t,r){return typeof t=="function"&&(r=t,t={}),vo(new Ns(t),e,r)}function pv(e,t){return _o(new Ns(t),e)}function gv(e,t,r){return typeof t=="function"&&(r=t,t={}),vo(new Us(t),e,r)}function yv(e,t){return _o(new Us(t),e)}function wv(e,t,r){return typeof t=="function"&&(r=t,t={}),vo(new $s(t),e,r)}function mv(e,t){return _o(new $s(t),e)}function bv(e,t,r){return typeof t=="function"&&(r=t,t={}),vo(new Ms(t),e,r)}function vv(e,t){return _o(new Ms(t),e)}function _v(e,t,r){return typeof t=="function"&&(r=t,t={}),vo(new Ps(t),e,r)}function xv(e,t){return _o(new Ps(t),e)}function vo(e,t,r){var n=[],i=0;e.on("error",o),e.on("end",a),e.end(t),s();function s(){for(var c;(c=e.read())!==null;)n.push(c),i+=c.length;e.once("readable",s)}function o(c){e.removeListener("end",a),e.removeListener("readable",s),r(c)}function a(){var c=le.concat(n,i);n=[],r(null,c),e.close()}}function _o(e,t){if(typeof t=="string"&&(t=new le(t)),!le.isBuffer(t))throw new TypeError("Not a string or buffer");var r=Oe.Z_FINISH;return e._processChunk(t,r)}function Ls(e){if(!(this instanceof Ls))return new Ls(e);fr.call(this,e,Oe.DEFLATE)}function $s(e){if(!(this instanceof $s))return new $s(e);fr.call(this,e,Oe.INFLATE)}function Os(e){if(!(this instanceof Os))return new Os(e);fr.call(this,e,Oe.GZIP)}function Ms(e){if(!(this instanceof Ms))return new Ms(e);fr.call(this,e,Oe.GUNZIP)}function Ns(e){if(!(this instanceof Ns))return new Ns(e);fr.call(this,e,Oe.DEFLATERAW)}function Ps(e){if(!(this instanceof Ps))return new Ps(e);fr.call(this,e,Oe.INFLATERAW)}function Us(e){if(!(this instanceof Us))return new Us(e);fr.call(this,e,Oe.UNZIP)}function fr(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||Oe.Z_DEFAULT_CHUNK,Yn.call(this,e),e.flush&&e.flush!==Oe.Z_NO_FLUSH&&e.flush!==Oe.Z_PARTIAL_FLUSH&&e.flush!==Oe.Z_SYNC_FLUSH&&e.flush!==Oe.Z_FULL_FLUSH&&e.flush!==Oe.Z_FINISH&&e.flush!==Oe.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||Oe.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<Oe.Z_MIN_CHUNK||e.chunkSize>Oe.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<Oe.Z_MIN_WINDOWBITS||e.windowBits>Oe.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<Oe.Z_MIN_LEVEL||e.level>Oe.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<Oe.Z_MIN_MEMLEVEL||e.memLevel>Oe.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=Oe.Z_FILTERED&&e.strategy!=Oe.Z_HUFFMAN_ONLY&&e.strategy!=Oe.Z_RLE&&e.strategy!=Oe.Z_FIXED&&e.strategy!=Oe.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!le.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Oe.Zlib(t);var r=this;this._hadError=!1,this._binding.onerror=function(s,o){r._binding=null,r._hadError=!0;var a=new Error(s);a.errno=o,a.code=ba[o],r.emit("error",a)};var n=Oe.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var i=Oe.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(i=e.strategy),this._binding.init(e.windowBits||Oe.Z_DEFAULT_WINDOWBITS,n,e.memLevel||Oe.Z_DEFAULT_MEMLEVEL,i,e.dictionary),this._buffer=new le(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=i,this.once("end",this.close)}zr(fr,Yn),fr.prototype.params=function(e,t,r){if(e<Oe.Z_MIN_LEVEL||e>Oe.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=Oe.Z_FILTERED&&t!=Oe.Z_HUFFMAN_ONLY&&t!=Oe.Z_RLE&&t!=Oe.Z_FIXED&&t!=Oe.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(Oe.Z_SYNC_FLUSH,function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,r&&r())})}else xn.nextTick(r)},fr.prototype.reset=function(){return this._binding.reset()},fr.prototype._flush=function(e){this._transform(new le(0),"",e)},fr.prototype.flush=function(e,t){var r=this._writableState;if((typeof e=="function"||e===void 0&&!t)&&(t=e,e=Oe.Z_FULL_FLUSH),r.ended)t&&xn.nextTick(t);else if(r.ending)t&&this.once("end",t);else if(r.needDrain){var n=this;this.once("drain",function(){n.flush(t)})}else this._flushFlag=e,this.write(new le(0),"",t)},fr.prototype.close=function(e){if(e&&xn.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;xn.nextTick(function(){t.emit("close")})}},fr.prototype._transform=function(e,t,r){var n,i=this._writableState,s=i.ending||i.ended,o=s&&(!e||i.length===e.length);if(!e===null&&!le.isBuffer(e))return r(new Error("invalid input"));o?n=Oe.Z_FINISH:(n=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||Oe.Z_NO_FLUSH)),this._processChunk(e,n,r)},fr.prototype._processChunk=function(e,t,r){var n=e&&e.length,i=this._chunkSize-this._offset,s=0,o=this,a=typeof r=="function";if(!a){var c=[],u=0,l;this.on("error",function(O){l=O});do var y=this._binding.writeSync(t,e,s,n,this._buffer,this._offset,i);while(!this._hadError&&R(y[0],y[1]));if(this._hadError)throw l;var A=le.concat(c,u);return this.close(),A}var b=this._binding.write(t,e,s,n,this._buffer,this._offset,i);b.buffer=e,b.callback=R;function R(O,P){if(!o._hadError){var D=i-P;if(F4(D>=0,"have should not go down"),D>0){var F=o._buffer.slice(o._offset,o._offset+D);o._offset+=D,a?o.push(F):(c.push(F),u+=F.length)}if((P===0||o._offset>=o._chunkSize)&&(i=o._chunkSize,o._offset=0,o._buffer=new le(o._chunkSize)),P===0){if(s+=n-O,n=O,!a)return!0;var N=o._binding.write(t,e,s,n,o._buffer,o._offset,o._chunkSize);N.callback=R,N.buffer=e;return}if(!a)return!1;r()}}},zr(Ls,fr),zr($s,fr),zr(Os,fr),zr(Ms,fr),zr(Ns,fr),zr(Ps,fr),zr(Us,fr);var H4={codes:ba,createDeflate:rv,createInflate:nv,createDeflateRaw:iv,createInflateRaw:sv,createGzip:ov,createGunzip:av,createUnzip:cv,deflate:fv,deflateSync:uv,gzip:lv,gzipSync:hv,deflateRaw:dv,deflateRawSync:pv,unzip:gv,unzipSync:yv,inflate:wv,inflateSync:mv,gunzip:bv,gunzipSync:vv,inflateRaw:_v,inflateRawSync:xv,Deflate:Ls,Inflate:$s,Gzip:Os,Gunzip:Ms,DeflateRaw:Ns,InflateRaw:Ps,Unzip:Us,Zlib:fr},D4=Object.freeze({__proto__:null,codes:ba,createDeflate:rv,createInflate:nv,createDeflateRaw:iv,createInflateRaw:sv,createGzip:ov,createGunzip:av,createUnzip:cv,deflate:fv,deflateSync:uv,gzip:lv,gzipSync:hv,deflateRaw:dv,deflateRawSync:pv,unzip:gv,unzipSync:yv,inflate:wv,inflateSync:mv,gunzip:bv,gunzipSync:vv,inflateRaw:_v,inflateRawSync:xv,Deflate:Ls,Inflate:$s,Gzip:Os,Gunzip:Ms,DeflateRaw:Ns,InflateRaw:Ps,Unzip:Us,Zlib:fr,default:H4}),j4=Un(D4),q4=Un(BR),z4=Un(ZT);Object.defineProperty(so,"__esModule",{value:!0}),so.InvalidStatusCodeError=so.InvalidCertError=void 0;const Ev=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class C0 extends Error{constructor(t,r){super(t),this.fingerprint256=r}}so.InvalidCertError=C0;class L0 extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}}so.InvalidStatusCodeError=L0;function Sv(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}let Av={};function $0(e,t){let r={...Ev,...t};const n=JT,i=t5,s=j4,{promisify:o}=q4,{resolve:a}=z4,c=!!/^https/.test(e);let u={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const l=A=>A.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const A={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},b=[c,c&&r.sslPinnedCertificates?.map(R=>l(R)).sort()].join();u.agent=Av[b]||(Av[b]=new(c?i:n).Agent(A))}r.type==="json"&&(u.headers["Content-Type"]="application/json"),r.data&&(r.method||(u.method="POST"),u.body=r.type==="json"?JSON.stringify(r.data):r.data),u.headers={...u.headers,...r.headers},r.sslAllowSelfSigned&&(u.rejectUnauthorized=!1);const y=async A=>{const b=A.statusCode;if(r.redirect&&300<=b&&b<400&&A.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await $0(a(e,A.headers.location),r)}if(r.expectStatusCode&&b!==r.expectStatusCode)throw A.resume(),new L0(b);let R=[];for await(const F of A)R.push(F);let O=ae.Buffer.concat(R);const P=A.headers["content-encoding"];P==="br"&&(O=await o(s.brotliDecompress)(O)),(P==="gzip"||P==="deflate")&&(O=await o(s.unzip)(O));const D=Sv(O,r.type);return r.full?{headers:A.headers,status:b,body:D}:D};return new Promise((A,b)=>{const R=async F=>{if(F&&F.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await $0(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(N){N&&N.fingerprint256&&(F=new C0(`Self-signed SSL certificate: ${N.fingerprint256}`,N.fingerprint256))}b(F)},O=(c?i:n).request(e,u,F=>{F.on("error",R),(async()=>{try{A(await y(F))}catch(N){b(N)}})()});O.on("error",R);const P=r.sslPinnedCertificates?.map(F=>l(F)),D=F=>{const N=l(F.getPeerCertificate()?.fingerprint256||"");if(!(!N&&F.isSessionReused())&&!P.includes(N))return O.emit("error",new C0(`Invalid SSL certificate: ${N} Expected: ${P}`,N)),O.abort()};r.sslPinnedCertificates&&O.on("socket",F=>{F.listeners("secureConnect").map($=>($.name||"").replace("bound ","")).includes("mfetchSecureConnect")||F.on("secureConnect",D.bind(null,F))}),r.keepAlive&&O.setNoDelay(!0),u.body&&O.write(u.body),O.end()})}const V4=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),K4=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function W4(e,t){let r={...Ev,...t};const n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){const c=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${c}`),i.username="",i.password=""}e=""+i;for(let c in r.headers){const u=c.toLowerCase();(V4.has(u)||r.cors&&!K4.has(u))&&n.set(c,r.headers[c])}let s={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(s.referrerPolicy="no-referrer"),r.cors&&(s.mode="cors"),r.data&&(r.method||(s.method="POST"),s.body=r.type==="json"?JSON.stringify(r.data):r.data);const o=await fetch(e,s);if(r.expectStatusCode&&o.status!==r.expectStatusCode)throw new L0(o.status);const a=Sv(new Uint8Array(await o.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(o.headers.entries()),status:o.status,body:a}:a}const G4=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function Z4(e,t){return(G4?$0:W4)(e,t)}so.default=Z4,Object.defineProperty(oa,"__esModule",{value:!0}),oa.getProvider=oa.fetchFromProvider=void 0;const Y4=so,X4=async(e,t)=>(await(0,Y4.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;oa.fetchFromProvider=X4;const J4=e=>{if(typeof e=="string")return e;if(e?.connection?.url!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};oa.getProvider=J4,function(e){var t=ft&&ft.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=ft&&ft.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.toAscii=e.stripHexPrefix=e.padToEven=e.isHexString=e.isHexPrefixed=e.getKeys=e.getBinarySize=e.fromUtf8=e.fromAscii=e.arrayContainsArray=void 0,r(au,e),r(gu,e),r(ld,e),r(fc,e),r(_u,e),r(an,e),r(io,e),r(bd,e),r(_w,e),r(Su,e);var n=er;Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return n.arrayContainsArray}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return n.fromAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return n.fromUtf8}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return n.getBinarySize}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return n.getKeys}}),Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return n.isHexPrefixed}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return n.isHexString}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return n.padToEven}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return n.stripHexPrefix}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return n.toAscii}}),r(Au,e),r(oa,e)}(ou);var Qr={},se={},va={},Rt={},Jn={},Fs={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});function Q4(e,t){return e??t()}function ek(e){return Array.isArray(e)&&e.length>0}function tk(e){return e==null}function rk(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}var nk=(e,t)=>Object.hasOwnProperty.call(e,t);function ik(e){return Object.getOwnPropertyNames(e)}var Bv=(e=>(e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date",e))(Bv||{}),Iv=/"|\\|\n|\r|\t/gu;function sk(e){if(typeof e!="object"||e===null)return!1;try{let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch{return!1}}function Rv(e){return e.charCodeAt(0)<=127}function ok(e){return e.split("").reduce((r,n)=>Rv(n)?r+1:r+2,0)+Q4(e.match(Iv),()=>[]).length}function ak(e){return e.toString().length}pn.isNonEmptyArray=ek,pn.isNullOrUndefined=tk,pn.isObject=rk,pn.hasProperty=nk,pn.getKnownPropertyNames=ik,pn.JsonSize=Bv,pn.ESCAPE_CHARACTERS_REGEXP=Iv,pn.isPlainObject=sk,pn.isASCII=Rv,pn.calculateStringSize=ok,pn.calculateNumberSize=ak;class O0 extends Error{constructor(t,{cause:r}={}){super(t),this.name=O0.name,r&&(this.cause=r),this.message=t}}var ck=Object.freeze({__proto__:null,ErrorWithCause:O0}),fk=Un(ck);const uk=(e,t)=>{if(!e||!t||!(e instanceof Error)||!(t.prototype instanceof Error)&&t!==Error)return;const r=new Set;let n=e;for(;n&&!r.has(n);){if(r.add(n),n instanceof t)return n;n=nl(n)}},nl=e=>{if(!(!e||typeof e!="object"||!("cause"in e)))if(typeof e.cause=="function"){const t=e.cause();return t instanceof Error?t:void 0}else return e.cause instanceof Error?e.cause:void 0},Tv=(e,t)=>{if(!(e instanceof Error))return"";const r=e.stack||"";if(t.has(e))return r+`
causes have become circular...`;const n=nl(e);return n?(t.add(e),r+`
caused by: `+Tv(n,t)):r},lk=e=>Tv(e,new Set),kv=(e,t,r)=>{if(!(e instanceof Error))return"";const n=r?"":e.message||"";if(t.has(e))return n+": ...";const i=nl(e);if(i){t.add(e);const s="cause"in e&&typeof e.cause=="function";return n+(s?"":": ")+kv(i,t,s)}else return n};var hk=Object.freeze({__proto__:null,findCauseByReference:uk,getErrorCause:nl,stackWithCauses:lk,messageWithCauses:e=>kv(e,new Set)}),dk=Un(hk);const{ErrorWithCause:pk}=fk,{findCauseByReference:gk,getErrorCause:yk,messageWithCauses:wk,stackWithCauses:mk}=dk;var bk={ErrorWithCause:pk,findCauseByReference:gk,getErrorCause:yk,stackWithCauses:mk,messageWithCauses:wk};Object.defineProperty(Fs,"__esModule",{value:!0});var Cv=pn,vk=bk;function _k(e){return e instanceof Error||Cv.isObject.call(void 0,e)&&e.constructor.name==="Error"}function Lv(e){return typeof e=="object"&&e!==null&&"code"in e}function $v(e){return typeof e=="object"&&e!==null&&"message"in e}function xk(e){return typeof e=="object"&&e!==null&&"stack"in e}function Ek(e){return $v(e)&&typeof e.message=="string"?e.message:Cv.isNullOrUndefined.call(void 0,e)?"":String(e)}function Sk(e,t){if(_k(e)){let r;return Error.length===2?r=new Error(t,{cause:e}):r=new vk.ErrorWithCause(t,{cause:e}),Lv(e)&&(r.code=e.code),r}return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}Fs.isErrorWithCode=Lv,Fs.isErrorWithMessage=$v,Fs.isErrorWithStack=xk,Fs.getErrorMessage=Ek,Fs.wrapError=Sk;class Ov extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function Ak(e){return Qn(e)&&typeof e[Symbol.iterator]=="function"}function Qn(e){return typeof e=="object"&&e!=null}function Mv(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Or(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Bk(e){const{done:t,value:r}=e.next();return t?void 0:r}function Ik(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Or(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*M0(e,t,r,n){Ak(e)||(e=[e]);for(const i of e){const s=Ik(i,t,r,n);s&&(yield s)}}function*N0(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&Qn(t.schema)&&Qn(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=N0(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const b of A)b[0]?(c=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(l=b[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Qn(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Ar{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return M0(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return M0(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return Nv(t,this,r)}create(t,r){return Pv(t,this,r)}is(t){return P0(t,this)}mask(t,r){return Uv(t,this,r)}validate(t,r={}){return _a(t,this,r)}}function Nv(e,t,r){const n=_a(e,t,{message:r});if(n[0])throw n[0]}function Pv(e,t,r){const n=_a(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Uv(e,t,r){const n=_a(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function P0(e,t){return!_a(e,t)[0]}function _a(e,t,r={}){const n=N0(e,t,r),i=Bk(n);return i[0]?[new Ov(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Rk(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Pc(n):Nc(n)}function Sn(e,t){return new Ar({type:e,schema:null,validator:t})}function Tk(e,t){return new Ar({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function kk(e){return new Ar({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function Ck(e){let t;return new Ar({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function Lk(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Pc(n);default:return Nc(n)}}function $k(e){const t=e instanceof Ar,r=t?{...e.schema}:{...e};for(const n in r)r[n]=Fv(r[n]);return t&&e.type==="type"?Pc(r):Nc(r)}function Ok(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return Pc(n);default:return Nc(n)}}function Mk(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Sn(e,t)}function Nk(){return Sn("any",()=>!0)}function Pk(e){return new Ar({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Or(t)}`}})}function Uk(){return Sn("bigint",e=>typeof e=="bigint")}function Fk(){return Sn("boolean",e=>typeof e=="boolean")}function Hk(){return Sn("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Or(e)}`)}function Dk(e){const t={},r=e.map(n=>Or(n)).join();for(const n of e)t[n]=n;return new Ar({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Or(n)}`}})}function jk(){return Sn("func",e=>typeof e=="function"||`Expected a function, but received: ${Or(e)}`)}function qk(e){return Sn("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Or(t)}`)}function zk(){return Sn("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Or(e)}`)}function Vk(e){return new Ar({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function Kk(e){const t=Or(e),r=typeof e;return new Ar({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Or(n)}`}})}function Wk(e,t){return new Ar({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Or(r)}`}})}function U0(){return Sn("never",()=>!1)}function Gk(e){return new Ar({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Zk(){return Sn("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Or(e)}`)}function Nc(e){const t=e?Object.keys(e):[],r=U0();return new Ar({type:"object",schema:e||null,*entries(n){if(e&&Qn(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Qn(n)||`Expected an object, but received: ${Or(n)}`},coercer(n){return Qn(n)?{...n}:n}})}function Fv(e){return new Ar({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Yk(e,t){return new Ar({type:"record",schema:null,*entries(r){if(Qn(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return Qn(r)||`Expected an object, but received: ${Or(r)}`}})}function Xk(){return Sn("regexp",e=>e instanceof RegExp)}function Jk(e){return new Ar({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Or(t)}`}})}function Hv(){return Sn("string",e=>typeof e=="string"||`Expected a string, but received: ${Or(e)}`)}function Qk(e){const t=U0();return new Ar({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Or(r)}`}})}function Pc(e){const t=Object.keys(e);return new Ar({type:"type",schema:e,*entries(r){if(Qn(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Qn(r)||`Expected an object, but received: ${Or(r)}`},coercer(r){return Qn(r)?{...r}:r}})}function eC(e){const t=e.map(r=>r.type).join(" | ");return new Ar({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=N0(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Or(r)}`,...i]}})}function Dv(){return Sn("unknown",()=>!0)}function F0(e,t,r){return new Ar({...e,coercer:(n,i)=>P0(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function tC(e,t,r={}){return F0(e,Dv(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&Mv(n)&&Mv(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function rC(e){return F0(e,Hv(),t=>t.trim())}function nC(e){return xo(e,"empty",t=>{const r=jv(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function jv(e){return e instanceof Map||e instanceof Set?e.size:e.length}function iC(e,t,r={}){const{exclusive:n}=r;return xo(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function sC(e,t,r={}){const{exclusive:n}=r;return xo(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function oC(e){return xo(e,"nonempty",t=>jv(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function aC(e,t){return xo(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function cC(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return xo(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function xo(e,t,r){return new Ar({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=M0(s,i,e,n);for(const a of o)yield{...a,refinement:t}}})}var fC=Object.freeze({__proto__:null,Struct:Ar,StructError:Ov,any:Nk,array:Pk,assert:Nv,assign:Rk,bigint:Uk,boolean:Fk,coerce:F0,create:Pv,date:Hk,defaulted:tC,define:Sn,deprecated:Tk,dynamic:kk,empty:nC,enums:Dk,func:jk,instance:qk,integer:zk,intersection:Vk,is:P0,lazy:Ck,literal:Kk,map:Wk,mask:Uv,max:iC,min:sC,never:U0,nonempty:oC,nullable:Gk,number:Zk,object:Nc,omit:Lk,optional:Fv,partial:$k,pattern:aC,pick:Ok,record:Yk,refine:xo,regexp:Xk,set:Jk,size:cC,string:Hv,struct:Mk,trimmed:rC,tuple:Qk,type:Pc,union:eC,unknown:Dv,validate:_a}),Hs=Un(fC);Object.defineProperty(Jn,"__esModule",{value:!0});function uC(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var lC=Fs,hC=Hs;function dC(e){return typeof uC([e,"optionalAccess",t=>t.prototype,"optionalAccess",t=>t.constructor,"optionalAccess",t=>t.name])=="string"}function pC(e){return lC.getErrorMessage.call(void 0,e).replace(/\.$/u,"")}function qv(e,t){return dC(e)?new e({message:t}):e({message:t})}var H0=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};function gC(e,t="Assertion failed.",r=H0){if(!e)throw t instanceof Error?t:qv(r,t)}function yC(e,t,r="Assertion failed",n=H0){try{hC.assert.call(void 0,e,t)}catch(i){throw qv(n,`${r}: ${pC(i)}.`)}}function wC(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}Jn.AssertionError=H0,Jn.assert=gC,Jn.assertStruct=yC,Jn.assertExhaustive=wC;var tr={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.output=Kr.exists=Kr.hash=Kr.bytes=Kr.bool=Kr.number=Kr.isBytes=void 0;function il(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}Kr.number=il;function zv(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}Kr.bool=zv;function Vv(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}Kr.isBytes=Vv;function D0(e,...t){if(!Vv(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}Kr.bytes=D0;function Kv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");il(e.outputLen),il(e.blockLen)}Kr.hash=Kv;function Wv(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}Kr.exists=Wv;function Gv(e,t){D0(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Kr.output=Gv;const mC={number:il,bool:zv,bytes:D0,hash:Kv,exists:Wv,output:Gv};Kr.default=mC;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.add5L=at.add5H=at.add4H=at.add4L=at.add3H=at.add3L=at.add=at.rotlBL=at.rotlBH=at.rotlSL=at.rotlSH=at.rotr32L=at.rotr32H=at.rotrBL=at.rotrBH=at.rotrSL=at.rotrSH=at.shrSL=at.shrSH=at.toBig=at.split=at.fromBig=void 0;const sl=BigInt(2**32-1),j0=BigInt(32);function q0(e,t=!1){return t?{h:Number(e&sl),l:Number(e>>j0&sl)}:{h:Number(e>>j0&sl)|0,l:Number(e&sl)|0}}at.fromBig=q0;function Zv(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=q0(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}at.split=Zv;const Yv=(e,t)=>BigInt(e>>>0)<<j0|BigInt(t>>>0);at.toBig=Yv;const Xv=(e,t,r)=>e>>>r;at.shrSH=Xv;const Jv=(e,t,r)=>e<<32-r|t>>>r;at.shrSL=Jv;const Qv=(e,t,r)=>e>>>r|t<<32-r;at.rotrSH=Qv;const e_=(e,t,r)=>e<<32-r|t>>>r;at.rotrSL=e_;const t_=(e,t,r)=>e<<64-r|t>>>r-32;at.rotrBH=t_;const r_=(e,t,r)=>e>>>r-32|t<<64-r;at.rotrBL=r_;const n_=(e,t)=>t;at.rotr32H=n_;const i_=(e,t)=>e;at.rotr32L=i_;const s_=(e,t,r)=>e<<r|t>>>32-r;at.rotlSH=s_;const o_=(e,t,r)=>t<<r|e>>>32-r;at.rotlSL=o_;const a_=(e,t,r)=>t<<r-32|e>>>64-r;at.rotlBH=a_;const c_=(e,t,r)=>e<<r-32|t>>>64-r;at.rotlBL=c_;function f_(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}at.add=f_;const u_=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);at.add3L=u_;const l_=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;at.add3H=l_;const h_=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);at.add4L=h_;const d_=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;at.add4H=d_;const p_=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);at.add5L=p_;const g_=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;at.add5H=g_;const bC={fromBig:q0,split:Zv,toBig:Yv,shrSH:Xv,shrSL:Jv,rotrSH:Qv,rotrSL:e_,rotrBH:t_,rotrBL:r_,rotr32H:n_,rotr32L:i_,rotlSH:s_,rotlSL:o_,rotlBH:a_,rotlBL:c_,add:f_,add3L:u_,add3H:l_,add4L:h_,add4H:d_,add5H:g_,add5L:p_};at.default=bC;var y_={},ol={};Object.defineProperty(ol,"__esModule",{value:!0}),ol.crypto=void 0,ol.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.byteSwap32=e.byteSwapIfBE=e.byteSwap=e.isLE=e.rotl=e.rotr=e.createView=e.u32=e.u8=e.isBytes=void 0;const t=ol,r=Kr;function n(I){return I instanceof Uint8Array||I!=null&&typeof I=="object"&&I.constructor.name==="Uint8Array"}e.isBytes=n;const i=I=>new Uint8Array(I.buffer,I.byteOffset,I.byteLength);e.u8=i;const s=I=>new Uint32Array(I.buffer,I.byteOffset,Math.floor(I.byteLength/4));e.u32=s;const o=I=>new DataView(I.buffer,I.byteOffset,I.byteLength);e.createView=o;const a=(I,g)=>I<<32-g|I>>>g;e.rotr=a;const c=(I,g)=>I<<g|I>>>32-g>>>0;e.rotl=c,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=I=>I<<24&4278190080|I<<8&16711680|I>>>8&65280|I>>>24&255;e.byteSwap=u,e.byteSwapIfBE=e.isLE?I=>I:I=>(0,e.byteSwap)(I);function l(I){for(let g=0;g<I.length;g++)I[g]=(0,e.byteSwap)(I[g])}e.byteSwap32=l;const y=Array.from({length:256},(I,g)=>g.toString(16).padStart(2,"0"));function A(I){(0,r.bytes)(I);let g="";for(let f=0;f<I.length;f++)g+=y[I[f]];return g}e.bytesToHex=A;const b={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function R(I){if(I>=b._0&&I<=b._9)return I-b._0;if(I>=b._A&&I<=b._F)return I-(b._A-10);if(I>=b._a&&I<=b._f)return I-(b._a-10)}function O(I){if(typeof I!="string")throw new Error("hex string expected, got "+typeof I);const g=I.length,f=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const h=new Uint8Array(f);for(let m=0,_=0;m<f;m++,_+=2){const x=R(I.charCodeAt(_)),E=R(I.charCodeAt(_+1));if(x===void 0||E===void 0){const T=I[_]+I[_+1];throw new Error('hex string expected, got non-hex character "'+T+'" at index '+_)}h[m]=x*16+E}return h}e.hexToBytes=O;const P=async()=>{};e.nextTick=P;async function D(I,g,f){let h=Date.now();for(let m=0;m<I;m++){f(m);const _=Date.now()-h;_>=0&&_<g||(await(0,e.nextTick)(),h+=_)}}e.asyncLoop=D;function F(I){if(typeof I!="string")throw new Error(`utf8ToBytes expected string, got ${typeof I}`);return new Uint8Array(new TextEncoder().encode(I))}e.utf8ToBytes=F;function N(I){return typeof I=="string"&&(I=F(I)),(0,r.bytes)(I),I}e.toBytes=N;function $(...I){let g=0;for(let h=0;h<I.length;h++){const m=I[h];(0,r.bytes)(m),g+=m.length}const f=new Uint8Array(g);for(let h=0,m=0;h<I.length;h++){const _=I[h];f.set(_,m),m+=_.length}return f}e.concatBytes=$;class z{clone(){return this._cloneInto()}}e.Hash=z;const Z={}.toString;function G(I,g){if(g!==void 0&&Z.call(g)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(I,g)}e.checkOpts=G;function q(I){const g=h=>I().update(N(h)).digest(),f=I();return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=()=>I(),g}e.wrapConstructor=q;function ee(I){const g=(h,m)=>I(m).update(N(h)).digest(),f=I({});return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=h=>I(h),g}e.wrapConstructorWithOpts=ee;function ie(I){const g=(h,m)=>I(m).update(N(h)).digest(),f=I({});return g.outputLen=f.outputLen,g.blockLen=f.blockLen,g.create=h=>I(h),g}e.wrapXOFConstructorWithOpts=ie;function Q(I=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(I));throw new Error("crypto.getRandomValues must be defined")}e.randomBytes=Q}(y_),Object.defineProperty(tr,"__esModule",{value:!0}),tr.shake256=tr.shake128=tr.keccak_512=tr.keccak_384=tr.keccak_256=tr.keccak_224=tr.sha3_512=tr.sha3_384=tr.sha3_256=tr.sha3_224=tr.Keccak=tr.keccakP=void 0;const xa=Kr,Uc=at,Ji=y_,w_=[],m_=[],b_=[],vC=BigInt(0),Fc=BigInt(1),_C=BigInt(2),xC=BigInt(7),EC=BigInt(256),SC=BigInt(113);for(let e=0,t=Fc,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],w_.push(2*(5*n+r)),m_.push((e+1)*(e+2)/2%64);let i=vC;for(let s=0;s<7;s++)t=(t<<Fc^(t>>xC)*SC)%EC,t&_C&&(i^=Fc<<(Fc<<BigInt(s))-Fc);b_.push(i)}const[AC,BC]=(0,Uc.split)(b_,!0),v_=(e,t,r)=>r>32?(0,Uc.rotlBH)(e,t,r):(0,Uc.rotlSH)(e,t,r),__=(e,t,r)=>r>32?(0,Uc.rotlBL)(e,t,r):(0,Uc.rotlSL)(e,t,r);function x_(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],y=v_(u,l,1)^r[a],A=__(u,l,1)^r[a+1];for(let b=0;b<50;b+=10)e[o+b]^=y,e[o+b+1]^=A}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=m_[o],c=v_(i,s,a),u=__(i,s,a),l=w_[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=AC[n],e[1]^=BC[n]}r.fill(0)}tr.keccakP=x_;class Hc extends Ji.Hash{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,xa.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ji.u32)(this.state)}keccak(){Ji.isLE||(0,Ji.byteSwap32)(this.state32),x_(this.state32,this.rounds),Ji.isLE||(0,Ji.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,xa.exists)(this);const{blockLen:r,state:n}=this;t=(0,Ji.toBytes)(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,xa.exists)(this,!1),(0,xa.bytes)(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,xa.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,xa.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Hc(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}tr.Keccak=Hc;const Ds=(e,t,r)=>(0,Ji.wrapConstructor)(()=>new Hc(t,e,r));tr.sha3_224=Ds(6,144,224/8),tr.sha3_256=Ds(6,136,256/8),tr.sha3_384=Ds(6,104,384/8),tr.sha3_512=Ds(6,72,512/8),tr.keccak_224=Ds(1,144,224/8),tr.keccak_256=Ds(1,136,256/8),tr.keccak_384=Ds(1,104,384/8),tr.keccak_512=Ds(1,72,512/8);const E_=(e,t,r)=>(0,Ji.wrapXOFConstructorWithOpts)((n={})=>new Hc(t,e,n.dkLen===void 0?r:n.dkLen,!0));tr.shake128=E_(31,168,128/8),tr.shake256=E_(31,136,256/8);var z0={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0;function t(I){if(!Number.isSafeInteger(I))throw new Error(`Wrong integer: ${I}`)}e.assertNumber=t;function r(I){return I instanceof Uint8Array||I!=null&&typeof I=="object"&&I.constructor.name==="Uint8Array"}function n(...I){const g=_=>_,f=(_,x)=>E=>_(x(E)),h=I.map(_=>_.encode).reduceRight(f,g),m=I.map(_=>_.decode).reduce(f,g);return{encode:h,decode:m}}function i(I){return{encode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return g.map(f=>{if(t(f),f<0||f>=I.length)throw new Error(`Digit index outside alphabet: ${f} (alphabet: ${I.length})`);return I[f]})},decode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("alphabet.decode input should be array of strings");return g.map(f=>{if(typeof f!="string")throw new Error(`alphabet.decode: not string element=${f}`);const h=I.indexOf(f);if(h===-1)throw new Error(`Unknown letter: "${f}". Allowed: ${I}`);return h})}}}function s(I=""){if(typeof I!="string")throw new Error("join separator should be string");return{encode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="string")throw new Error("join.encode input should be array of strings");for(let f of g)if(typeof f!="string")throw new Error(`join.encode: non-string input=${f}`);return g.join(I)},decode:g=>{if(typeof g!="string")throw new Error("join.decode input should be string");return g.split(I)}}}function o(I,g="="){if(t(I),typeof g!="string")throw new Error("padding chr should be string");return{encode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let h of f)if(typeof h!="string")throw new Error(`padding.encode: non-string input=${h}`);for(;f.length*I%8;)f.push(g);return f},decode(f){if(!Array.isArray(f)||f.length&&typeof f[0]!="string")throw new Error("padding.encode input should be array of strings");for(let m of f)if(typeof m!="string")throw new Error(`padding.decode: non-string input=${m}`);let h=f.length;if(h*I%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;h>0&&f[h-1]===g;h--)if(!((h-1)*I%8))throw new Error("Invalid padding: string has too much padding");return f.slice(0,h)}}}function a(I){if(typeof I!="function")throw new Error("normalize fn should be function");return{encode:g=>g,decode:g=>I(g)}}function c(I,g,f){if(g<2)throw new Error(`convertRadix: wrong from=${g}, base cannot be less than 2`);if(f<2)throw new Error(`convertRadix: wrong to=${f}, base cannot be less than 2`);if(!Array.isArray(I))throw new Error("convertRadix: data should be array");if(!I.length)return[];let h=0;const m=[],_=Array.from(I);for(_.forEach(x=>{if(t(x),x<0||x>=g)throw new Error(`Wrong integer: ${x}`)});;){let x=0,E=!0;for(let T=h;T<_.length;T++){const B=_[T],d=g*x+B;if(!Number.isSafeInteger(d)||g*x/g!==x||d-B!==g*x)throw new Error("convertRadix: carry overflow");x=d%f;const k=Math.floor(d/f);if(_[T]=k,!Number.isSafeInteger(k)||k*f+x!==d)throw new Error("convertRadix: carry overflow");if(E)k?E=!1:h=T;else continue}if(m.push(x),E)break}for(let x=0;x<I.length-1&&I[x]===0;x++)m.push(0);return m.reverse()}const u=(I,g)=>g?u(g,I%g):I,l=(I,g)=>I+(g-u(I,g));function y(I,g,f,h){if(!Array.isArray(I))throw new Error("convertRadix2: data should be array");if(g<=0||g>32)throw new Error(`convertRadix2: wrong from=${g}`);if(f<=0||f>32)throw new Error(`convertRadix2: wrong to=${f}`);if(l(g,f)>32)throw new Error(`convertRadix2: carry overflow from=${g} to=${f} carryBits=${l(g,f)}`);let m=0,_=0;const x=2**f-1,E=[];for(const T of I){if(t(T),T>=2**g)throw new Error(`convertRadix2: invalid data word=${T} from=${g}`);if(m=m<<g|T,_+g>32)throw new Error(`convertRadix2: carry overflow pos=${_} from=${g}`);for(_+=g;_>=f;_-=f)E.push((m>>_-f&x)>>>0);m&=2**_-1}if(m=m<<f-_&x,!h&&_>=g)throw new Error("Excess padding");if(!h&&m)throw new Error(`Non-zero padding: ${m}`);return h&&_>0&&E.push(m>>>0),E}function A(I){return t(I),{encode:g=>{if(!r(g))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(g),2**8,I)},decode:g=>{if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(c(g,I,2**8))}}}function b(I,g=!1){if(t(I),I<=0||I>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,I)>32||l(I,8)>32)throw new Error("radix2: carry overflow");return{encode:f=>{if(!r(f))throw new Error("radix2.encode input should be Uint8Array");return y(Array.from(f),8,I,!g)},decode:f=>{if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(y(f,I,8,g))}}}function R(I){if(typeof I!="function")throw new Error("unsafeWrapper fn should be function");return function(...g){try{return I.apply(null,g)}catch{}}}function O(I,g){if(t(I),typeof g!="function")throw new Error("checksum fn should be function");return{encode(f){if(!r(f))throw new Error("checksum.encode: input should be Uint8Array");const h=g(f).slice(0,I),m=new Uint8Array(f.length+I);return m.set(f),m.set(h,f.length),m},decode(f){if(!r(f))throw new Error("checksum.decode: input should be Uint8Array");const h=f.slice(0,-I),m=g(h).slice(0,I),_=f.slice(-I);for(let x=0;x<I;x++)if(m[x]!==_[x])throw new Error("Invalid checksum");return h}}}e.utils={alphabet:i,chain:n,checksum:O,convertRadix:c,convertRadix2:y,radix:A,radix2:b,join:s,padding:o},e.base16=n(b(4),i("0123456789ABCDEF"),s("")),e.base32=n(b(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),s("")),e.base32hex=n(b(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),s("")),e.base32crockford=n(b(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),a(I=>I.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(b(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),s("")),e.base64nopad=n(b(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s("")),e.base64url=n(b(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),s("")),e.base64urlnopad=n(b(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(""));const P=I=>n(A(58),i(I),s(""));e.base58=P("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=P("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=P("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const D=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(I){let g="";for(let f=0;f<I.length;f+=8){const h=I.subarray(f,f+8);g+=e.base58.encode(h).padStart(D[h.length],"1")}return g},decode(I){let g=[];for(let f=0;f<I.length;f+=11){const h=I.slice(f,f+11),m=D.indexOf(h.length),_=e.base58.decode(h);for(let x=0;x<_.length-m;x++)if(_[x]!==0)throw new Error("base58xmr: wrong padding");g=g.concat(Array.from(_.slice(_.length-m)))}return Uint8Array.from(g)}};const F=I=>n(O(4,g=>I(I(g))),e.base58);e.createBase58check=F,e.base58check=e.createBase58check;const N=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),$=[996825010,642813549,513874426,1027748829,705979059];function z(I){const g=I>>25;let f=(I&33554431)<<5;for(let h=0;h<$.length;h++)(g>>h&1)===1&&(f^=$[h]);return f}function Z(I,g,f=1){const h=I.length;let m=1;for(let _=0;_<h;_++){const x=I.charCodeAt(_);if(x<33||x>126)throw new Error(`Invalid prefix (${I})`);m=z(m)^x>>5}m=z(m);for(let _=0;_<h;_++)m=z(m)^I.charCodeAt(_)&31;for(let _ of g)m=z(m)^_;for(let _=0;_<6;_++)m=z(m);return m^=f,N.encode(y([m%2**30],30,5,!1))}function G(I){const g=I==="bech32"?1:734539939,f=b(5),h=f.decode,m=f.encode,_=R(h);function x(d,k,K=90){if(typeof d!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof d}`);if(!Array.isArray(k)||k.length&&typeof k[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof k}`);if(d.length===0)throw new TypeError(`Invalid prefix length ${d.length}`);const W=d.length+7+k.length;if(K!==!1&&W>K)throw new TypeError(`Length ${W} exceeds limit ${K}`);const re=d.toLowerCase(),Ee=Z(re,k,g);return`${re}1${N.encode(k)}${Ee}`}function E(d,k=90){if(typeof d!="string")throw new Error(`bech32.decode input should be string, not ${typeof d}`);if(d.length<8||k!==!1&&d.length>k)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${k})`);const K=d.toLowerCase();if(d!==K&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const W=K.lastIndexOf("1");if(W===0||W===-1)throw new Error('Letter "1" must be present between prefix and data only');const re=K.slice(0,W),Ee=K.slice(W+1);if(Ee.length<6)throw new Error("Data must be at least 6 characters long");const be=N.decode(Ee).slice(0,-6),ge=Z(re,be,g);if(!Ee.endsWith(ge))throw new Error(`Invalid checksum in ${d}: expected "${ge}"`);return{prefix:re,words:be}}const T=R(E);function B(d){const{prefix:k,words:K}=E(d,!1);return{prefix:k,words:K,bytes:h(K)}}return{encode:x,decode:E,decodeToBytes:B,decodeUnsafe:T,fromWords:h,fromWordsUnsafe:_,toWords:m}}e.bech32=G("bech32"),e.bech32m=G("bech32m"),e.utf8={encode:I=>new TextDecoder().decode(I),decode:I=>new TextEncoder().encode(I)},e.hex=n(b(4),i("0123456789abcdef"),s(""),a(I=>{if(typeof I!="string"||I.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof I} with length ${I.length}`);return I.toLowerCase()}));const q={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},ee="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",ie=(I,g)=>{if(typeof I!="string"||!q.hasOwnProperty(I))throw new TypeError(ee);if(!r(g))throw new TypeError("bytesToString() expects Uint8Array");return q[I].encode(g)};e.bytesToString=ie,e.str=e.bytesToString;const Q=(I,g)=>{if(!q.hasOwnProperty(I))throw new TypeError(ee);if(typeof g!="string")throw new TypeError("stringToBytes() expects string");return q[I].decode(g)};e.stringToBytes=Q,e.bytes=e.stringToBytes})(z0),Object.defineProperty(Rt,"__esModule",{value:!0});function IC(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var Wr=Jn,RC=tr,gn=Hs,S_=z0,A_=48,B_=58,I_=87;function TC(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}var kC=TC();function V0(e){return e instanceof Uint8Array}function Eo(e){Wr.assert.call(void 0,V0(e),"Value must be a Uint8Array.")}function K0(e){if(Eo(e),e.length===0)return"0x";const t=kC(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return D_(r.join(""))}function R_(e){Eo(e);const t=K0(e);return BigInt(t)}function CC(e){Eo(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}function LC(e){Eo(e);const t=R_(e);return Wr.assert.call(void 0,t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}function $C(e){return Eo(e),new TextDecoder().decode(e)}function OC(e){return Eo(e),S_.base64.encode(e)}function al(e){if(IC([e,"optionalAccess",i=>i.toLowerCase,"optionalCall",i=>i()])==="0x")return new Uint8Array;U_(e);const t=cl(e).toLowerCase(),r=t.length%2===0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=r.charCodeAt(i*2),o=r.charCodeAt(i*2+1),a=s-(s<B_?A_:I_),c=o-(o<B_?A_:I_);n[i]=a*16+c}return n}function T_(e){Wr.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Wr.assert.call(void 0,e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return al(t)}function MC(e,t){Wr.assert.call(void 0,t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function NC(e,t){Wr.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Wr.assert.call(void 0,typeof t=="number","Byte length must be a number."),Wr.assert.call(void 0,t>0,"Byte length must be greater than 0."),Wr.assert.call(void 0,MC(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}function k_(e){Wr.assert.call(void 0,typeof e=="number","Value must be a number."),Wr.assert.call(void 0,e>=0,"Value must be a non-negative number."),Wr.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return al(t)}function C_(e){return Wr.assert.call(void 0,typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}function PC(e){return Wr.assert.call(void 0,typeof e=="string","Value must be a string."),S_.base64.decode(e)}function L_(e){if(typeof e=="bigint")return T_(e);if(typeof e=="number")return k_(e);if(typeof e=="string")return e.startsWith("0x")?al(e):C_(e);if(V0(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function UC(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const s=L_(e[i]);t[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}function FC(e){if(typeof ae.Buffer<"u"&&e instanceof ae.Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}var $_=gn.pattern.call(void 0,gn.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),O_=gn.pattern.call(void 0,gn.string.call(void 0),/^0x[0-9a-f]+$/iu),M_=gn.pattern.call(void 0,gn.string.call(void 0),/^0x[0-9a-f]{40}$/u),W0=gn.pattern.call(void 0,gn.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function N_(e){return gn.is.call(void 0,e,$_)}function P_(e){return gn.is.call(void 0,e,O_)}function U_(e){Wr.assert.call(void 0,N_(e),"Value must be a hexadecimal string.")}function HC(e){Wr.assert.call(void 0,P_(e),'Value must be a hexadecimal string, starting with "0x".')}function DC(e){return gn.is.call(void 0,e,M_)||H_(e)}function F_(e){Wr.assert.call(void 0,gn.is.call(void 0,e,W0),"Invalid hex address.");const t=cl(e.toLowerCase()),r=cl(K0(RC.keccak_256.call(void 0,t)));return`0x${t.split("").map((n,i)=>{const s=r[i];return Wr.assert.call(void 0,gn.is.call(void 0,s,gn.string.call(void 0)),"Hash shorter than address."),parseInt(s,16)>7?n.toUpperCase():n}).join("")}`}function H_(e){return gn.is.call(void 0,e,W0)?F_(e)===e:!1}function D_(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function cl(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}Rt.HexStruct=$_,Rt.StrictHexStruct=O_,Rt.HexAddressStruct=M_,Rt.HexChecksumAddressStruct=W0,Rt.isHexString=N_,Rt.isStrictHexString=P_,Rt.assertIsHexString=U_,Rt.assertIsStrictHexString=HC,Rt.isValidHexAddress=DC,Rt.getChecksumAddress=F_,Rt.isValidChecksumAddress=H_,Rt.add0x=D_,Rt.remove0x=cl,Rt.isBytes=V0,Rt.assertIsBytes=Eo,Rt.bytesToHex=K0,Rt.bytesToBigInt=R_,Rt.bytesToSignedBigInt=CC,Rt.bytesToNumber=LC,Rt.bytesToString=$C,Rt.bytesToBase64=OC,Rt.hexToBytes=al,Rt.bigIntToBytes=T_,Rt.signedBigIntToBytes=NC,Rt.numberToBytes=k_,Rt.stringToBytes=C_,Rt.base64ToBytes=PC,Rt.valueToBytes=L_,Rt.concatBytes=UC,Rt.createDataView=FC,Object.defineProperty(va,"__esModule",{value:!0});var Dc=Rt,Ea=Jn,jC=e=>(Ea.assert.call(void 0,typeof e=="number","Value must be a number."),Ea.assert.call(void 0,e>=0,"Value must be a non-negative number."),Ea.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),Dc.add0x.call(void 0,e.toString(16))),qC=e=>(Ea.assert.call(void 0,typeof e=="bigint","Value must be a bigint."),Ea.assert.call(void 0,e>=0,"Value must be a non-negative bigint."),Dc.add0x.call(void 0,e.toString(16))),zC=e=>{Dc.assertIsHexString.call(void 0,e);const t=parseInt(e,16);return Ea.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},VC=e=>(Dc.assertIsHexString.call(void 0,e),BigInt(Dc.add0x.call(void 0,e)));va.numberToHex=jC,va.bigIntToHex=qC,va.hexToNumber=zC,va.hexToBigInt=VC;var G0={};Object.defineProperty(G0,"__esModule",{value:!0});function KC({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise((i,s)=>{t=i,r=s});return e&&n.catch(i=>{}),{promise:n,resolve:t,reject:r}}G0.createDeferredPromise=KC;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});var j_=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year",e))(j_||{}),WC=e=>Number.isInteger(e)&&e>=0,q_=(e,t)=>{if(!WC(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function GC(e,t){return q_(e,"count"),e*t}function ZC(e){return q_(e,"timestamp"),Date.now()-e}jc.Duration=j_,jc.inMilliseconds=GC,jc.timeSince=ZC;var ai={},So={exports:{}};const YC="2.0.0",z_=256,XC=Number.MAX_SAFE_INTEGER||9007199254740991,JC=16,QC=z_-6;var fl={MAX_LENGTH:z_,MAX_SAFE_COMPONENT_LENGTH:JC,MAX_SAFE_BUILD_LENGTH:QC,MAX_SAFE_INTEGER:XC,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:YC,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ul=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=fl,s=ul;t=e.exports={};const o=t.re=[],a=t.safeRe=[],c=t.src=[],u=t.t={};let l=0;const y="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",i],[y,n]],b=O=>{for(const[P,D]of A)O=O.split(`${P}*`).join(`${P}{0,${D}}`).split(`${P}+`).join(`${P}{1,${D}}`);return O},R=(O,P,D)=>{const F=b(P),N=l++;s(O,N,P),u[O]=N,c[N]=P,o[N]=new RegExp(P,D?"g":void 0),a[N]=new RegExp(F,D?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),R("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${y}+`),R("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),R("FULL",`^${c[u.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),R("LOOSE",`^${c[u.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),R("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),R("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),R("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),R("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),R("COERCERTL",c[u.COERCE],!0),R("COERCERTLFULL",c[u.COERCEFULL],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",R("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",R("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(So,So.exports);const eL=Object.freeze({loose:!0}),tL=Object.freeze({});var Z0=e=>e?typeof e!="object"?eL:e:tL;const V_=/^[0-9]+$/,K_=(e,t)=>{const r=V_.test(e),n=V_.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var W_={compareIdentifiers:K_,rcompareIdentifiers:(e,t)=>K_(t,e)};const ll=ul,{MAX_LENGTH:G_,MAX_SAFE_INTEGER:hl}=fl,{safeRe:Z_,t:Y_}=So.exports,rL=Z0,{compareIdentifiers:Sa}=W_;class ci{constructor(t,r){if(r=rL(r),t instanceof ci){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>G_)throw new TypeError(`version is longer than ${G_} characters`);ll("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Z_[Y_.LOOSE]:Z_[Y_.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>hl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>hl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>hl||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<hl)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ll("SemVer.compare",this.version,this.options,t),!(t instanceof ci)){if(typeof t=="string"&&t===this.version)return 0;t=new ci(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof ci||(t=new ci(t,this.options)),Sa(this.major,t.major)||Sa(this.minor,t.minor)||Sa(this.patch,t.patch)}comparePre(t){if(t instanceof ci||(t=new ci(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(ll("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sa(n,i)}while(++r)}compareBuild(t){t instanceof ci||(t=new ci(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(ll("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sa(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Sa(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var yn=ci;const X_=yn;var Aa=(e,t,r=!1)=>{if(e instanceof X_)return e;try{return new X_(e,t)}catch(n){if(!r)return null;throw n}};const nL=Aa;var iL=(e,t)=>{const r=nL(e,t);return r?r.version:null};const sL=Aa;var oL=(e,t)=>{const r=sL(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const J_=yn;var aL=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new J_(e instanceof J_?e.version:e,r).inc(t,n,i).version}catch{return null}};const Q_=Aa;var cL=(e,t)=>{const r=Q_(e,null,!0),n=Q_(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};const fL=yn;var uL=(e,t)=>new fL(e,t).major;const lL=yn;var hL=(e,t)=>new lL(e,t).minor;const dL=yn;var pL=(e,t)=>new dL(e,t).patch;const gL=Aa;var yL=(e,t)=>{const r=gL(e,t);return r&&r.prerelease.length?r.prerelease:null};const e2=yn;var fi=(e,t,r)=>new e2(e,r).compare(new e2(t,r));const wL=fi;var mL=(e,t,r)=>wL(t,e,r);const bL=fi;var vL=(e,t)=>bL(e,t,!0);const t2=yn;var Y0=(e,t,r)=>{const n=new t2(e,r),i=new t2(t,r);return n.compare(i)||n.compareBuild(i)};const _L=Y0;var xL=(e,t)=>e.sort((r,n)=>_L(r,n,t));const EL=Y0;var SL=(e,t)=>e.sort((r,n)=>EL(n,r,t));const AL=fi;var dl=(e,t,r)=>AL(e,t,r)>0;const BL=fi;var X0=(e,t,r)=>BL(e,t,r)<0;const IL=fi;var r2=(e,t,r)=>IL(e,t,r)===0;const RL=fi;var n2=(e,t,r)=>RL(e,t,r)!==0;const TL=fi;var J0=(e,t,r)=>TL(e,t,r)>=0;const kL=fi;var Q0=(e,t,r)=>kL(e,t,r)<=0;const CL=r2,LL=n2,$L=dl,OL=J0,ML=X0,NL=Q0;var i2=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return CL(e,r,n);case"!=":return LL(e,r,n);case">":return $L(e,r,n);case">=":return OL(e,r,n);case"<":return ML(e,r,n);case"<=":return NL(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const PL=yn,UL=Aa,{safeRe:pl,t:gl}=So.exports;var FL=(e,t)=>{if(e instanceof PL)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?pl[gl.COERCEFULL]:pl[gl.COERCE]);else{const c=t.includePrerelease?pl[gl.COERCERTLFULL]:pl[gl.COERCERTL];let u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return UL(`${n}.${i}.${s}${o}${a}`,t)},ep,s2;function HL(){if(s2)return ep;s2=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(r,n)}return this}}return ep=e,ep}var tp,o2;function ui(){if(o2)return tp;o2=1;class e{constructor(f,h){if(h=n(h),f instanceof e)return f.loose===!!h.loose&&f.includePrerelease===!!h.includePrerelease?f:new e(f.raw,h);if(f instanceof i)return this.raw=f.value,this.set=[[f]],this.format(),this;if(this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease,this.raw=f.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(m=>this.parseRange(m.trim())).filter(m=>m.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const m=this.set[0];if(this.set=this.set.filter(_=>!R(_[0])),this.set.length===0)this.set=[m];else if(this.set.length>1){for(const _ of this.set)if(_.length===1&&O(_[0])){this.set=[_];break}}}this.format()}format(){return this.range=this.set.map(f=>f.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(f){const m=((this.options.includePrerelease&&A)|(this.options.loose&&b))+":"+f,_=r.get(m);if(_)return _;const x=this.options.loose,E=x?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];f=f.replace(E,Q(this.options.includePrerelease)),s("hyphen replace",f),f=f.replace(a[c.COMPARATORTRIM],u),s("comparator trim",f),f=f.replace(a[c.TILDETRIM],l),s("tilde trim",f),f=f.replace(a[c.CARETTRIM],y),s("caret trim",f);let T=f.split(" ").map(K=>D(K,this.options)).join(" ").split(/\s+/).map(K=>ie(K,this.options));x&&(T=T.filter(K=>(s("loose invalid filter",K,this.options),!!K.match(a[c.COMPARATORLOOSE])))),s("range list",T);const B=new Map,d=T.map(K=>new i(K,this.options));for(const K of d){if(R(K))return[K];B.set(K.value,K)}B.size>1&&B.has("")&&B.delete("");const k=[...B.values()];return r.set(m,k),k}intersects(f,h){if(!(f instanceof e))throw new TypeError("a Range is required");return this.set.some(m=>P(m,h)&&f.set.some(_=>P(_,h)&&m.every(x=>_.every(E=>x.intersects(E,h)))))}test(f){if(!f)return!1;if(typeof f=="string")try{f=new o(f,this.options)}catch{return!1}for(let h=0;h<this.set.length;h++)if(I(this.set[h],f,this.options))return!0;return!1}}tp=e;const t=HL(),r=new t,n=Z0,i=yl(),s=ul,o=yn,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:y}=So.exports,{FLAG_INCLUDE_PRERELEASE:A,FLAG_LOOSE:b}=fl,R=g=>g.value==="<0.0.0-0",O=g=>g.value==="",P=(g,f)=>{let h=!0;const m=g.slice();let _=m.pop();for(;h&&m.length;)h=m.every(x=>_.intersects(x,f)),_=m.pop();return h},D=(g,f)=>(s("comp",g,f),g=z(g,f),s("caret",g),g=N(g,f),s("tildes",g),g=G(g,f),s("xrange",g),g=ee(g,f),s("stars",g),g),F=g=>!g||g.toLowerCase()==="x"||g==="*",N=(g,f)=>g.trim().split(/\s+/).map(h=>$(h,f)).join(" "),$=(g,f)=>{const h=f.loose?a[c.TILDELOOSE]:a[c.TILDE];return g.replace(h,(m,_,x,E,T)=>{s("tilde",g,m,_,x,E,T);let B;return F(_)?B="":F(x)?B=`>=${_}.0.0 <${+_+1}.0.0-0`:F(E)?B=`>=${_}.${x}.0 <${_}.${+x+1}.0-0`:T?(s("replaceTilde pr",T),B=`>=${_}.${x}.${E}-${T} <${_}.${+x+1}.0-0`):B=`>=${_}.${x}.${E} <${_}.${+x+1}.0-0`,s("tilde return",B),B})},z=(g,f)=>g.trim().split(/\s+/).map(h=>Z(h,f)).join(" "),Z=(g,f)=>{s("caret",g,f);const h=f.loose?a[c.CARETLOOSE]:a[c.CARET],m=f.includePrerelease?"-0":"";return g.replace(h,(_,x,E,T,B)=>{s("caret",g,_,x,E,T,B);let d;return F(x)?d="":F(E)?d=`>=${x}.0.0${m} <${+x+1}.0.0-0`:F(T)?x==="0"?d=`>=${x}.${E}.0${m} <${x}.${+E+1}.0-0`:d=`>=${x}.${E}.0${m} <${+x+1}.0.0-0`:B?(s("replaceCaret pr",B),x==="0"?E==="0"?d=`>=${x}.${E}.${T}-${B} <${x}.${E}.${+T+1}-0`:d=`>=${x}.${E}.${T}-${B} <${x}.${+E+1}.0-0`:d=`>=${x}.${E}.${T}-${B} <${+x+1}.0.0-0`):(s("no pr"),x==="0"?E==="0"?d=`>=${x}.${E}.${T}${m} <${x}.${E}.${+T+1}-0`:d=`>=${x}.${E}.${T}${m} <${x}.${+E+1}.0-0`:d=`>=${x}.${E}.${T} <${+x+1}.0.0-0`),s("caret return",d),d})},G=(g,f)=>(s("replaceXRanges",g,f),g.split(/\s+/).map(h=>q(h,f)).join(" ")),q=(g,f)=>{g=g.trim();const h=f.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return g.replace(h,(m,_,x,E,T,B)=>{s("xRange",g,m,_,x,E,T,B);const d=F(x),k=d||F(E),K=k||F(T),W=K;return _==="="&&W&&(_=""),B=f.includePrerelease?"-0":"",d?_===">"||_==="<"?m="<0.0.0-0":m="*":_&&W?(k&&(E=0),T=0,_===">"?(_=">=",k?(x=+x+1,E=0,T=0):(E=+E+1,T=0)):_==="<="&&(_="<",k?x=+x+1:E=+E+1),_==="<"&&(B="-0"),m=`${_+x}.${E}.${T}${B}`):k?m=`>=${x}.0.0${B} <${+x+1}.0.0-0`:K&&(m=`>=${x}.${E}.0${B} <${x}.${+E+1}.0-0`),s("xRange return",m),m})},ee=(g,f)=>(s("replaceStars",g,f),g.trim().replace(a[c.STAR],"")),ie=(g,f)=>(s("replaceGTE0",g,f),g.trim().replace(a[f.includePrerelease?c.GTE0PRE:c.GTE0],"")),Q=g=>(f,h,m,_,x,E,T,B,d,k,K,W)=>(F(m)?h="":F(_)?h=`>=${m}.0.0${g?"-0":""}`:F(x)?h=`>=${m}.${_}.0${g?"-0":""}`:E?h=`>=${h}`:h=`>=${h}${g?"-0":""}`,F(d)?B="":F(k)?B=`<${+d+1}.0.0-0`:F(K)?B=`<${d}.${+k+1}.0-0`:W?B=`<=${d}.${k}.${K}-${W}`:g?B=`<${d}.${k}.${+K+1}-0`:B=`<=${B}`,`${h} ${B}`.trim()),I=(g,f,h)=>{for(let m=0;m<g.length;m++)if(!g[m].test(f))return!1;if(f.prerelease.length&&!h.includePrerelease){for(let m=0;m<g.length;m++)if(s(g[m].semver),g[m].semver!==i.ANY&&g[m].semver.prerelease.length>0){const _=g[m].semver;if(_.major===f.major&&_.minor===f.minor&&_.patch===f.patch)return!0}return!1}return!0};return tp}var rp,a2;function yl(){if(a2)return rp;a2=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,y){if(y=r(y),l instanceof t){if(l.loose===!!y.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),o("comparator",l,y),this.options=y,this.loose=!!y.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(l){const y=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],A=l.match(y);if(!A)throw new TypeError(`Invalid comparator: ${l}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new a(A[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(o("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new a(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,y){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(l.value,y).test(this.value):l.operator===""?l.value===""?!0:new c(this.value,y).test(l.semver):(y=r(y),y.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,y)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,y)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}rp=t;const r=Z0,{safeRe:n,t:i}=So.exports,s=i2,o=ul,a=yn,c=ui();return rp}const DL=ui();var wl=(e,t,r)=>{try{t=new DL(t,r)}catch{return!1}return t.test(e)};const jL=ui();var qL=(e,t)=>new jL(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));const zL=yn,VL=ui();var KL=(e,t,r)=>{let n=null,i=null,s=null;try{s=new VL(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new zL(n,r))}),n};const WL=yn,GL=ui();var ZL=(e,t,r)=>{let n=null,i=null,s=null;try{s=new GL(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new WL(n,r))}),n};const np=yn,YL=ui(),c2=dl;var XL=(e,t)=>{e=new YL(e,t);let r=new np("0.0.0");if(e.test(r)||(r=new np("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new np(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||c2(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||c2(r,s))&&(r=s)}return r&&e.test(r)?r:null};const JL=ui();var QL=(e,t)=>{try{return new JL(e,t).range||"*"}catch{return null}};const e$=yn,f2=yl(),{ANY:t$}=f2,r$=ui(),n$=wl,u2=dl,l2=X0,i$=Q0,s$=J0;var ip=(e,t,r,n)=>{e=new e$(e,n),t=new r$(t,n);let i,s,o,a,c;switch(r){case">":i=u2,s=i$,o=l2,a=">",c=">=";break;case"<":i=l2,s=s$,o=u2,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(n$(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const l=t.set[u];let y=null,A=null;if(l.forEach(b=>{b.semver===t$&&(b=new f2(">=0.0.0")),y=y||b,A=A||b,i(b.semver,y.semver,n)?y=b:o(b.semver,A.semver,n)&&(A=b)}),y.operator===a||y.operator===c||(!A.operator||A.operator===a)&&s(e,A.semver))return!1;if(A.operator===c&&o(e,A.semver))return!1}return!0};const o$=ip;var a$=(e,t,r)=>o$(e,t,">",r);const c$=ip;var f$=(e,t,r)=>c$(e,t,"<",r);const h2=ui();var u$=(e,t,r)=>(e=new h2(e,r),t=new h2(t,r),e.intersects(t,r));const l$=wl,h$=fi;var d$=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((l,y)=>h$(l,y,r));for(const l of o)l$(l,t,r)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[l,y]of n)l===y?a.push(l):!y&&l===o[0]?a.push("*"):y?l===o[0]?a.push(`<=${y}`):a.push(`${l} - ${y}`):a.push(`>=${l}`);const c=a.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t};const d2=ui(),sp=yl(),{ANY:op}=sp,qc=wl,ap=fi,p$=(e,t,r={})=>{if(e===t)return!0;e=new d2(e,r),t=new d2(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=y$(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},g$=[new sp(">=0.0.0-0")],p2=[new sp(">=0.0.0")],y$=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===op){if(t.length===1&&t[0].semver===op)return!0;r.includePrerelease?e=g$:e=p2}if(t.length===1&&t[0].semver===op){if(r.includePrerelease)return!0;t=p2}const n=new Set;let i,s;for(const b of e)b.operator===">"||b.operator===">="?i=g2(i,b,r):b.operator==="<"||b.operator==="<="?s=y2(s,b,r):n.add(b.semver);if(n.size>1)return null;let o;if(i&&s){if(o=ap(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const b of n){if(i&&!qc(b,String(i),r)||s&&!qc(b,String(s),r))return null;for(const R of t)if(!qc(b,String(R),r))return!1;return!0}let a,c,u,l,y=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,A=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&s.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(const b of t){if(l=l||b.operator===">"||b.operator===">=",u=u||b.operator==="<"||b.operator==="<=",i){if(A&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===A.major&&b.semver.minor===A.minor&&b.semver.patch===A.patch&&(A=!1),b.operator===">"||b.operator===">="){if(a=g2(i,b,r),a===b&&a!==i)return!1}else if(i.operator===">="&&!qc(i.semver,String(b),r))return!1}if(s){if(y&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===y.major&&b.semver.minor===y.minor&&b.semver.patch===y.patch&&(y=!1),b.operator==="<"||b.operator==="<="){if(c=y2(s,b,r),c===b&&c!==s)return!1}else if(s.operator==="<="&&!qc(s.semver,String(b),r))return!1}if(!b.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&l&&!i&&o!==0||A||y)},g2=(e,t,r)=>{if(!e)return t;const n=ap(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},y2=(e,t,r)=>{if(!e)return t;const n=ap(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var w$=p$;const cp=So.exports,w2=fl,m$=yn,m2=W_,b$=Aa,v$=iL,_$=oL,x$=aL,E$=cL,S$=uL,A$=hL,B$=pL,I$=yL,R$=fi,T$=mL,k$=vL,C$=Y0,L$=xL,$$=SL,O$=dl,M$=X0,N$=r2,P$=n2,U$=J0,F$=Q0,H$=i2,D$=FL,j$=yl(),q$=ui();var z$={parse:b$,valid:v$,clean:_$,inc:x$,diff:E$,major:S$,minor:A$,patch:B$,prerelease:I$,compare:R$,rcompare:T$,compareLoose:k$,compareBuild:C$,sort:L$,rsort:$$,gt:O$,lt:M$,eq:N$,neq:P$,gte:U$,lte:F$,cmp:H$,coerce:D$,Comparator:j$,Range:q$,satisfies:wl,toComparators:qL,maxSatisfying:KL,minSatisfying:ZL,minVersion:XL,validRange:QL,outside:ip,gtr:a$,ltr:f$,intersects:u$,simplifyRange:d$,subset:w$,SemVer:m$,re:cp.re,src:cp.src,tokens:cp.t,SEMVER_SPEC_VERSION:w2.SEMVER_SPEC_VERSION,RELEASE_TYPES:w2.RELEASE_TYPES,compareIdentifiers:m2.compareIdentifiers,rcompareIdentifiers:m2.rcompareIdentifiers};Object.defineProperty(ai,"__esModule",{value:!0});var b2=Jn,zc=z$,Ba=Hs,fp=Ba.refine.call(void 0,Ba.string.call(void 0),"Version",e=>zc.valid.call(void 0,e)===null?`Expected SemVer version, got "${e}"`:!0),up=Ba.refine.call(void 0,Ba.string.call(void 0),"Version range",e=>zc.validRange.call(void 0,e)===null?`Expected SemVer range, got "${e}"`:!0);function V$(e){return Ba.is.call(void 0,e,fp)}function K$(e){return Ba.is.call(void 0,e,up)}function W$(e){b2.assertStruct.call(void 0,e,fp)}function G$(e){b2.assertStruct.call(void 0,e,up)}function Z$(e,t){return zc.gt.call(void 0,e,t)}function Y$(e,t){return zc.gtr.call(void 0,e,t)}function X$(e,t){return zc.satisfies.call(void 0,e,t,{includePrerelease:!0})}ai.VersionStruct=fp,ai.VersionRangeStruct=up,ai.isValidSemVerVersion=V$,ai.isValidSemVerRange=K$,ai.assertIsSemVerVersion=W$,ai.assertIsSemVerRange=G$,ai.gtVersion=Z$,ai.gtRange=Y$,ai.satisfiesVersionRange=X$;var It={};Object.defineProperty(It,"__esModule",{value:!0});var Qi=Jn,J$=pn,dt=Hs,Ia=e=>dt.object.call(void 0,e);function v2({path:e,branch:t}){const r=e[e.length-1];return J$.hasProperty.call(void 0,t[t.length-2],r)}function Vc(e){return new dt.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!v2(r)||e.validator(t,r),refiner:(t,r)=>!v2(r)||e.refiner(t,r)})}var Q$=()=>dt.define.call(void 0,"finite number",e=>dt.is.call(void 0,e,dt.number.call(void 0))&&Number.isFinite(e)),Kc=dt.union.call(void 0,[dt.literal.call(void 0,null),dt.boolean.call(void 0),Q$(),dt.string.call(void 0),dt.array.call(void 0,dt.lazy.call(void 0,()=>Kc)),dt.record.call(void 0,dt.string.call(void 0),dt.lazy.call(void 0,()=>Kc))]),Ao=dt.coerce.call(void 0,Kc,dt.any.call(void 0),e=>(Qi.assertStruct.call(void 0,e,Kc),JSON.parse(JSON.stringify(e,(t,r)=>{if(!(t==="__proto__"||t==="constructor"))return r}))));function eO(e){try{return _2(e),!0}catch{return!1}}function _2(e){return dt.create.call(void 0,e,Ao)}function tO(e){Qi.assertStruct.call(void 0,e,Ao,"Invalid JSON value");const t=JSON.stringify(e);return new TextEncoder().encode(t).byteLength}var x2="2.0",Ra=dt.literal.call(void 0,x2),Wc=dt.nullable.call(void 0,dt.union.call(void 0,[dt.number.call(void 0),dt.string.call(void 0)])),Gc=Ia({code:dt.integer.call(void 0),message:dt.string.call(void 0),data:Vc(Ao),stack:Vc(dt.string.call(void 0))}),lp=dt.union.call(void 0,[dt.record.call(void 0,dt.string.call(void 0),Ao),dt.array.call(void 0,Ao)]),hp=Ia({id:Wc,jsonrpc:Ra,method:dt.string.call(void 0),params:Vc(lp)}),dp=Ia({jsonrpc:Ra,method:dt.string.call(void 0),params:Vc(lp)});function rO(e){return dt.is.call(void 0,e,dp)}function nO(e,t){Qi.assertStruct.call(void 0,e,dp,"Invalid JSON-RPC notification",t)}function iO(e){return dt.is.call(void 0,e,hp)}function sO(e,t){Qi.assertStruct.call(void 0,e,hp,"Invalid JSON-RPC request",t)}var pp=dt.object.call(void 0,{id:Wc,jsonrpc:Ra,result:dt.optional.call(void 0,dt.unknown.call(void 0)),error:dt.optional.call(void 0,Gc)}),ml=Ia({id:Wc,jsonrpc:Ra,result:Ao}),bl=Ia({id:Wc,jsonrpc:Ra,error:Gc}),gp=dt.union.call(void 0,[ml,bl]);function oO(e){return dt.is.call(void 0,e,pp)}function aO(e,t){Qi.assertStruct.call(void 0,e,pp,"Invalid pending JSON-RPC response",t)}function cO(e){return dt.is.call(void 0,e,gp)}function fO(e,t){Qi.assertStruct.call(void 0,e,gp,"Invalid JSON-RPC response",t)}function uO(e){return dt.is.call(void 0,e,ml)}function lO(e,t){Qi.assertStruct.call(void 0,e,ml,"Invalid JSON-RPC success response",t)}function hO(e){return dt.is.call(void 0,e,bl)}function dO(e,t){Qi.assertStruct.call(void 0,e,bl,"Invalid JSON-RPC failure response",t)}function pO(e){return dt.is.call(void 0,e,Gc)}function gO(e,t){Qi.assertStruct.call(void 0,e,Gc,"Invalid JSON-RPC error",t)}function yO(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return s=>!!(typeof s=="number"&&(r||Number.isInteger(s))||typeof s=="string"&&(t||s.length>0)||n&&s===null)}It.object=Ia,It.exactOptional=Vc,It.UnsafeJsonStruct=Kc,It.JsonStruct=Ao,It.isValidJson=eO,It.getSafeJson=_2,It.getJsonSize=tO,It.jsonrpc2=x2,It.JsonRpcVersionStruct=Ra,It.JsonRpcIdStruct=Wc,It.JsonRpcErrorStruct=Gc,It.JsonRpcParamsStruct=lp,It.JsonRpcRequestStruct=hp,It.JsonRpcNotificationStruct=dp,It.isJsonRpcNotification=rO,It.assertIsJsonRpcNotification=nO,It.isJsonRpcRequest=iO,It.assertIsJsonRpcRequest=sO,It.PendingJsonRpcResponseStruct=pp,It.JsonRpcSuccessStruct=ml,It.JsonRpcFailureStruct=bl,It.JsonRpcResponseStruct=gp,It.isPendingJsonRpcResponse=oO,It.assertIsPendingJsonRpcResponse=aO,It.isJsonRpcResponse=cO,It.assertIsJsonRpcResponse=fO,It.isJsonRpcSuccess=uO,It.assertIsJsonRpcSuccess=lO,It.isJsonRpcFailure=hO,It.assertIsJsonRpcFailure=dO,It.isJsonRpcError=pO,It.assertIsJsonRpcError=gO,It.getJsonRpcIdValidator=yO;var vl={},yp={exports:{}},wp,E2;function wO(){if(E2)return wp;E2=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;wp=function(l,y){y=y||{};var A=typeof l;if(A==="string"&&l.length>0)return o(l);if(A==="number"&&isFinite(l))return y.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(y){var A=parseFloat(y[1]),b=(y[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return A*s;case"weeks":case"week":case"w":return A*i;case"days":case"day":case"d":return A*n;case"hours":case"hour":case"hrs":case"hr":case"h":return A*r;case"minutes":case"minute":case"mins":case"min":case"m":return A*t;case"seconds":case"second":case"secs":case"sec":case"s":return A*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}function a(l){var y=Math.abs(l);return y>=n?Math.round(l/n)+"d":y>=r?Math.round(l/r)+"h":y>=t?Math.round(l/t)+"m":y>=e?Math.round(l/e)+"s":l+"ms"}function c(l){var y=Math.abs(l);return y>=n?u(l,y,n,"day"):y>=r?u(l,y,r,"hour"):y>=t?u(l,y,t,"minute"):y>=e?u(l,y,e,"second"):l+" ms"}function u(l,y,A,b){var R=y>=A*1.5;return Math.round(l/A)+" "+b+(R?"s":"")}return wp}function mO(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=wO(),r.destroy=u,Object.keys(e).forEach(l=>{r[l]=e[l]}),r.names=[],r.skips=[],r.formatters={};function t(l){let y=0;for(let A=0;A<l.length;A++)y=(y<<5)-y+l.charCodeAt(A),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=t;function r(l){let y,A=null,b,R;function O(...P){if(!O.enabled)return;const D=O,F=Number(new Date),N=F-(y||F);D.diff=N,D.prev=y,D.curr=F,y=F,P[0]=r.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let $=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(Z,G)=>{if(Z==="%%")return"%";$++;const q=r.formatters[G];if(typeof q=="function"){const ee=P[$];Z=q.call(D,ee),P.splice($,1),$--}return Z}),r.formatArgs.call(D,P),(D.log||r.log).apply(D,P)}return O.namespace=l,O.useColors=r.useColors(),O.color=r.selectColor(l),O.extend=n,O.destroy=r.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>A!==null?A:(b!==r.namespaces&&(b=r.namespaces,R=r.enabled(l)),R),set:P=>{A=P}}),typeof r.init=="function"&&r.init(O),O}function n(l,y){const A=r(this.namespace+(typeof y>"u"?":":y)+l);return A.log=this.log,A}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let y;const A=(typeof l=="string"?l:"").split(/[\s,]+/),b=A.length;for(y=0;y<b;y++)A[y]&&(l=A[y].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...r.names.map(a),...r.skips.map(a).map(y=>"-"+y)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let y,A;for(y=0,A=r.skips.length;y<A;y++)if(r.skips[y].test(l))return!1;for(y=0,A=r.names.length;y<A;y++)if(r.names[y].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var bO=mO;(function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,y=0;c[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(l++,A==="%c"&&(y=l))}),c.splice(y,0,u)}t.log=console.debug||console.log||(()=>{});function i(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function s(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}e.exports=bO(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(yp,yp.exports),Object.defineProperty(vl,"__esModule",{value:!0});function vO(e){return e&&e.__esModule?e:{default:e}}var _O=yp.exports,xO=vO(_O),EO=xO.default.call(void 0,"metamask");function SO(e){return EO.extend(e)}function AO(e,t){return e.extend(t)}vl.createProjectLogger=SO,vl.createModuleLogger=AO;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});function S2(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],s=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(t,...o)),t=void 0)}return r}var wn=Hs,mp=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,bp=/^[-a-z0-9]{3,8}$/u,vp=/^[-_a-zA-Z0-9]{1,32}$/u,_p=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,A2=/^[-.%a-zA-Z0-9]{1,128}$/u,B2=wn.pattern.call(void 0,wn.string.call(void 0),mp),I2=wn.pattern.call(void 0,wn.string.call(void 0),bp),R2=wn.pattern.call(void 0,wn.string.call(void 0),vp),T2=wn.pattern.call(void 0,wn.string.call(void 0),_p),k2=wn.pattern.call(void 0,wn.string.call(void 0),A2),C2=(e=>(e.Eip155="eip155",e))(C2||{});function BO(e){return wn.is.call(void 0,e,B2)}function L2(e){return wn.is.call(void 0,e,I2)}function $2(e){return wn.is.call(void 0,e,R2)}function IO(e){return wn.is.call(void 0,e,T2)}function RO(e){return wn.is.call(void 0,e,k2)}function TO(e){const t=mp.exec(e);if(!S2([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}}function kO(e){const t=_p.exec(e);if(!S2([t,"optionalAccess",r=>r.groups]))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}}function CO(e,t){if(!L2(e))throw new Error(`Invalid "namespace", must match: ${bp.toString()}`);if(!$2(t))throw new Error(`Invalid "reference", must match: ${vp.toString()}`);return`${e}:${t}`}Br.CAIP_CHAIN_ID_REGEX=mp,Br.CAIP_NAMESPACE_REGEX=bp,Br.CAIP_REFERENCE_REGEX=vp,Br.CAIP_ACCOUNT_ID_REGEX=_p,Br.CAIP_ACCOUNT_ADDRESS_REGEX=A2,Br.CaipChainIdStruct=B2,Br.CaipNamespaceStruct=I2,Br.CaipReferenceStruct=R2,Br.CaipAccountIdStruct=T2,Br.CaipAccountAddressStruct=k2,Br.KnownCaipNamespace=C2,Br.isCaipChainId=BO,Br.isCaipNamespace=L2,Br.isCaipReference=$2,Br.isCaipAccountId=IO,Br.isCaipAccountAddress=RO,Br.parseCaipChainId=TO,Br.parseCaipAccountId=kO,Br.toCaipChainId=CO;var xp={},_l={};Object.defineProperty(_l,"__esModule",{value:!0});function O2(e,t){return e??t()}var LO=Jn,$O=Hs,OO=(e,t={})=>{const r=O2(t.paddingRequired,()=>!1),n=O2(t.characterSet,()=>"base64");let i;n==="base64"?i=String.raw`[A-Za-z0-9+\/]`:(LO.assert.call(void 0,n==="base64url"),i=String.raw`[-_A-Za-z0-9]`);let s;return r?s=new RegExp(`^(?:${i}{4})*(?:${i}{3}=|${i}{2}==)?$`,"u"):s=new RegExp(`^(?:${i}{4})*(?:${i}{2,3}|${i}{3}=|${i}{2}==)?$`,"u"),$O.pattern.call(void 0,e,s)};_l.base64=OO,Object.defineProperty(xp,"__esModule",{value:!0});var MO=_l,M2=Hs,NO=M2.size.call(void 0,MO.base64.call(void 0,M2.string.call(void 0),{paddingRequired:!0}),44,44);xp.ChecksumStruct=NO;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});var ka=Rt,PO=Jn,gr=Hs,N2=gr.union.call(void 0,[gr.number.call(void 0),gr.bigint.call(void 0),gr.string.call(void 0),ka.StrictHexStruct]),UO=gr.coerce.call(void 0,gr.number.call(void 0),N2,Number),FO=gr.coerce.call(void 0,gr.bigint.call(void 0),N2,BigInt);gr.union.call(void 0,[ka.StrictHexStruct,gr.instance.call(void 0,Uint8Array)]);var HO=gr.coerce.call(void 0,gr.instance.call(void 0,Uint8Array),gr.union.call(void 0,[ka.StrictHexStruct]),ka.hexToBytes),DO=gr.coerce.call(void 0,ka.StrictHexStruct,gr.instance.call(void 0,Uint8Array),ka.bytesToHex);function jO(e){try{const t=gr.create.call(void 0,e,UO);return PO.assert.call(void 0,Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof gr.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}function qO(e){try{return gr.create.call(void 0,e,FO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}function zO(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return gr.create.call(void 0,e,HO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}function VO(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return gr.create.call(void 0,e,DO)}catch(t){throw t instanceof gr.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}Ta.createNumber=jO,Ta.createBigInt=qO,Ta.createBytes=zO,Ta.createHex=VO;var xl={},Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});var P2=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},KO=(e,t,r)=>(P2(e,t,"read from private field"),r?r.call(e):t.get(e)),WO=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},GO=(e,t,r,n)=>(P2(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);Zc.__privateGet=KO,Zc.__privateAdd=WO,Zc.__privateSet=GO,Object.defineProperty(xl,"__esModule",{value:!0});var Mr=Zc,li,Ep=class{constructor(e){Mr.__privateAdd.call(void 0,this,li,void 0),Mr.__privateSet.call(void 0,this,li,new Map(e)),Object.freeze(this)}get size(){return Mr.__privateGet.call(void 0,this,li).size}[Symbol.iterator](){return Mr.__privateGet.call(void 0,this,li)[Symbol.iterator]()}entries(){return Mr.__privateGet.call(void 0,this,li).entries()}forEach(e,t){return Mr.__privateGet.call(void 0,this,li).forEach((r,n,i)=>e.call(t,r,n,this))}get(e){return Mr.__privateGet.call(void 0,this,li).get(e)}has(e){return Mr.__privateGet.call(void 0,this,li).has(e)}keys(){return Mr.__privateGet.call(void 0,this,li).keys()}values(){return Mr.__privateGet.call(void 0,this,li).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}};li=new WeakMap;var Ti,Sp=class{constructor(e){Mr.__privateAdd.call(void 0,this,Ti,void 0),Mr.__privateSet.call(void 0,this,Ti,new Set(e)),Object.freeze(this)}get size(){return Mr.__privateGet.call(void 0,this,Ti).size}[Symbol.iterator](){return Mr.__privateGet.call(void 0,this,Ti)[Symbol.iterator]()}entries(){return Mr.__privateGet.call(void 0,this,Ti).entries()}forEach(e,t){return Mr.__privateGet.call(void 0,this,Ti).forEach((r,n,i)=>e.call(t,r,n,this))}has(e){return Mr.__privateGet.call(void 0,this,Ti).has(e)}keys(){return Mr.__privateGet.call(void 0,this,Ti).keys()}values(){return Mr.__privateGet.call(void 0,this,Ti).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}};Ti=new WeakMap,Object.freeze(Ep),Object.freeze(Ep.prototype),Object.freeze(Sp),Object.freeze(Sp.prototype),xl.FrozenMap=Ep,xl.FrozenSet=Sp,Object.defineProperty(se,"__esModule",{value:!0});var El=va,ZO=G0,Ap=jc,es=ai,$t=It,U2=vl,Nr=Br,YO=xp,XO=_l,Sl=Ta,Ht=Rt,Al=Jn,Yc=Fs,hi=pn,F2=xl;se.AssertionError=Al.AssertionError,se.CAIP_ACCOUNT_ADDRESS_REGEX=Nr.CAIP_ACCOUNT_ADDRESS_REGEX,se.CAIP_ACCOUNT_ID_REGEX=Nr.CAIP_ACCOUNT_ID_REGEX,se.CAIP_CHAIN_ID_REGEX=Nr.CAIP_CHAIN_ID_REGEX,se.CAIP_NAMESPACE_REGEX=Nr.CAIP_NAMESPACE_REGEX,se.CAIP_REFERENCE_REGEX=Nr.CAIP_REFERENCE_REGEX,se.CaipAccountAddressStruct=Nr.CaipAccountAddressStruct,se.CaipAccountIdStruct=Nr.CaipAccountIdStruct,se.CaipChainIdStruct=Nr.CaipChainIdStruct,se.CaipNamespaceStruct=Nr.CaipNamespaceStruct,se.CaipReferenceStruct=Nr.CaipReferenceStruct,se.ChecksumStruct=YO.ChecksumStruct,se.Duration=Ap.Duration,se.ESCAPE_CHARACTERS_REGEXP=hi.ESCAPE_CHARACTERS_REGEXP,se.FrozenMap=F2.FrozenMap,se.FrozenSet=F2.FrozenSet,se.HexAddressStruct=Ht.HexAddressStruct,se.HexChecksumAddressStruct=Ht.HexChecksumAddressStruct,se.HexStruct=Ht.HexStruct,se.JsonRpcErrorStruct=$t.JsonRpcErrorStruct,se.JsonRpcFailureStruct=$t.JsonRpcFailureStruct,se.JsonRpcIdStruct=$t.JsonRpcIdStruct,se.JsonRpcNotificationStruct=$t.JsonRpcNotificationStruct,se.JsonRpcParamsStruct=$t.JsonRpcParamsStruct,se.JsonRpcRequestStruct=$t.JsonRpcRequestStruct,se.JsonRpcResponseStruct=$t.JsonRpcResponseStruct,se.JsonRpcSuccessStruct=$t.JsonRpcSuccessStruct,se.JsonRpcVersionStruct=$t.JsonRpcVersionStruct,se.JsonSize=hi.JsonSize,se.JsonStruct=$t.JsonStruct,se.KnownCaipNamespace=Nr.KnownCaipNamespace,se.PendingJsonRpcResponseStruct=$t.PendingJsonRpcResponseStruct,se.StrictHexStruct=Ht.StrictHexStruct,se.UnsafeJsonStruct=$t.UnsafeJsonStruct,se.VersionRangeStruct=es.VersionRangeStruct,se.VersionStruct=es.VersionStruct,se.add0x=Ht.add0x,se.assert=Al.assert,se.assertExhaustive=Al.assertExhaustive,se.assertIsBytes=Ht.assertIsBytes,se.assertIsHexString=Ht.assertIsHexString,se.assertIsJsonRpcError=$t.assertIsJsonRpcError,se.assertIsJsonRpcFailure=$t.assertIsJsonRpcFailure,se.assertIsJsonRpcNotification=$t.assertIsJsonRpcNotification,se.assertIsJsonRpcRequest=$t.assertIsJsonRpcRequest,se.assertIsJsonRpcResponse=$t.assertIsJsonRpcResponse,se.assertIsJsonRpcSuccess=$t.assertIsJsonRpcSuccess,se.assertIsPendingJsonRpcResponse=$t.assertIsPendingJsonRpcResponse,se.assertIsSemVerRange=es.assertIsSemVerRange,se.assertIsSemVerVersion=es.assertIsSemVerVersion,se.assertIsStrictHexString=Ht.assertIsStrictHexString,se.assertStruct=Al.assertStruct,se.base64=XO.base64,se.base64ToBytes=Ht.base64ToBytes,se.bigIntToBytes=Ht.bigIntToBytes,se.bigIntToHex=El.bigIntToHex,se.bytesToBase64=Ht.bytesToBase64,se.bytesToBigInt=Ht.bytesToBigInt,se.bytesToHex=Ht.bytesToHex,se.bytesToNumber=Ht.bytesToNumber,se.bytesToSignedBigInt=Ht.bytesToSignedBigInt,se.bytesToString=Ht.bytesToString,se.calculateNumberSize=hi.calculateNumberSize,se.calculateStringSize=hi.calculateStringSize,se.concatBytes=Ht.concatBytes,se.createBigInt=Sl.createBigInt,se.createBytes=Sl.createBytes,se.createDataView=Ht.createDataView,se.createDeferredPromise=ZO.createDeferredPromise,se.createHex=Sl.createHex,se.createModuleLogger=U2.createModuleLogger,se.createNumber=Sl.createNumber,se.createProjectLogger=U2.createProjectLogger,se.exactOptional=$t.exactOptional,se.getChecksumAddress=Ht.getChecksumAddress,se.getErrorMessage=Yc.getErrorMessage,se.getJsonRpcIdValidator=$t.getJsonRpcIdValidator,se.getJsonSize=$t.getJsonSize,se.getKnownPropertyNames=hi.getKnownPropertyNames,se.getSafeJson=$t.getSafeJson,se.gtRange=es.gtRange,se.gtVersion=es.gtVersion,se.hasProperty=hi.hasProperty,se.hexToBigInt=El.hexToBigInt,se.hexToBytes=Ht.hexToBytes,se.hexToNumber=El.hexToNumber,se.inMilliseconds=Ap.inMilliseconds,se.isASCII=hi.isASCII,se.isBytes=Ht.isBytes,se.isCaipAccountAddress=Nr.isCaipAccountAddress,se.isCaipAccountId=Nr.isCaipAccountId,se.isCaipChainId=Nr.isCaipChainId,se.isCaipNamespace=Nr.isCaipNamespace,se.isCaipReference=Nr.isCaipReference,se.isErrorWithCode=Yc.isErrorWithCode,se.isErrorWithMessage=Yc.isErrorWithMessage,se.isErrorWithStack=Yc.isErrorWithStack,se.isHexString=Ht.isHexString,se.isJsonRpcError=$t.isJsonRpcError,se.isJsonRpcFailure=$t.isJsonRpcFailure,se.isJsonRpcNotification=$t.isJsonRpcNotification,se.isJsonRpcRequest=$t.isJsonRpcRequest,se.isJsonRpcResponse=$t.isJsonRpcResponse,se.isJsonRpcSuccess=$t.isJsonRpcSuccess,se.isNonEmptyArray=hi.isNonEmptyArray,se.isNullOrUndefined=hi.isNullOrUndefined,se.isObject=hi.isObject,se.isPendingJsonRpcResponse=$t.isPendingJsonRpcResponse,se.isPlainObject=hi.isPlainObject,se.isStrictHexString=Ht.isStrictHexString,se.isValidChecksumAddress=Ht.isValidChecksumAddress,se.isValidHexAddress=Ht.isValidHexAddress,se.isValidJson=$t.isValidJson,se.isValidSemVerRange=es.isValidSemVerRange,se.isValidSemVerVersion=es.isValidSemVerVersion,se.jsonrpc2=$t.jsonrpc2,se.numberToBytes=Ht.numberToBytes,se.numberToHex=El.numberToHex,se.object=$t.object,se.parseCaipAccountId=Nr.parseCaipAccountId,se.parseCaipChainId=Nr.parseCaipChainId,se.remove0x=Ht.remove0x,se.satisfiesVersionRange=es.satisfiesVersionRange,se.signedBigIntToBytes=Ht.signedBigIntToBytes,se.stringToBytes=Ht.stringToBytes,se.timeSince=Ap.timeSince,se.toCaipChainId=Nr.toCaipChainId,se.valueToBytes=Ht.valueToBytes,se.wrapError=Yc.wrapError,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.normalize=Qr.recoverPublicKey=Qr.concatSig=Qr.legacyToBuffer=Qr.isNullish=Qr.padWithZeroes=void 0;const ts=ou,Ca=se;function Bp(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}Qr.padWithZeroes=Bp;function H2(e){return e==null}Qr.isNullish=H2;function JO(e){return typeof e=="string"&&!(0,ts.isHexString)(e)?ae.Buffer.from(e):(0,ts.toBuffer)(e)}Qr.legacyToBuffer=JO;function QO(e,t,r){const n=(0,ts.fromSigned)(t),i=(0,ts.fromSigned)(r),s=(0,ts.bufferToInt)(e),o=Bp((0,ts.toUnsigned)(n).toString("hex"),64),a=Bp((0,ts.toUnsigned)(i).toString("hex"),64),c=(0,Ca.remove0x)((0,Ca.numberToHex)(s));return(0,Ca.add0x)(o.concat(a,c))}Qr.concatSig=QO;function eM(e,t){const r=(0,ts.fromRpcSig)(t);return(0,ts.ecrecover)(e,r.v,r.r,r.s)}Qr.recoverPublicKey=eM;function tM(e){if(!H2(e)){if(typeof e=="number"){if(e<0)return"0x";const t=(0,Ca.numberToBytes)(e);e=(0,Ca.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,Ca.add0x)(e.toLowerCase())}}Qr.normalize=tM,Object.defineProperty(gs,"__esModule",{value:!0}),gs.extractPublicKey=gs.recoverPersonalSignature=gs.personalSign=void 0;const La=ou,ki=Qr;function rM({privateKey:e,data:t}){if((0,ki.isNullish)(t))throw new Error("Missing data parameter");if((0,ki.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,ki.legacyToBuffer)(t),n=(0,La.hashPersonalMessage)(r),i=(0,La.ecsign)(n,e);return(0,ki.concatSig)((0,La.toBuffer)(i.v),i.r,i.s)}gs.personalSign=rM;function nM({data:e,signature:t}){if((0,ki.isNullish)(e))throw new Error("Missing data parameter");if((0,ki.isNullish)(t))throw new Error("Missing signature parameter");const r=D2(e,t),n=(0,La.publicToAddress)(r);return(0,La.bufferToHex)(n)}gs.recoverPersonalSignature=nM;function iM({data:e,signature:t}){if((0,ki.isNullish)(e))throw new Error("Missing data parameter");if((0,ki.isNullish)(t))throw new Error("Missing signature parameter");return`0x${D2(e,t).toString("hex")}`}gs.extractPublicKey=iM;function D2(e,t){const r=(0,La.hashPersonalMessage)((0,ki.legacyToBuffer)(e));return(0,ki.recoverPublicKey)(r,t)}var j2={},q2={},z2={},di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=se,r=s=>typeof s=="string"?s:s instanceof Error||(0,t.isObject)(s)&&(0,t.hasProperty)(s,"message")&&typeof s.message=="string"?s.message:"Unknown error.";e.getErrorMessage=r;const n=s=>{if(s instanceof Error)return s.stack};e.getErrorStack=n;class i extends Error{constructor(o,a){super(o),this.name="ParserError";const c=(0,e.getErrorStack)(a);c&&(this.stack=c)}}e.ParserError=i})(di);var Ip={},Bl={};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.iterate=void 0;const V2=se,sM=function*(e,t=32){for(let r=0;r<e.length;r+=t){const n=s=>{(0,V2.assert)(s>=0,"Cannot skip a negative number of bytes."),(0,V2.assert)(s%t===0,"Length must be a multiple of the size."),r+=s},i=e.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};Bl.iterate=sM;var Rp={},K2={},js={},qs={};Object.defineProperty(qs,"__esModule",{value:!0}),qs.padEnd=qs.padStart=qs.set=void 0;const Tp=se,W2=32,oM=(e,t,r)=>(0,Tp.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);qs.set=oM;const aM=(e,t=W2)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Tp.concatBytes)([r,e])};qs.padStart=aM;const cM=(e,t=W2)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Tp.concatBytes)([e,r])};qs.padEnd=cM,function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(qs,e)}(js),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=se,r=di,n=js,i=s=>{const o=(0,t.createBytes)(s);return(0,t.assert)(o.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${o.length} bytes.`)),(0,n.padStart)(o,20)};e.getAddress=i,e.address={isDynamic:!1,isType:s=>s==="address",getByteLength(){return 32},encode({buffer:s,value:o,packed:a}){const c=(0,e.getAddress)(o);if(a)return(0,t.concatBytes)([s,c]);const u=(0,n.padStart)(c);return(0,t.concatBytes)([s,u])},decode({value:s}){return(0,t.add0x)((0,t.bytesToHex)(s.slice(12,32)))}}}(K2);var kp={},Il={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=se,r=di,n=js,i=/^bytes([0-9]{1,2})$/u,s=o=>{const a=o.match(i)?.[1];(0,t.assert)(a,`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`);const c=Number(a);return(0,t.assert)(c>0&&c<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${o}".`)),c};e.getByteLength=s,e.fixedBytes={isDynamic:!1,isType(o){return i.test(o)},getByteLength(){return 32},encode({type:o,buffer:a,value:c,packed:u}){const l=(0,e.getByteLength)(o),y=(0,t.createBytes)(c);return(0,t.assert)(y.length<=l,new r.ParserError(`Expected a value of length ${l}, but received a value of length ${y.length}.`)),u?(0,t.concatBytes)([a,(0,n.padEnd)(y,l)]):(0,t.concatBytes)([a,(0,n.padEnd)(y)])},decode({type:o,value:a}){const c=(0,e.getByteLength)(o);return a.slice(0,c)}}})(Il);var Cp={},G2;function Z2(){return G2||(G2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=se,r=di,n=Up(),i=/^\((.+)\)$/u,s=a=>i.test(a),o=a=>{(0,t.assert)(a.startsWith("(")&&a.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${a}".`));const c=[];let u="",l=0;for(let y=1;y<a.length-1;y++){const A=a[y];A===","&&l===0?(c.push(u.trim()),u=""):(u+=A,A==="("?l+=1:A===")"&&(l-=1))}return u.trim()&&c.push(u.trim()),c};e.getTupleElements=o,e.tuple={isDynamic(a){return(0,e.getTupleElements)(a).some(u=>{const l=(0,n.getParser)(u);return(0,n.isDynamicParser)(l,u)})},isType(a){return s(a)},getByteLength(a){return(0,n.isDynamicParser)(this,a)?32:(0,e.getTupleElements)(a).reduce((u,l)=>u+(0,n.getParser)(l).getByteLength(l),0)},encode({type:a,buffer:c,value:u,packed:l,tight:y}){const A=(0,e.getTupleElements)(a);return(0,n.pack)({types:A,values:u,byteArray:c,packed:l,tight:y})},decode({type:a,value:c,skip:u}){const l=(0,e.getTupleElements)(a),y=this.getByteLength(a)-32;return u(y),(0,n.unpack)(l,c)}}}(Cp)),Cp}var Y2;function fM(){return Y2||(Y2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=se,r=di,n=Up(),i=js,s=Il,o=Z2(),a=/^(?<type>.*)\[(?<length>\d*?)\]$/u,c=y=>a.test(y);e.isArrayType=c;const u=y=>{const A=y.match(a);return(0,t.assert)(A?.groups?.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${y}".`)),[A.groups.type,A.groups.length?parseInt(A.groups.length,10):void 0]};e.getArrayType=u;const l=(y,A)=>`(${new Array(A).fill(y).join(",")})`;e.getTupleType=l,e.array={isDynamic(y){const[A,b]=(0,e.getArrayType)(y);return b===void 0||(0,n.isDynamicParser)((0,n.getParser)(A),A)},isType(y){return(0,e.isArrayType)(y)},getByteLength(y){(0,t.assert)((0,e.isArrayType)(y),new r.ParserError(`Expected an array type, but received "${y}".`));const[A,b]=(0,e.getArrayType)(y);return!(0,n.isDynamicParser)(this,y)&&b!==void 0?o.tuple.getByteLength((0,e.getTupleType)(A,b)):32},encode({type:y,buffer:A,value:b,packed:R,tight:O}){const[P,D]=(0,e.getArrayType)(y);if((0,t.assert)(!R||!(0,e.isArrayType)(P),new r.ParserError("Cannot pack nested arrays.")),R&&(0,n.isDynamicParser)((0,n.getParser)(P),P))return(0,n.pack)({types:new Array(b.length).fill(P),values:b,byteArray:A,packed:R,arrayPacked:!0,tight:O});if(D)return(0,t.assert)(D===b.length,new r.ParserError(`Array length does not match type length. Expected a length of ${D}, but received ${b.length}.`)),o.tuple.encode({type:(0,e.getTupleType)(P,D),buffer:A,value:b,packed:s.fixedBytes.isType(P)&&O,tight:O});if(R)return(0,n.pack)({types:new Array(b.length).fill(P),values:b,byteArray:A,packed:s.fixedBytes.isType(P)&&O,arrayPacked:!0,tight:O});const F=(0,i.padStart)((0,t.numberToBytes)(b.length));return(0,n.pack)({types:new Array(b.length).fill(P),values:b,byteArray:(0,t.concatBytes)([A,F]),packed:R,tight:O})},decode({type:y,value:A,...b}){const[R,O]=(0,e.getArrayType)(y);if(O){const D=o.tuple.decode({type:(0,e.getTupleType)(R,O),value:A,...b});return(0,t.assert)(D.length===O,new r.ParserError(`Array length does not match type length. Expected a length of ${O}, but received ${D.length}.`)),D}const P=(0,t.bytesToNumber)(A.subarray(0,32));return(0,n.unpack)(new Array(P).fill(R),A.subarray(32))}}}(kp)),kp}var X2={};class J2 extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function uM(e){return ei(e)&&typeof e[Symbol.iterator]=="function"}function ei(e){return typeof e=="object"&&e!=null}function Q2(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Pr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function lM(e){const{done:t,value:r}=e.next();return t?void 0:r}function hM(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pr(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*Lp(e,t,r,n){uM(e)||(e=[e]);for(const i of e){const s=hM(i,t,r,n);s&&(yield s)}}function*$p(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&ei(t.schema)&&ei(e)&&!Array.isArray(e)))for(const u in e)t.schema[u]===void 0&&delete e[u];let c="valid";for(const u of t.validator(e,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,l,y]of t.entries(e,a)){const A=$p(l,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:r.message});for(const b of A)b[0]?(c=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(l=b[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):ei(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}class Ir{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Lp(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Lp(l,u,this,c)}:this.refiner=()=>[]}assert(t,r){return ex(t,this,r)}create(t,r){return tx(t,this,r)}is(t){return Op(t,this)}mask(t,r){return rx(t,this,r)}validate(t,r={}){return $a(t,this,r)}}function ex(e,t,r){const n=$a(e,t,{message:r});if(n[0])throw n[0]}function tx(e,t,r){const n=$a(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function rx(e,t,r){const n=$a(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Op(e,t){return!$a(e,t)[0]}function $a(e,t,r={}){const n=$p(e,t,r),i=lM(n);return i[0]?[new J2(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function dM(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Jc(n):Xc(n)}function An(e,t){return new Ir({type:e,schema:null,validator:t})}function pM(e,t){return new Ir({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function gM(e){return new Ir({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function yM(e){let t;return new Ir({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function wM(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Jc(n);default:return Xc(n)}}function mM(e){const t=e instanceof Ir,r=t?{...e.schema}:{...e};for(const n in r)r[n]=nx(r[n]);return t&&e.type==="type"?Jc(r):Xc(r)}function bM(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return Jc(n);default:return Xc(n)}}function vM(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),An(e,t)}function _M(){return An("any",()=>!0)}function xM(e){return new Ir({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Pr(t)}`}})}function EM(){return An("bigint",e=>typeof e=="bigint")}function SM(){return An("boolean",e=>typeof e=="boolean")}function AM(){return An("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Pr(e)}`)}function BM(e){const t={},r=e.map(n=>Pr(n)).join();for(const n of e)t[n]=n;return new Ir({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Pr(n)}`}})}function IM(){return An("func",e=>typeof e=="function"||`Expected a function, but received: ${Pr(e)}`)}function RM(e){return An("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Pr(t)}`)}function TM(){return An("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Pr(e)}`)}function kM(e){return new Ir({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function CM(e){const t=Pr(e),r=typeof e;return new Ir({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Pr(n)}`}})}function LM(e,t){return new Ir({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Pr(r)}`}})}function Mp(){return An("never",()=>!1)}function $M(e){return new Ir({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function OM(){return An("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Pr(e)}`)}function Xc(e){const t=e?Object.keys(e):[],r=Mp();return new Ir({type:"object",schema:e||null,*entries(n){if(e&&ei(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return ei(n)||`Expected an object, but received: ${Pr(n)}`},coercer(n){return ei(n)?{...n}:n}})}function nx(e){return new Ir({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function MM(e,t){return new Ir({type:"record",schema:null,*entries(r){if(ei(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return ei(r)||`Expected an object, but received: ${Pr(r)}`}})}function NM(){return An("regexp",e=>e instanceof RegExp)}function PM(e){return new Ir({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Pr(t)}`}})}function ix(){return An("string",e=>typeof e=="string"||`Expected a string, but received: ${Pr(e)}`)}function UM(e){const t=Mp();return new Ir({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Pr(r)}`}})}function Jc(e){const t=Object.keys(e);return new Ir({type:"type",schema:e,*entries(r){if(ei(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return ei(r)||`Expected an object, but received: ${Pr(r)}`},coercer(r){return ei(r)?{...r}:r}})}function FM(e){const t=e.map(r=>r.type).join(" | ");return new Ir({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=$p(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Pr(r)}`,...i]}})}function sx(){return An("unknown",()=>!0)}function Np(e,t,r){return new Ir({...e,coercer:(n,i)=>Op(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function HM(e,t,r={}){return Np(e,sx(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&Q2(n)&&Q2(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function DM(e){return Np(e,ix(),t=>t.trim())}function jM(e){return Bo(e,"empty",t=>{const r=ox(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function ox(e){return e instanceof Map||e instanceof Set?e.size:e.length}function qM(e,t,r={}){const{exclusive:n}=r;return Bo(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function zM(e,t,r={}){const{exclusive:n}=r;return Bo(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function VM(e){return Bo(e,"nonempty",t=>ox(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function KM(e,t){return Bo(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function WM(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return Bo(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Bo(e,t,r){return new Ir({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=Lp(s,i,e,n);for(const a of o)yield{...a,refinement:t}}})}var GM=Object.freeze({__proto__:null,Struct:Ir,StructError:J2,any:_M,array:xM,assert:ex,assign:dM,bigint:EM,boolean:SM,coerce:Np,create:tx,date:AM,defaulted:HM,define:An,deprecated:pM,dynamic:gM,empty:jM,enums:BM,func:IM,instance:RM,integer:TM,intersection:kM,is:Op,lazy:yM,literal:CM,map:LM,mask:rx,max:qM,min:zM,never:Mp,nonempty:VM,nullable:$M,number:OM,object:Xc,omit:wM,optional:nx,partial:mM,pattern:KM,pick:bM,record:MM,refine:Bo,regexp:NM,set:PM,size:WM,string:ix,struct:vM,trimmed:DM,tuple:UM,type:Jc,union:FM,unknown:sx,validate:$a}),ax=Un(GM),Pp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=se,r=di,n=js,i=/^u?int(?<length>[0-9]*)?$/u,s=u=>!u.startsWith("u");e.isSigned=s;const o=u=>{if(u==="int"||u==="uint")return 256;const l=u.match(i);(0,t.assert)(l?.groups?.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${u}".`));const y=parseInt(l.groups.length,10);return(0,t.assert)(y>=8&&y<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${u}".`)),(0,t.assert)(y%8===0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${u}".`)),y};e.getLength=o;const a=(u,l)=>{const y=(0,e.getLength)(l),A=BigInt(2)**BigInt(y-((0,e.isSigned)(l)?1:0))-BigInt(1);if((0,e.isSigned)(l)){(0,t.assert)(u>=-(A+BigInt(1))&&u<=A,new r.ParserError(`Number "${u}" is out of range for type "${l}".`));return}(0,t.assert)(u<=A,new r.ParserError(`Number "${u}" is out of range for type "${l}".`))};e.assertNumberLength=a;const c=u=>{try{return(0,t.createBigInt)(u)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${u}".`)}};e.getBigInt=c,e.number={isDynamic:!1,isType(u){return i.test(u)},getByteLength(){return 32},encode({type:u,buffer:l,value:y,packed:A}){const b=(0,e.getBigInt)(y);if((0,e.assertNumberLength)(b,u),(0,e.isSigned)(u)){if(A){const R=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,t.signedBigIntToBytes)(b,R)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.signedBigIntToBytes)(b,32))])}if(A){const R=(0,e.getLength)(u)/8;return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(b),R)])}return(0,t.concatBytes)([l,(0,n.padStart)((0,t.bigIntToBytes)(b))])},decode({type:u,value:l}){const y=l.subarray(0,32);if((0,e.isSigned)(u)){const b=(0,t.bytesToSignedBigInt)(y);return(0,e.assertNumberLength)(b,u),b}const A=(0,t.bytesToBigInt)(y);return(0,e.assertNumberLength)(A,u),A}}})(Pp),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=se,r=ax,n=di,i=Pp,s=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),a=>a==="true"),o=a=>{try{return(0,r.create)(a,s)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${a}".`)}};e.getBooleanValue=o,e.bool={isDynamic:!1,isType:a=>a==="bool",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const y=(0,e.getBooleanValue)(c);return u?(0,t.concatBytes)([a,(0,t.bigIntToBytes)(y)]):i.number.encode({type:"uint256",buffer:a,value:y,packed:u,tight:l})},decode(a){return i.number.decode({...a,type:"uint256"})===BigInt(1)}}}(X2);var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.bytes=void 0;const ef=se,cx=js;Qc.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){const n=(0,ef.createBytes)(t);if(r)return(0,ef.concatBytes)([e,n]);const i=Math.ceil(n.byteLength/32)*32;return(0,ef.concatBytes)([e,(0,cx.padStart)((0,ef.numberToBytes)(n.byteLength)),(0,cx.padEnd)(n,i)])},decode({value:e}){const t=e.subarray(0,32),r=(0,ef.bytesToNumber)(t);return e.slice(32,32+r)}};var fx={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=se,r=ax,n=di,i=Il,s=(0,r.coerce)((0,r.object)({address:t.StrictHexStruct,selector:t.StrictHexStruct}),(0,r.union)([t.StrictHexStruct,(0,r.instance)(Uint8Array)]),a=>{const c=(0,t.createBytes)(a);return(0,t.assert)(c.length===24,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${c.length} bytes.`)),{address:(0,t.bytesToHex)(c.subarray(0,20)),selector:(0,t.bytesToHex)(c.subarray(20,24))}}),o=a=>{const c=(0,r.create)(a,s);return(0,t.concatBytes)([(0,t.hexToBytes)(c.address),(0,t.hexToBytes)(c.selector)])};e.getFunction=o,e.fn={isDynamic:!1,isType:a=>a==="function",getByteLength(){return 32},encode({buffer:a,value:c,packed:u,tight:l}){const y=(0,e.getFunction)(c);return i.fixedBytes.encode({type:"bytes24",buffer:a,value:y,packed:u,tight:l})},decode({value:a}){return{address:(0,t.bytesToHex)(a.slice(0,20)),selector:(0,t.bytesToHex)(a.slice(20,24))}}}})(fx);var ux={};Object.defineProperty(ux,"__esModule",{value:!0});var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.string=void 0;const lx=se,hx=Qc;Rl.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){return hx.bytes.encode({type:"bytes",buffer:e,value:(0,lx.stringToBytes)(t),packed:r,tight:n})},decode(e){return(0,lx.bytesToString)(hx.bytes.decode(e))}};var dx;function px(){return dx||(dx=1,function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(K2,e),r(fM(),e),r(X2,e),r(Qc,e),r(Il,e),r(fx,e),r(Pp,e),r(ux,e),r(Rl,e),r(Z2(),e)}(Rp)),Rp}var gx;function Up(){return gx||(gx=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=se,r=di,n=Bl,i=px(),s=js,o=l=>{const y={address:i.address,array:i.array,bool:i.bool,bytes:i.bytes,fixedBytes:i.fixedBytes,function:i.fn,number:i.number,string:i.string,tuple:i.tuple},A=y[l];if(A)return A;const b=Object.values(y).find(R=>R.isType(l));if(b)return b;throw new r.ParserError(`The type "${l}" is not supported.`)};e.getParser=o;const a=(l,y)=>{const{isDynamic:A}=l;return typeof A=="function"?A(y):A};e.isDynamicParser=a;const c=({types:l,values:y,packed:A=!1,tight:b=!1,arrayPacked:R=!1,byteArray:O=new Uint8Array})=>{(0,t.assert)(l.length===y.length,new r.ParserError(`The number of types (${l.length}) does not match the number of values (${y.length}).`));const{staticBuffer:P,dynamicBuffer:D,pointers:F}=l.reduce(({staticBuffer:z,dynamicBuffer:Z,pointers:G},q,ee)=>{const ie=(0,e.getParser)(q),Q=y[ee];if(A||R||!(0,e.isDynamicParser)(ie,q))return{staticBuffer:ie.encode({buffer:z,value:Q,type:q,packed:A,tight:b}),dynamicBuffer:Z,pointers:G};const I=(0,t.concatBytes)([z,new Uint8Array(32)]),g=ie.encode({buffer:Z,value:Q,type:q,packed:A,tight:b});return{staticBuffer:I,dynamicBuffer:g,pointers:[...G,{position:z.length,pointer:Z.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!A&&!R||D.length===0,new r.ParserError("Invalid pack state."));const N=P.length,$=F.reduce((z,{pointer:Z,position:G})=>{const q=(0,s.padStart)((0,t.numberToBytes)(N+Z));return(0,s.set)(z,q,G)},P);return(0,t.concatBytes)([O,$,D])};e.pack=c;const u=(l,y)=>{const A=(0,n.iterate)(y);return l.map(b=>{const{value:{value:R,skip:O},done:P}=A.next();(0,t.assert)(!P,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${b}".`));const D=(0,e.getParser)(b);if((0,e.isDynamicParser)(D,b)){const N=(0,t.bytesToNumber)(R.subarray(0,32)),$=y.subarray(N);return D.decode({type:b,value:$,skip:O})}return D.decode({type:b,value:R,skip:O})})};e.unpack=u}(Ip)),Ip}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=se,r=di,n=Up(),i=(u,l,y,A)=>{try{return(0,n.pack)({types:u,values:l,packed:y,tight:A})}catch(b){throw b instanceof r.ParserError?new r.ParserError(`Unable to encode value: ${b.message}`,b):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(b)}`,b)}};e.encode=i;const s=(u,l)=>(0,e.encode)([u],[l]);e.encodeSingle=s;const o=(u,l,y)=>(0,e.encode)(u,l,!0,y);e.encodePacked=o;const a=(u,l)=>{const y=(0,t.createBytes)(l);try{return(0,n.unpack)(u,y)}catch(A){throw A instanceof r.ParserError?new r.ParserError(`Unable to decode value: ${A.message}`,A):new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(A)}`,A)}};e.decode=a;const c=(u,l)=>{const y=(0,e.decode)([u],l);return(0,t.assert)(y.length===1,new r.ParserError("Decoded value array has unexpected length.")),y[0]};e.decodeSingle=c})(z2);var yx={},wx={};Object.defineProperty(wx,"__esModule",{value:!0}),function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(wx,e)}(yx),function(e){var t=ft&&ft.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ft&&ft.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(z2,e),r(di,e),r(yx,e)}(q2),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=ou,r=q2,n=px(),i=js,s=se,o=Kn,a=Qr;var c;(function(I){I.V1="V1",I.V3="V3",I.V4="V4"})(c=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function u(I,g){if(Object.keys(c).includes(I)){if(g&&!g.includes(I))throw new Error(`SignTypedDataVersion not allowed: '${I}'. Allowed versions are: ${g.join(", ")}`)}else throw new Error(`Invalid version: '${I}'`)}function l(I,g){(0,s.assert)(g!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${g}".`);const f=BigInt(g),h=(0,n.getLength)(I),m=BigInt(2)**BigInt(h)-BigInt(1);return(0,s.assert)(f>=-m&&f<=m,`Unable to encode value: Number "${g}" is out of range for type "${I}".`),f}function y(I){let g=BigInt(0);for(let f=0;f<I.length;f++){const h=BigInt(I.charCodeAt(f)-48);g*=BigInt(10),h>=49?g+=h-BigInt(49)+BigInt(10):h>=17?g+=h-BigInt(17)+BigInt(10):g+=h}return(0,i.padStart)((0,s.bigIntToBytes)(g),20)}function A(I,g,f,h,m){if(u(m,[c.V3,c.V4]),I[f]!==void 0)return["bytes32",m===c.V4&&h==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,o.keccak256)(b(f,h,I,m)))];if(f==="function")throw new Error('Unsupported or invalid type: "function"');if(h===void 0)throw new Error(`missing value for field ${g} of type ${f}`);if(f==="address"){if(typeof h=="number")return["address",(0,i.padStart)((0,s.numberToBytes)(h),20)];if((0,s.isStrictHexString)(h))return["address",(0,s.add0x)(h)];if(typeof h=="string")return["address",y(h).subarray(0,20)]}if(f==="bool")return["bool",!!h];if(f==="bytes")return typeof h=="number"?h=(0,s.numberToBytes)(h):(0,s.isStrictHexString)(h)||h==="0x"?h=(0,s.hexToBytes)(h):typeof h=="string"&&(h=(0,s.stringToBytes)(h)),["bytes32",(0,t.arrToBufArr)((0,o.keccak256)(h))];if(f.startsWith("bytes")&&f!=="bytes"&&!f.includes("["))return typeof h=="number"?h<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,s.bigIntToBytes)(BigInt(h))]:(0,s.isStrictHexString)(h)?["bytes32",(0,s.hexToBytes)(h)]:["bytes32",h];if(f.startsWith("int")&&!f.includes("[")){const _=l(f,h);return _>=BigInt(0)?["uint256",_]:["int256",_]}if(f==="string")return typeof h=="number"?h=(0,s.numberToBytes)(h):h=(0,s.stringToBytes)(h??""),["bytes32",(0,t.arrToBufArr)((0,o.keccak256)(h))];if(f.endsWith("]")){if(m===c.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const _=f.slice(0,f.lastIndexOf("[")),x=h.map(E=>A(I,g,_,E,m));return["bytes32",(0,t.arrToBufArr)((0,o.keccak256)((0,r.encode)(x.map(([E])=>E),x.map(([,E])=>E))))]}return[f,h]}function b(I,g,f,h){u(h,[c.V3,c.V4]);const m=["bytes32"],_=[D(I,f)];for(const x of f[I]){if(h===c.V3&&g[x.name]===void 0)continue;const[E,T]=A(f,x.name,x.type,g[x.name],h);m.push(E),_.push(T)}return(0,t.arrToBufArr)((0,r.encode)(m,_))}function R(I,g){let f="";const h=O(I,g);h.delete(I);const m=[I,...Array.from(h).sort()];for(const _ of m){if(!g[_])throw new Error(`No type definition specified: ${_}`);f+=`${_}(${g[_].map(({name:E,type:T})=>`${T} ${E}`).join(",")})`}return f}function O(I,g,f=new Set){if(typeof I!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(I)}`);if([I]=I.match(/^\w*/u),f.has(I)||g[I]===void 0)return f;f.add(I);for(const m of g[I])O(m.type,g,f);return f}function P(I,g,f,h){u(h,[c.V3,c.V4]);const m=b(I,g,f,h),_=(0,o.keccak256)(m);return(0,t.arrToBufArr)(_)}function D(I,g){const f=(0,s.stringToBytes)(R(I,g));return(0,t.arrToBufArr)((0,o.keccak256)(f))}function F(I){const g={};for(const f in e.TYPED_MESSAGE_SCHEMA.properties)I[f]&&(g[f]=I[f]);return"types"in g&&(g.types=Object.assign({EIP712Domain:[]},g.types)),g}function N(I,g){u(g,[c.V3,c.V4]);const f=F(I),{domain:h}=f,m={EIP712Domain:f.types.EIP712Domain};return P("EIP712Domain",h,m,g)}function $(I,g){u(g,[c.V3,c.V4]);const f=F(I),h=[(0,s.hexToBytes)("1901")];return h.push(N(I,g)),f.primaryType!=="EIP712Domain"&&h.push(P(f.primaryType,f.message,f.types,g)),(0,t.arrToBufArr)((0,o.keccak256)((0,s.concatBytes)(h)))}e.TypedDataUtils={encodeData:b,encodeType:R,findTypeDependencies:O,hashStruct:P,hashType:D,sanitizeData:F,eip712Hash:$,eip712DomainHash:N};function z(I){const g=ee(I);return(0,s.bytesToHex)(g)}e.typedSignatureHash=z;function Z(I,g){if((0,n.isArrayType)(I)&&Array.isArray(g)){const[f]=(0,n.getArrayType)(I);return g.map(h=>Z(f,h))}if(I==="address"){if(typeof g=="number")return(0,i.padStart)((0,s.numberToBytes)(g),20);if((0,s.isStrictHexString)(g))return(0,i.padStart)((0,s.hexToBytes)(g).subarray(0,20),20);if(g instanceof Uint8Array)return(0,i.padStart)(g.subarray(0,20),20)}if(I==="bool")return!!g;if(I.startsWith("bytes")&&I!=="bytes"){const f=(0,n.getByteLength)(I);if(typeof g=="number")return g<0?new Uint8Array:(0,s.numberToBytes)(g).subarray(0,f);if((0,s.isStrictHexString)(g))return(0,s.hexToBytes)(g).subarray(0,f);if(g instanceof Uint8Array)return g.subarray(0,f)}if(I.startsWith("uint")&&typeof g=="number")return Math.abs(g);if(I.startsWith("int")&&typeof g=="number"){const f=(0,n.getLength)(I);return BigInt.asIntN(f,BigInt(g))}return g}function G(I){return I.map(g=>typeof g=="number"?(0,i.padStart)((0,s.numberToBytes)(g),32):(0,s.isStrictHexString)(g)?(0,i.padStart)((0,s.hexToBytes)(g).subarray(0,32),32):g instanceof Uint8Array?(0,i.padStart)(g.subarray(0,32),32):g)}function q(I,g){return g.map(f=>{if(typeof f=="string"||typeof f=="number"||typeof f=="bigint"){const h=l(I,f);if(h>=BigInt(0))return(0,i.padStart)((0,s.bigIntToBytes)(h),32);const m=(0,n.getLength)(I),_=BigInt.asIntN(m,h);return(0,s.signedBigIntToBytes)(_,32)}return f})}function ee(I){const g=new Error("Expect argument to be non-empty array");if(typeof I!="object"||!("length"in I)||!I.length)throw g;const f=I.map(({name:x,type:E,value:T})=>{if(E==="address[]")return{name:x,type:"bytes32[]",value:G(T)};if(E.startsWith("int")&&(0,n.isArrayType)(E)){const[B,d]=(0,n.getArrayType)(E);return{name:x,type:`bytes32[${d??""}]`,value:q(B,T)}}return{name:x,type:E,value:Z(E,T)}}),h=f.map(x=>x.type!=="bytes"?x.value:(0,a.legacyToBuffer)(x.value)),m=f.map(x=>{if(x.type==="function")throw new Error('Unsupported or invalid type: "function"');return x.type}),_=I.map(x=>{if(!x.name)throw g;return`${x.type} ${x.name}`});return(0,t.arrToBufArr)((0,o.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,o.keccak256)((0,r.encodePacked)(["string[]"],[_],!0)),(0,o.keccak256)((0,r.encodePacked)(m,h,!0))])))}function ie({privateKey:I,data:g,version:f}){if(u(f),(0,a.isNullish)(g))throw new Error("Missing data parameter");if((0,a.isNullish)(I))throw new Error("Missing private key parameter");const h=f===c.V1?ee(g):e.TypedDataUtils.eip712Hash(g,f),m=(0,t.ecsign)(h,I);return(0,a.concatSig)((0,t.arrToBufArr)((0,s.bigIntToBytes)(m.v)),m.r,m.s)}e.signTypedData=ie;function Q({data:I,signature:g,version:f}){if(u(f),(0,a.isNullish)(I))throw new Error("Missing data parameter");if((0,a.isNullish)(g))throw new Error("Missing signature parameter");const h=f===c.V1?ee(I):e.TypedDataUtils.eip712Hash(I,f),m=(0,a.recoverPublicKey)(h,g),_=(0,t.publicToAddress)(m);return(0,s.bytesToHex)(_)}e.recoverTypedSignature=Q}(j2);var ti={},mx={exports:{}};(function(e){(function(t){var r=function(S){var L,M=new Float64Array(16);if(S)for(L=0;L<S.length;L++)M[L]=S[L];return M},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(S,L,M,p){S[L]=M>>24&255,S[L+1]=M>>16&255,S[L+2]=M>>8&255,S[L+3]=M&255,S[L+4]=p>>24&255,S[L+5]=p>>16&255,S[L+6]=p>>8&255,S[L+7]=p&255}function O(S,L,M,p,U){var J,Y=0;for(J=0;J<U;J++)Y|=S[L+J]^M[p+J];return(1&Y-1>>>8)-1}function P(S,L,M,p){return O(S,L,M,p,16)}function D(S,L,M,p){return O(S,L,M,p,32)}function F(S,L,M,p){for(var U=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Y=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ue=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,_e=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Ae=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,xe=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,Bt=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,Le=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,We=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,Ye=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ct=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,Xe=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,rt=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,Je=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,$e=U,He=J,Re=Y,Me=ue,Ne=_e,Ie=Ae,ce=xe,fe=Bt,ye=Le,he=We,de=Ye,ve=lt,Ve=ct,gt=Xe,wt=rt,yt=Je,j,xt=0;xt<20;xt+=2)j=$e+Ve|0,Ne^=j<<7|j>>>32-7,j=Ne+$e|0,ye^=j<<9|j>>>32-9,j=ye+Ne|0,Ve^=j<<13|j>>>32-13,j=Ve+ye|0,$e^=j<<18|j>>>32-18,j=Ie+He|0,he^=j<<7|j>>>32-7,j=he+Ie|0,gt^=j<<9|j>>>32-9,j=gt+he|0,He^=j<<13|j>>>32-13,j=He+gt|0,Ie^=j<<18|j>>>32-18,j=de+ce|0,wt^=j<<7|j>>>32-7,j=wt+de|0,Re^=j<<9|j>>>32-9,j=Re+wt|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,de^=j<<18|j>>>32-18,j=yt+ve|0,Me^=j<<7|j>>>32-7,j=Me+yt|0,fe^=j<<9|j>>>32-9,j=fe+Me|0,ve^=j<<13|j>>>32-13,j=ve+fe|0,yt^=j<<18|j>>>32-18,j=$e+Me|0,He^=j<<7|j>>>32-7,j=He+$e|0,Re^=j<<9|j>>>32-9,j=Re+He|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,$e^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,fe^=j<<9|j>>>32-9,j=fe+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+fe|0,Ie^=j<<18|j>>>32-18,j=de+he|0,ve^=j<<7|j>>>32-7,j=ve+de|0,ye^=j<<9|j>>>32-9,j=ye+ve|0,he^=j<<13|j>>>32-13,j=he+ye|0,de^=j<<18|j>>>32-18,j=yt+wt|0,Ve^=j<<7|j>>>32-7,j=Ve+yt|0,gt^=j<<9|j>>>32-9,j=gt+Ve|0,wt^=j<<13|j>>>32-13,j=wt+gt|0,yt^=j<<18|j>>>32-18;$e=$e+U|0,He=He+J|0,Re=Re+Y|0,Me=Me+ue|0,Ne=Ne+_e|0,Ie=Ie+Ae|0,ce=ce+xe|0,fe=fe+Bt|0,ye=ye+Le|0,he=he+We|0,de=de+Ye|0,ve=ve+lt|0,Ve=Ve+ct|0,gt=gt+Xe|0,wt=wt+rt|0,yt=yt+Je|0,S[0]=$e>>>0&255,S[1]=$e>>>8&255,S[2]=$e>>>16&255,S[3]=$e>>>24&255,S[4]=He>>>0&255,S[5]=He>>>8&255,S[6]=He>>>16&255,S[7]=He>>>24&255,S[8]=Re>>>0&255,S[9]=Re>>>8&255,S[10]=Re>>>16&255,S[11]=Re>>>24&255,S[12]=Me>>>0&255,S[13]=Me>>>8&255,S[14]=Me>>>16&255,S[15]=Me>>>24&255,S[16]=Ne>>>0&255,S[17]=Ne>>>8&255,S[18]=Ne>>>16&255,S[19]=Ne>>>24&255,S[20]=Ie>>>0&255,S[21]=Ie>>>8&255,S[22]=Ie>>>16&255,S[23]=Ie>>>24&255,S[24]=ce>>>0&255,S[25]=ce>>>8&255,S[26]=ce>>>16&255,S[27]=ce>>>24&255,S[28]=fe>>>0&255,S[29]=fe>>>8&255,S[30]=fe>>>16&255,S[31]=fe>>>24&255,S[32]=ye>>>0&255,S[33]=ye>>>8&255,S[34]=ye>>>16&255,S[35]=ye>>>24&255,S[36]=he>>>0&255,S[37]=he>>>8&255,S[38]=he>>>16&255,S[39]=he>>>24&255,S[40]=de>>>0&255,S[41]=de>>>8&255,S[42]=de>>>16&255,S[43]=de>>>24&255,S[44]=ve>>>0&255,S[45]=ve>>>8&255,S[46]=ve>>>16&255,S[47]=ve>>>24&255,S[48]=Ve>>>0&255,S[49]=Ve>>>8&255,S[50]=Ve>>>16&255,S[51]=Ve>>>24&255,S[52]=gt>>>0&255,S[53]=gt>>>8&255,S[54]=gt>>>16&255,S[55]=gt>>>24&255,S[56]=wt>>>0&255,S[57]=wt>>>8&255,S[58]=wt>>>16&255,S[59]=wt>>>24&255,S[60]=yt>>>0&255,S[61]=yt>>>8&255,S[62]=yt>>>16&255,S[63]=yt>>>24&255}function N(S,L,M,p){for(var U=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,J=M[0]&255|(M[1]&255)<<8|(M[2]&255)<<16|(M[3]&255)<<24,Y=M[4]&255|(M[5]&255)<<8|(M[6]&255)<<16|(M[7]&255)<<24,ue=M[8]&255|(M[9]&255)<<8|(M[10]&255)<<16|(M[11]&255)<<24,_e=M[12]&255|(M[13]&255)<<8|(M[14]&255)<<16|(M[15]&255)<<24,Ae=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,xe=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,Bt=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,Le=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,We=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,Ye=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,lt=M[16]&255|(M[17]&255)<<8|(M[18]&255)<<16|(M[19]&255)<<24,ct=M[20]&255|(M[21]&255)<<8|(M[22]&255)<<16|(M[23]&255)<<24,Xe=M[24]&255|(M[25]&255)<<8|(M[26]&255)<<16|(M[27]&255)<<24,rt=M[28]&255|(M[29]&255)<<8|(M[30]&255)<<16|(M[31]&255)<<24,Je=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,$e=U,He=J,Re=Y,Me=ue,Ne=_e,Ie=Ae,ce=xe,fe=Bt,ye=Le,he=We,de=Ye,ve=lt,Ve=ct,gt=Xe,wt=rt,yt=Je,j,xt=0;xt<20;xt+=2)j=$e+Ve|0,Ne^=j<<7|j>>>32-7,j=Ne+$e|0,ye^=j<<9|j>>>32-9,j=ye+Ne|0,Ve^=j<<13|j>>>32-13,j=Ve+ye|0,$e^=j<<18|j>>>32-18,j=Ie+He|0,he^=j<<7|j>>>32-7,j=he+Ie|0,gt^=j<<9|j>>>32-9,j=gt+he|0,He^=j<<13|j>>>32-13,j=He+gt|0,Ie^=j<<18|j>>>32-18,j=de+ce|0,wt^=j<<7|j>>>32-7,j=wt+de|0,Re^=j<<9|j>>>32-9,j=Re+wt|0,ce^=j<<13|j>>>32-13,j=ce+Re|0,de^=j<<18|j>>>32-18,j=yt+ve|0,Me^=j<<7|j>>>32-7,j=Me+yt|0,fe^=j<<9|j>>>32-9,j=fe+Me|0,ve^=j<<13|j>>>32-13,j=ve+fe|0,yt^=j<<18|j>>>32-18,j=$e+Me|0,He^=j<<7|j>>>32-7,j=He+$e|0,Re^=j<<9|j>>>32-9,j=Re+He|0,Me^=j<<13|j>>>32-13,j=Me+Re|0,$e^=j<<18|j>>>32-18,j=Ie+Ne|0,ce^=j<<7|j>>>32-7,j=ce+Ie|0,fe^=j<<9|j>>>32-9,j=fe+ce|0,Ne^=j<<13|j>>>32-13,j=Ne+fe|0,Ie^=j<<18|j>>>32-18,j=de+he|0,ve^=j<<7|j>>>32-7,j=ve+de|0,ye^=j<<9|j>>>32-9,j=ye+ve|0,he^=j<<13|j>>>32-13,j=he+ye|0,de^=j<<18|j>>>32-18,j=yt+wt|0,Ve^=j<<7|j>>>32-7,j=Ve+yt|0,gt^=j<<9|j>>>32-9,j=gt+Ve|0,wt^=j<<13|j>>>32-13,j=wt+gt|0,yt^=j<<18|j>>>32-18;S[0]=$e>>>0&255,S[1]=$e>>>8&255,S[2]=$e>>>16&255,S[3]=$e>>>24&255,S[4]=Ie>>>0&255,S[5]=Ie>>>8&255,S[6]=Ie>>>16&255,S[7]=Ie>>>24&255,S[8]=de>>>0&255,S[9]=de>>>8&255,S[10]=de>>>16&255,S[11]=de>>>24&255,S[12]=yt>>>0&255,S[13]=yt>>>8&255,S[14]=yt>>>16&255,S[15]=yt>>>24&255,S[16]=ce>>>0&255,S[17]=ce>>>8&255,S[18]=ce>>>16&255,S[19]=ce>>>24&255,S[20]=fe>>>0&255,S[21]=fe>>>8&255,S[22]=fe>>>16&255,S[23]=fe>>>24&255,S[24]=ye>>>0&255,S[25]=ye>>>8&255,S[26]=ye>>>16&255,S[27]=ye>>>24&255,S[28]=he>>>0&255,S[29]=he>>>8&255,S[30]=he>>>16&255,S[31]=he>>>24&255}function $(S,L,M,p){F(S,L,M,p)}function z(S,L,M,p){N(S,L,M,p)}var Z=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function G(S,L,M,p,U,J,Y){var ue=new Uint8Array(16),_e=new Uint8Array(64),Ae,xe;for(xe=0;xe<16;xe++)ue[xe]=0;for(xe=0;xe<8;xe++)ue[xe]=J[xe];for(;U>=64;){for($(_e,ue,Y,Z),xe=0;xe<64;xe++)S[L+xe]=M[p+xe]^_e[xe];for(Ae=1,xe=8;xe<16;xe++)Ae=Ae+(ue[xe]&255)|0,ue[xe]=Ae&255,Ae>>>=8;U-=64,L+=64,p+=64}if(U>0)for($(_e,ue,Y,Z),xe=0;xe<U;xe++)S[L+xe]=M[p+xe]^_e[xe];return 0}function q(S,L,M,p,U){var J=new Uint8Array(16),Y=new Uint8Array(64),ue,_e;for(_e=0;_e<16;_e++)J[_e]=0;for(_e=0;_e<8;_e++)J[_e]=p[_e];for(;M>=64;){for($(Y,J,U,Z),_e=0;_e<64;_e++)S[L+_e]=Y[_e];for(ue=1,_e=8;_e<16;_e++)ue=ue+(J[_e]&255)|0,J[_e]=ue&255,ue>>>=8;M-=64,L+=64}if(M>0)for($(Y,J,U,Z),_e=0;_e<M;_e++)S[L+_e]=Y[_e];return 0}function ee(S,L,M,p,U){var J=new Uint8Array(32);z(J,p,U,Z);for(var Y=new Uint8Array(8),ue=0;ue<8;ue++)Y[ue]=p[ue+16];return q(S,L,M,Y,J)}function ie(S,L,M,p,U,J,Y){var ue=new Uint8Array(32);z(ue,J,Y,Z);for(var _e=new Uint8Array(8),Ae=0;Ae<8;Ae++)_e[Ae]=J[Ae+16];return G(S,L,M,p,U,_e,ue)}var Q=function(S){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var L,M,p,U,J,Y,ue,_e;L=S[0]&255|(S[1]&255)<<8,this.r[0]=L&8191,M=S[2]&255|(S[3]&255)<<8,this.r[1]=(L>>>13|M<<3)&8191,p=S[4]&255|(S[5]&255)<<8,this.r[2]=(M>>>10|p<<6)&7939,U=S[6]&255|(S[7]&255)<<8,this.r[3]=(p>>>7|U<<9)&8191,J=S[8]&255|(S[9]&255)<<8,this.r[4]=(U>>>4|J<<12)&255,this.r[5]=J>>>1&8190,Y=S[10]&255|(S[11]&255)<<8,this.r[6]=(J>>>14|Y<<2)&8191,ue=S[12]&255|(S[13]&255)<<8,this.r[7]=(Y>>>11|ue<<5)&8065,_e=S[14]&255|(S[15]&255)<<8,this.r[8]=(ue>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=S[16]&255|(S[17]&255)<<8,this.pad[1]=S[18]&255|(S[19]&255)<<8,this.pad[2]=S[20]&255|(S[21]&255)<<8,this.pad[3]=S[22]&255|(S[23]&255)<<8,this.pad[4]=S[24]&255|(S[25]&255)<<8,this.pad[5]=S[26]&255|(S[27]&255)<<8,this.pad[6]=S[28]&255|(S[29]&255)<<8,this.pad[7]=S[30]&255|(S[31]&255)<<8};Q.prototype.blocks=function(S,L,M){for(var p=this.fin?0:2048,U,J,Y,ue,_e,Ae,xe,Bt,Le,We,Ye,lt,ct,Xe,rt,Je,$e,He,Re,Me=this.h[0],Ne=this.h[1],Ie=this.h[2],ce=this.h[3],fe=this.h[4],ye=this.h[5],he=this.h[6],de=this.h[7],ve=this.h[8],Ve=this.h[9],gt=this.r[0],wt=this.r[1],yt=this.r[2],j=this.r[3],xt=this.r[4],Ot=this.r[5],Mt=this.r[6],_t=this.r[7],Ct=this.r[8],Lt=this.r[9];M>=16;)U=S[L+0]&255|(S[L+1]&255)<<8,Me+=U&8191,J=S[L+2]&255|(S[L+3]&255)<<8,Ne+=(U>>>13|J<<3)&8191,Y=S[L+4]&255|(S[L+5]&255)<<8,Ie+=(J>>>10|Y<<6)&8191,ue=S[L+6]&255|(S[L+7]&255)<<8,ce+=(Y>>>7|ue<<9)&8191,_e=S[L+8]&255|(S[L+9]&255)<<8,fe+=(ue>>>4|_e<<12)&8191,ye+=_e>>>1&8191,Ae=S[L+10]&255|(S[L+11]&255)<<8,he+=(_e>>>14|Ae<<2)&8191,xe=S[L+12]&255|(S[L+13]&255)<<8,de+=(Ae>>>11|xe<<5)&8191,Bt=S[L+14]&255|(S[L+15]&255)<<8,ve+=(xe>>>8|Bt<<8)&8191,Ve+=Bt>>>5|p,Le=0,We=Le,We+=Me*gt,We+=Ne*(5*Lt),We+=Ie*(5*Ct),We+=ce*(5*_t),We+=fe*(5*Mt),Le=We>>>13,We&=8191,We+=ye*(5*Ot),We+=he*(5*xt),We+=de*(5*j),We+=ve*(5*yt),We+=Ve*(5*wt),Le+=We>>>13,We&=8191,Ye=Le,Ye+=Me*wt,Ye+=Ne*gt,Ye+=Ie*(5*Lt),Ye+=ce*(5*Ct),Ye+=fe*(5*_t),Le=Ye>>>13,Ye&=8191,Ye+=ye*(5*Mt),Ye+=he*(5*Ot),Ye+=de*(5*xt),Ye+=ve*(5*j),Ye+=Ve*(5*yt),Le+=Ye>>>13,Ye&=8191,lt=Le,lt+=Me*yt,lt+=Ne*wt,lt+=Ie*gt,lt+=ce*(5*Lt),lt+=fe*(5*Ct),Le=lt>>>13,lt&=8191,lt+=ye*(5*_t),lt+=he*(5*Mt),lt+=de*(5*Ot),lt+=ve*(5*xt),lt+=Ve*(5*j),Le+=lt>>>13,lt&=8191,ct=Le,ct+=Me*j,ct+=Ne*yt,ct+=Ie*wt,ct+=ce*gt,ct+=fe*(5*Lt),Le=ct>>>13,ct&=8191,ct+=ye*(5*Ct),ct+=he*(5*_t),ct+=de*(5*Mt),ct+=ve*(5*Ot),ct+=Ve*(5*xt),Le+=ct>>>13,ct&=8191,Xe=Le,Xe+=Me*xt,Xe+=Ne*j,Xe+=Ie*yt,Xe+=ce*wt,Xe+=fe*gt,Le=Xe>>>13,Xe&=8191,Xe+=ye*(5*Lt),Xe+=he*(5*Ct),Xe+=de*(5*_t),Xe+=ve*(5*Mt),Xe+=Ve*(5*Ot),Le+=Xe>>>13,Xe&=8191,rt=Le,rt+=Me*Ot,rt+=Ne*xt,rt+=Ie*j,rt+=ce*yt,rt+=fe*wt,Le=rt>>>13,rt&=8191,rt+=ye*gt,rt+=he*(5*Lt),rt+=de*(5*Ct),rt+=ve*(5*_t),rt+=Ve*(5*Mt),Le+=rt>>>13,rt&=8191,Je=Le,Je+=Me*Mt,Je+=Ne*Ot,Je+=Ie*xt,Je+=ce*j,Je+=fe*yt,Le=Je>>>13,Je&=8191,Je+=ye*wt,Je+=he*gt,Je+=de*(5*Lt),Je+=ve*(5*Ct),Je+=Ve*(5*_t),Le+=Je>>>13,Je&=8191,$e=Le,$e+=Me*_t,$e+=Ne*Mt,$e+=Ie*Ot,$e+=ce*xt,$e+=fe*j,Le=$e>>>13,$e&=8191,$e+=ye*yt,$e+=he*wt,$e+=de*gt,$e+=ve*(5*Lt),$e+=Ve*(5*Ct),Le+=$e>>>13,$e&=8191,He=Le,He+=Me*Ct,He+=Ne*_t,He+=Ie*Mt,He+=ce*Ot,He+=fe*xt,Le=He>>>13,He&=8191,He+=ye*j,He+=he*yt,He+=de*wt,He+=ve*gt,He+=Ve*(5*Lt),Le+=He>>>13,He&=8191,Re=Le,Re+=Me*Lt,Re+=Ne*Ct,Re+=Ie*_t,Re+=ce*Mt,Re+=fe*Ot,Le=Re>>>13,Re&=8191,Re+=ye*xt,Re+=he*j,Re+=de*yt,Re+=ve*wt,Re+=Ve*gt,Le+=Re>>>13,Re&=8191,Le=(Le<<2)+Le|0,Le=Le+We|0,We=Le&8191,Le=Le>>>13,Ye+=Le,Me=We,Ne=Ye,Ie=lt,ce=ct,fe=Xe,ye=rt,he=Je,de=$e,ve=He,Ve=Re,L+=16,M-=16;this.h[0]=Me,this.h[1]=Ne,this.h[2]=Ie,this.h[3]=ce,this.h[4]=fe,this.h[5]=ye,this.h[6]=he,this.h[7]=de,this.h[8]=ve,this.h[9]=Ve},Q.prototype.finish=function(S,L){var M=new Uint16Array(10),p,U,J,Y;if(this.leftover){for(Y=this.leftover,this.buffer[Y++]=1;Y<16;Y++)this.buffer[Y]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(p=this.h[1]>>>13,this.h[1]&=8191,Y=2;Y<10;Y++)this.h[Y]+=p,p=this.h[Y]>>>13,this.h[Y]&=8191;for(this.h[0]+=p*5,p=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=p,p=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=p,M[0]=this.h[0]+5,p=M[0]>>>13,M[0]&=8191,Y=1;Y<10;Y++)M[Y]=this.h[Y]+p,p=M[Y]>>>13,M[Y]&=8191;for(M[9]-=8192,U=(p^1)-1,Y=0;Y<10;Y++)M[Y]&=U;for(U=~U,Y=0;Y<10;Y++)this.h[Y]=this.h[Y]&U|M[Y];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,J=this.h[0]+this.pad[0],this.h[0]=J&65535,Y=1;Y<8;Y++)J=(this.h[Y]+this.pad[Y]|0)+(J>>>16)|0,this.h[Y]=J&65535;S[L+0]=this.h[0]>>>0&255,S[L+1]=this.h[0]>>>8&255,S[L+2]=this.h[1]>>>0&255,S[L+3]=this.h[1]>>>8&255,S[L+4]=this.h[2]>>>0&255,S[L+5]=this.h[2]>>>8&255,S[L+6]=this.h[3]>>>0&255,S[L+7]=this.h[3]>>>8&255,S[L+8]=this.h[4]>>>0&255,S[L+9]=this.h[4]>>>8&255,S[L+10]=this.h[5]>>>0&255,S[L+11]=this.h[5]>>>8&255,S[L+12]=this.h[6]>>>0&255,S[L+13]=this.h[6]>>>8&255,S[L+14]=this.h[7]>>>0&255,S[L+15]=this.h[7]>>>8&255},Q.prototype.update=function(S,L,M){var p,U;if(this.leftover){for(U=16-this.leftover,U>M&&(U=M),p=0;p<U;p++)this.buffer[this.leftover+p]=S[L+p];if(M-=U,L+=U,this.leftover+=U,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(M>=16&&(U=M-M%16,this.blocks(S,L,U),L+=U,M-=U),M){for(p=0;p<M;p++)this.buffer[this.leftover+p]=S[L+p];this.leftover+=M}};function I(S,L,M,p,U,J){var Y=new Q(J);return Y.update(M,p,U),Y.finish(S,L),0}function g(S,L,M,p,U,J){var Y=new Uint8Array(16);return I(Y,0,M,p,U,J),P(S,L,Y,0)}function f(S,L,M,p,U){var J;if(M<32)return-1;for(ie(S,0,L,0,M,p,U),I(S,16,S,32,M-32,S),J=0;J<16;J++)S[J]=0;return 0}function h(S,L,M,p,U){var J,Y=new Uint8Array(32);if(M<32||(ee(Y,0,32,p,U),g(L,16,L,32,M-32,Y)!==0))return-1;for(ie(S,0,L,0,M,p,U),J=0;J<32;J++)S[J]=0;return 0}function m(S,L){var M;for(M=0;M<16;M++)S[M]=L[M]|0}function _(S){var L,M,p=1;for(L=0;L<16;L++)M=S[L]+p+65535,p=Math.floor(M/65536),S[L]=M-p*65536;S[0]+=p-1+37*(p-1)}function x(S,L,M){for(var p,U=~(M-1),J=0;J<16;J++)p=U&(S[J]^L[J]),S[J]^=p,L[J]^=p}function E(S,L){var M,p,U,J=r(),Y=r();for(M=0;M<16;M++)Y[M]=L[M];for(_(Y),_(Y),_(Y),p=0;p<2;p++){for(J[0]=Y[0]-65517,M=1;M<15;M++)J[M]=Y[M]-65535-(J[M-1]>>16&1),J[M-1]&=65535;J[15]=Y[15]-32767-(J[14]>>16&1),U=J[15]>>16&1,J[14]&=65535,x(Y,J,1-U)}for(M=0;M<16;M++)S[2*M]=Y[M]&255,S[2*M+1]=Y[M]>>8}function T(S,L){var M=new Uint8Array(32),p=new Uint8Array(32);return E(M,S),E(p,L),D(M,0,p,0)}function B(S){var L=new Uint8Array(32);return E(L,S),L[0]&1}function d(S,L){var M;for(M=0;M<16;M++)S[M]=L[2*M]+(L[2*M+1]<<8);S[15]&=32767}function k(S,L,M){for(var p=0;p<16;p++)S[p]=L[p]+M[p]}function K(S,L,M){for(var p=0;p<16;p++)S[p]=L[p]-M[p]}function W(S,L,M){var p,U,J=0,Y=0,ue=0,_e=0,Ae=0,xe=0,Bt=0,Le=0,We=0,Ye=0,lt=0,ct=0,Xe=0,rt=0,Je=0,$e=0,He=0,Re=0,Me=0,Ne=0,Ie=0,ce=0,fe=0,ye=0,he=0,de=0,ve=0,Ve=0,gt=0,wt=0,yt=0,j=M[0],xt=M[1],Ot=M[2],Mt=M[3],_t=M[4],Ct=M[5],Lt=M[6],Rr=M[7],Wt=M[8],xr=M[9],Er=M[10],Sr=M[11],Ur=M[12],fn=M[13],un=M[14],ln=M[15];p=L[0],J+=p*j,Y+=p*xt,ue+=p*Ot,_e+=p*Mt,Ae+=p*_t,xe+=p*Ct,Bt+=p*Lt,Le+=p*Rr,We+=p*Wt,Ye+=p*xr,lt+=p*Er,ct+=p*Sr,Xe+=p*Ur,rt+=p*fn,Je+=p*un,$e+=p*ln,p=L[1],Y+=p*j,ue+=p*xt,_e+=p*Ot,Ae+=p*Mt,xe+=p*_t,Bt+=p*Ct,Le+=p*Lt,We+=p*Rr,Ye+=p*Wt,lt+=p*xr,ct+=p*Er,Xe+=p*Sr,rt+=p*Ur,Je+=p*fn,$e+=p*un,He+=p*ln,p=L[2],ue+=p*j,_e+=p*xt,Ae+=p*Ot,xe+=p*Mt,Bt+=p*_t,Le+=p*Ct,We+=p*Lt,Ye+=p*Rr,lt+=p*Wt,ct+=p*xr,Xe+=p*Er,rt+=p*Sr,Je+=p*Ur,$e+=p*fn,He+=p*un,Re+=p*ln,p=L[3],_e+=p*j,Ae+=p*xt,xe+=p*Ot,Bt+=p*Mt,Le+=p*_t,We+=p*Ct,Ye+=p*Lt,lt+=p*Rr,ct+=p*Wt,Xe+=p*xr,rt+=p*Er,Je+=p*Sr,$e+=p*Ur,He+=p*fn,Re+=p*un,Me+=p*ln,p=L[4],Ae+=p*j,xe+=p*xt,Bt+=p*Ot,Le+=p*Mt,We+=p*_t,Ye+=p*Ct,lt+=p*Lt,ct+=p*Rr,Xe+=p*Wt,rt+=p*xr,Je+=p*Er,$e+=p*Sr,He+=p*Ur,Re+=p*fn,Me+=p*un,Ne+=p*ln,p=L[5],xe+=p*j,Bt+=p*xt,Le+=p*Ot,We+=p*Mt,Ye+=p*_t,lt+=p*Ct,ct+=p*Lt,Xe+=p*Rr,rt+=p*Wt,Je+=p*xr,$e+=p*Er,He+=p*Sr,Re+=p*Ur,Me+=p*fn,Ne+=p*un,Ie+=p*ln,p=L[6],Bt+=p*j,Le+=p*xt,We+=p*Ot,Ye+=p*Mt,lt+=p*_t,ct+=p*Ct,Xe+=p*Lt,rt+=p*Rr,Je+=p*Wt,$e+=p*xr,He+=p*Er,Re+=p*Sr,Me+=p*Ur,Ne+=p*fn,Ie+=p*un,ce+=p*ln,p=L[7],Le+=p*j,We+=p*xt,Ye+=p*Ot,lt+=p*Mt,ct+=p*_t,Xe+=p*Ct,rt+=p*Lt,Je+=p*Rr,$e+=p*Wt,He+=p*xr,Re+=p*Er,Me+=p*Sr,Ne+=p*Ur,Ie+=p*fn,ce+=p*un,fe+=p*ln,p=L[8],We+=p*j,Ye+=p*xt,lt+=p*Ot,ct+=p*Mt,Xe+=p*_t,rt+=p*Ct,Je+=p*Lt,$e+=p*Rr,He+=p*Wt,Re+=p*xr,Me+=p*Er,Ne+=p*Sr,Ie+=p*Ur,ce+=p*fn,fe+=p*un,ye+=p*ln,p=L[9],Ye+=p*j,lt+=p*xt,ct+=p*Ot,Xe+=p*Mt,rt+=p*_t,Je+=p*Ct,$e+=p*Lt,He+=p*Rr,Re+=p*Wt,Me+=p*xr,Ne+=p*Er,Ie+=p*Sr,ce+=p*Ur,fe+=p*fn,ye+=p*un,he+=p*ln,p=L[10],lt+=p*j,ct+=p*xt,Xe+=p*Ot,rt+=p*Mt,Je+=p*_t,$e+=p*Ct,He+=p*Lt,Re+=p*Rr,Me+=p*Wt,Ne+=p*xr,Ie+=p*Er,ce+=p*Sr,fe+=p*Ur,ye+=p*fn,he+=p*un,de+=p*ln,p=L[11],ct+=p*j,Xe+=p*xt,rt+=p*Ot,Je+=p*Mt,$e+=p*_t,He+=p*Ct,Re+=p*Lt,Me+=p*Rr,Ne+=p*Wt,Ie+=p*xr,ce+=p*Er,fe+=p*Sr,ye+=p*Ur,he+=p*fn,de+=p*un,ve+=p*ln,p=L[12],Xe+=p*j,rt+=p*xt,Je+=p*Ot,$e+=p*Mt,He+=p*_t,Re+=p*Ct,Me+=p*Lt,Ne+=p*Rr,Ie+=p*Wt,ce+=p*xr,fe+=p*Er,ye+=p*Sr,he+=p*Ur,de+=p*fn,ve+=p*un,Ve+=p*ln,p=L[13],rt+=p*j,Je+=p*xt,$e+=p*Ot,He+=p*Mt,Re+=p*_t,Me+=p*Ct,Ne+=p*Lt,Ie+=p*Rr,ce+=p*Wt,fe+=p*xr,ye+=p*Er,he+=p*Sr,de+=p*Ur,ve+=p*fn,Ve+=p*un,gt+=p*ln,p=L[14],Je+=p*j,$e+=p*xt,He+=p*Ot,Re+=p*Mt,Me+=p*_t,Ne+=p*Ct,Ie+=p*Lt,ce+=p*Rr,fe+=p*Wt,ye+=p*xr,he+=p*Er,de+=p*Sr,ve+=p*Ur,Ve+=p*fn,gt+=p*un,wt+=p*ln,p=L[15],$e+=p*j,He+=p*xt,Re+=p*Ot,Me+=p*Mt,Ne+=p*_t,Ie+=p*Ct,ce+=p*Lt,fe+=p*Rr,ye+=p*Wt,he+=p*xr,de+=p*Er,ve+=p*Sr,Ve+=p*Ur,gt+=p*fn,wt+=p*un,yt+=p*ln,J+=38*He,Y+=38*Re,ue+=38*Me,_e+=38*Ne,Ae+=38*Ie,xe+=38*ce,Bt+=38*fe,Le+=38*ye,We+=38*he,Ye+=38*de,lt+=38*ve,ct+=38*Ve,Xe+=38*gt,rt+=38*wt,Je+=38*yt,U=1,p=J+U+65535,U=Math.floor(p/65536),J=p-U*65536,p=Y+U+65535,U=Math.floor(p/65536),Y=p-U*65536,p=ue+U+65535,U=Math.floor(p/65536),ue=p-U*65536,p=_e+U+65535,U=Math.floor(p/65536),_e=p-U*65536,p=Ae+U+65535,U=Math.floor(p/65536),Ae=p-U*65536,p=xe+U+65535,U=Math.floor(p/65536),xe=p-U*65536,p=Bt+U+65535,U=Math.floor(p/65536),Bt=p-U*65536,p=Le+U+65535,U=Math.floor(p/65536),Le=p-U*65536,p=We+U+65535,U=Math.floor(p/65536),We=p-U*65536,p=Ye+U+65535,U=Math.floor(p/65536),Ye=p-U*65536,p=lt+U+65535,U=Math.floor(p/65536),lt=p-U*65536,p=ct+U+65535,U=Math.floor(p/65536),ct=p-U*65536,p=Xe+U+65535,U=Math.floor(p/65536),Xe=p-U*65536,p=rt+U+65535,U=Math.floor(p/65536),rt=p-U*65536,p=Je+U+65535,U=Math.floor(p/65536),Je=p-U*65536,p=$e+U+65535,U=Math.floor(p/65536),$e=p-U*65536,J+=U-1+37*(U-1),U=1,p=J+U+65535,U=Math.floor(p/65536),J=p-U*65536,p=Y+U+65535,U=Math.floor(p/65536),Y=p-U*65536,p=ue+U+65535,U=Math.floor(p/65536),ue=p-U*65536,p=_e+U+65535,U=Math.floor(p/65536),_e=p-U*65536,p=Ae+U+65535,U=Math.floor(p/65536),Ae=p-U*65536,p=xe+U+65535,U=Math.floor(p/65536),xe=p-U*65536,p=Bt+U+65535,U=Math.floor(p/65536),Bt=p-U*65536,p=Le+U+65535,U=Math.floor(p/65536),Le=p-U*65536,p=We+U+65535,U=Math.floor(p/65536),We=p-U*65536,p=Ye+U+65535,U=Math.floor(p/65536),Ye=p-U*65536,p=lt+U+65535,U=Math.floor(p/65536),lt=p-U*65536,p=ct+U+65535,U=Math.floor(p/65536),ct=p-U*65536,p=Xe+U+65535,U=Math.floor(p/65536),Xe=p-U*65536,p=rt+U+65535,U=Math.floor(p/65536),rt=p-U*65536,p=Je+U+65535,U=Math.floor(p/65536),Je=p-U*65536,p=$e+U+65535,U=Math.floor(p/65536),$e=p-U*65536,J+=U-1+37*(U-1),S[0]=J,S[1]=Y,S[2]=ue,S[3]=_e,S[4]=Ae,S[5]=xe,S[6]=Bt,S[7]=Le,S[8]=We,S[9]=Ye,S[10]=lt,S[11]=ct,S[12]=Xe,S[13]=rt,S[14]=Je,S[15]=$e}function re(S,L){W(S,L,L)}function Ee(S,L){var M=r(),p;for(p=0;p<16;p++)M[p]=L[p];for(p=253;p>=0;p--)re(M,M),p!==2&&p!==4&&W(M,M,L);for(p=0;p<16;p++)S[p]=M[p]}function be(S,L){var M=r(),p;for(p=0;p<16;p++)M[p]=L[p];for(p=250;p>=0;p--)re(M,M),p!==1&&W(M,M,L);for(p=0;p<16;p++)S[p]=M[p]}function ge(S,L,M){var p=new Uint8Array(32),U=new Float64Array(80),J,Y,ue=r(),_e=r(),Ae=r(),xe=r(),Bt=r(),Le=r();for(Y=0;Y<31;Y++)p[Y]=L[Y];for(p[31]=L[31]&127|64,p[0]&=248,d(U,M),Y=0;Y<16;Y++)_e[Y]=U[Y],xe[Y]=ue[Y]=Ae[Y]=0;for(ue[0]=xe[0]=1,Y=254;Y>=0;--Y)J=p[Y>>>3]>>>(Y&7)&1,x(ue,_e,J),x(Ae,xe,J),k(Bt,ue,Ae),K(ue,ue,Ae),k(Ae,_e,xe),K(_e,_e,xe),re(xe,Bt),re(Le,ue),W(ue,Ae,ue),W(Ae,_e,Bt),k(Bt,ue,Ae),K(ue,ue,Ae),re(_e,ue),K(Ae,xe,Le),W(ue,Ae,c),k(ue,ue,xe),W(Ae,Ae,ue),W(ue,xe,Le),W(xe,_e,U),re(_e,Bt),x(ue,_e,J),x(Ae,xe,J);for(Y=0;Y<16;Y++)U[Y+16]=ue[Y],U[Y+32]=Ae[Y],U[Y+48]=_e[Y],U[Y+64]=xe[Y];var We=U.subarray(32),Ye=U.subarray(16);return Ee(We,We),W(Ye,Ye,We),E(S,Ye),0}function tt(S,L){return ge(S,L,s)}function Ue(S,L){return n(L,32),tt(S,L)}function Pe(S,L,M){var p=new Uint8Array(32);return ge(p,M,L),z(S,i,p,Z)}var pe=f,we=h;function ke(S,L,M,p,U,J){var Y=new Uint8Array(32);return Pe(Y,U,J),pe(S,L,M,p,Y)}function vt(S,L,M,p,U,J){var Y=new Uint8Array(32);return Pe(Y,U,J),we(S,L,M,p,Y)}var De=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function it(S,L,M,p){for(var U=new Int32Array(16),J=new Int32Array(16),Y,ue,_e,Ae,xe,Bt,Le,We,Ye,lt,ct,Xe,rt,Je,$e,He,Re,Me,Ne,Ie,ce,fe,ye,he,de,ve,Ve=S[0],gt=S[1],wt=S[2],yt=S[3],j=S[4],xt=S[5],Ot=S[6],Mt=S[7],_t=L[0],Ct=L[1],Lt=L[2],Rr=L[3],Wt=L[4],xr=L[5],Er=L[6],Sr=L[7],Ur=0;p>=128;){for(Ne=0;Ne<16;Ne++)Ie=8*Ne+Ur,U[Ne]=M[Ie+0]<<24|M[Ie+1]<<16|M[Ie+2]<<8|M[Ie+3],J[Ne]=M[Ie+4]<<24|M[Ie+5]<<16|M[Ie+6]<<8|M[Ie+7];for(Ne=0;Ne<80;Ne++)if(Y=Ve,ue=gt,_e=wt,Ae=yt,xe=j,Bt=xt,Le=Ot,We=Mt,Ye=_t,lt=Ct,ct=Lt,Xe=Rr,rt=Wt,Je=xr,$e=Er,He=Sr,ce=Mt,fe=Sr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=(j>>>14|Wt<<32-14)^(j>>>18|Wt<<32-18)^(Wt>>>41-32|j<<32-(41-32)),fe=(Wt>>>14|j<<32-14)^(Wt>>>18|j<<32-18)^(j>>>41-32|Wt<<32-(41-32)),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=j&xt^~j&Ot,fe=Wt&xr^~Wt&Er,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=De[Ne*2],fe=De[Ne*2+1],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=U[Ne%16],fe=J[Ne%16],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Re=de&65535|ve<<16,Me=ye&65535|he<<16,ce=Re,fe=Me,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=(Ve>>>28|_t<<32-28)^(_t>>>34-32|Ve<<32-(34-32))^(_t>>>39-32|Ve<<32-(39-32)),fe=(_t>>>28|Ve<<32-28)^(Ve>>>34-32|_t<<32-(34-32))^(Ve>>>39-32|_t<<32-(39-32)),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,ce=Ve&gt^Ve&wt^gt&wt,fe=_t&Ct^_t&Lt^Ct&Lt,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,We=de&65535|ve<<16,He=ye&65535|he<<16,ce=Ae,fe=Xe,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=Re,fe=Me,ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,Ae=de&65535|ve<<16,Xe=ye&65535|he<<16,gt=Y,wt=ue,yt=_e,j=Ae,xt=xe,Ot=Bt,Mt=Le,Ve=We,Ct=Ye,Lt=lt,Rr=ct,Wt=Xe,xr=rt,Er=Je,Sr=$e,_t=He,Ne%16===15)for(Ie=0;Ie<16;Ie++)ce=U[Ie],fe=J[Ie],ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=U[(Ie+9)%16],fe=J[(Ie+9)%16],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,Re=U[(Ie+1)%16],Me=J[(Ie+1)%16],ce=(Re>>>1|Me<<32-1)^(Re>>>8|Me<<32-8)^Re>>>7,fe=(Me>>>1|Re<<32-1)^(Me>>>8|Re<<32-8)^(Me>>>7|Re<<32-7),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,Re=U[(Ie+14)%16],Me=J[(Ie+14)%16],ce=(Re>>>19|Me<<32-19)^(Me>>>61-32|Re<<32-(61-32))^Re>>>6,fe=(Me>>>19|Re<<32-19)^(Re>>>61-32|Me<<32-(61-32))^(Me>>>6|Re<<32-6),ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,U[Ie]=de&65535|ve<<16,J[Ie]=ye&65535|he<<16;ce=Ve,fe=_t,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[0],fe=L[0],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[0]=Ve=de&65535|ve<<16,L[0]=_t=ye&65535|he<<16,ce=gt,fe=Ct,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[1],fe=L[1],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[1]=gt=de&65535|ve<<16,L[1]=Ct=ye&65535|he<<16,ce=wt,fe=Lt,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[2],fe=L[2],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[2]=wt=de&65535|ve<<16,L[2]=Lt=ye&65535|he<<16,ce=yt,fe=Rr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[3],fe=L[3],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[3]=yt=de&65535|ve<<16,L[3]=Rr=ye&65535|he<<16,ce=j,fe=Wt,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[4],fe=L[4],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[4]=j=de&65535|ve<<16,L[4]=Wt=ye&65535|he<<16,ce=xt,fe=xr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[5],fe=L[5],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[5]=xt=de&65535|ve<<16,L[5]=xr=ye&65535|he<<16,ce=Ot,fe=Er,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[6],fe=L[6],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[6]=Ot=de&65535|ve<<16,L[6]=Er=ye&65535|he<<16,ce=Mt,fe=Sr,ye=fe&65535,he=fe>>>16,de=ce&65535,ve=ce>>>16,ce=S[7],fe=L[7],ye+=fe&65535,he+=fe>>>16,de+=ce&65535,ve+=ce>>>16,he+=ye>>>16,de+=he>>>16,ve+=de>>>16,S[7]=Mt=de&65535|ve<<16,L[7]=Sr=ye&65535|he<<16,Ur+=128,p-=128}return p}function Dt(S,L,M){var p=new Int32Array(8),U=new Int32Array(8),J=new Uint8Array(256),Y,ue=M;for(p[0]=1779033703,p[1]=3144134277,p[2]=1013904242,p[3]=2773480762,p[4]=1359893119,p[5]=2600822924,p[6]=528734635,p[7]=1541459225,U[0]=4089235720,U[1]=2227873595,U[2]=4271175723,U[3]=1595750129,U[4]=2917565137,U[5]=725511199,U[6]=4215389547,U[7]=327033209,it(p,U,L,M),M%=128,Y=0;Y<M;Y++)J[Y]=L[ue-M+Y];for(J[M]=128,M=256-128*(M<112?1:0),J[M-9]=0,R(J,M-8,ue/536870912|0,ue<<3),it(p,U,J,M),Y=0;Y<8;Y++)R(S,8*Y,p[Y],U[Y]);return 0}function ut(S,L){var M=r(),p=r(),U=r(),J=r(),Y=r(),ue=r(),_e=r(),Ae=r(),xe=r();K(M,S[1],S[0]),K(xe,L[1],L[0]),W(M,M,xe),k(p,S[0],S[1]),k(xe,L[0],L[1]),W(p,p,xe),W(U,S[3],L[3]),W(U,U,l),W(J,S[2],L[2]),k(J,J,J),K(Y,p,M),K(ue,J,U),k(_e,J,U),k(Ae,p,M),W(S[0],Y,ue),W(S[1],Ae,_e),W(S[2],_e,ue),W(S[3],Y,Ae)}function pt(S,L,M){var p;for(p=0;p<4;p++)x(S[p],L[p],M)}function Kt(S,L){var M=r(),p=r(),U=r();Ee(U,L[2]),W(M,L[0],U),W(p,L[1],U),E(S,p),S[31]^=B(M)<<7}function Et(S,L,M){var p,U;for(m(S[0],o),m(S[1],a),m(S[2],a),m(S[3],o),U=255;U>=0;--U)p=M[U/8|0]>>(U&7)&1,pt(S,L,p),ut(L,S),ut(S,S),pt(S,L,p)}function At(S,L){var M=[r(),r(),r(),r()];m(M[0],y),m(M[1],A),m(M[2],a),W(M[3],y,A),Et(S,M,L)}function Xt(S,L,M){var p=new Uint8Array(64),U=[r(),r(),r(),r()],J;for(M||n(L,32),Dt(p,L,32),p[0]&=248,p[31]&=127,p[31]|=64,At(U,p),Kt(S,U),J=0;J<32;J++)L[J+32]=S[J];return 0}var Tt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function C(S,L){var M,p,U,J;for(p=63;p>=32;--p){for(M=0,U=p-32,J=p-12;U<J;++U)L[U]+=M-16*L[p]*Tt[U-(p-32)],M=Math.floor((L[U]+128)/256),L[U]-=M*256;L[U]+=M,L[p]=0}for(M=0,U=0;U<32;U++)L[U]+=M-(L[31]>>4)*Tt[U],M=L[U]>>8,L[U]&=255;for(U=0;U<32;U++)L[U]-=M*Tt[U];for(p=0;p<32;p++)L[p+1]+=L[p]>>8,S[p]=L[p]&255}function w(S){var L=new Float64Array(64),M;for(M=0;M<64;M++)L[M]=S[M];for(M=0;M<64;M++)S[M]=0;C(S,L)}function v(S,L,M,p){var U=new Uint8Array(64),J=new Uint8Array(64),Y=new Uint8Array(64),ue,_e,Ae=new Float64Array(64),xe=[r(),r(),r(),r()];Dt(U,p,32),U[0]&=248,U[31]&=127,U[31]|=64;var Bt=M+64;for(ue=0;ue<M;ue++)S[64+ue]=L[ue];for(ue=0;ue<32;ue++)S[32+ue]=U[32+ue];for(Dt(Y,S.subarray(32),M+32),w(Y),At(xe,Y),Kt(S,xe),ue=32;ue<64;ue++)S[ue]=p[ue];for(Dt(J,S,M+64),w(J),ue=0;ue<64;ue++)Ae[ue]=0;for(ue=0;ue<32;ue++)Ae[ue]=Y[ue];for(ue=0;ue<32;ue++)for(_e=0;_e<32;_e++)Ae[ue+_e]+=J[ue]*U[_e];return C(S.subarray(32),Ae),Bt}function H(S,L){var M=r(),p=r(),U=r(),J=r(),Y=r(),ue=r(),_e=r();return m(S[2],a),d(S[1],L),re(U,S[1]),W(J,U,u),K(U,U,S[2]),k(J,S[2],J),re(Y,J),re(ue,Y),W(_e,ue,Y),W(M,_e,U),W(M,M,J),be(M,M),W(M,M,U),W(M,M,J),W(M,M,J),W(S[0],M,J),re(p,S[0]),W(p,p,J),T(p,U)&&W(S[0],S[0],b),re(p,S[0]),W(p,p,J),T(p,U)?-1:(B(S[0])===L[31]>>7&&K(S[0],o,S[0]),W(S[3],S[0],S[1]),0)}function V(S,L,M,p){var U,J=new Uint8Array(32),Y=new Uint8Array(64),ue=[r(),r(),r(),r()],_e=[r(),r(),r(),r()];if(M<64||H(_e,p))return-1;for(U=0;U<M;U++)S[U]=L[U];for(U=0;U<32;U++)S[U+32]=p[U];if(Dt(Y,S,M),w(Y),Et(ue,_e,Y),At(_e,L.subarray(32)),ut(ue,_e),Kt(J,ue),M-=64,D(L,0,J,0)){for(U=0;U<M;U++)S[U]=0;return-1}for(U=0;U<M;U++)S[U]=L[U+64];return M}var X=32,oe=24,Ge=32,Ze=16,Ke=32,jt=32,qe=32,rr=32,Fa=32,yr=oe,vr=Ge,Ol=Ze,qt=64,Yt=32,rs=64,ur=32,lr=64;t.lowlevel={crypto_core_hsalsa20:z,crypto_stream_xor:ie,crypto_stream:ee,crypto_stream_salsa20_xor:G,crypto_stream_salsa20:q,crypto_onetimeauth:I,crypto_onetimeauth_verify:g,crypto_verify_16:P,crypto_verify_32:D,crypto_secretbox:f,crypto_secretbox_open:h,crypto_scalarmult:ge,crypto_scalarmult_base:tt,crypto_box_beforenm:Pe,crypto_box_afternm:pe,crypto_box:ke,crypto_box_open:vt,crypto_box_keypair:Ue,crypto_hash:Dt,crypto_sign:v,crypto_sign_keypair:Xt,crypto_sign_open:V,crypto_secretbox_KEYBYTES:X,crypto_secretbox_NONCEBYTES:oe,crypto_secretbox_ZEROBYTES:Ge,crypto_secretbox_BOXZEROBYTES:Ze,crypto_scalarmult_BYTES:Ke,crypto_scalarmult_SCALARBYTES:jt,crypto_box_PUBLICKEYBYTES:qe,crypto_box_SECRETKEYBYTES:rr,crypto_box_BEFORENMBYTES:Fa,crypto_box_NONCEBYTES:yr,crypto_box_ZEROBYTES:vr,crypto_box_BOXZEROBYTES:Ol,crypto_sign_BYTES:qt,crypto_sign_PUBLICKEYBYTES:Yt,crypto_sign_SECRETKEYBYTES:rs,crypto_sign_SEEDBYTES:ur,crypto_hash_BYTES:lr,gf:r,D:u,L:Tt,pack25519:E,unpack25519:d,M:W,A:k,S:re,Z:K,pow2523:be,add:ut,set25519:m,modL:C,scalarmult:Et,scalarbase:At};function sf(S,L){if(S.length!==X)throw new Error("bad key size");if(L.length!==oe)throw new Error("bad nonce size")}function _r(S,L){if(S.length!==qe)throw new Error("bad public key size");if(L.length!==rr)throw new Error("bad secret key size")}function kt(){for(var S=0;S<arguments.length;S++)if(!(arguments[S]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function of(S){for(var L=0;L<S.length;L++)S[L]=0}t.randomBytes=function(S){var L=new Uint8Array(S);return n(L,S),L},t.secretbox=function(S,L,M){kt(S,L,M),sf(M,L);for(var p=new Uint8Array(Ge+S.length),U=new Uint8Array(p.length),J=0;J<S.length;J++)p[J+Ge]=S[J];return f(U,p,p.length,L,M),U.subarray(Ze)},t.secretbox.open=function(S,L,M){kt(S,L,M),sf(M,L);for(var p=new Uint8Array(Ze+S.length),U=new Uint8Array(p.length),J=0;J<S.length;J++)p[J+Ze]=S[J];return p.length<32||h(U,p,p.length,L,M)!==0?null:U.subarray(Ge)},t.secretbox.keyLength=X,t.secretbox.nonceLength=oe,t.secretbox.overheadLength=Ze,t.scalarMult=function(S,L){if(kt(S,L),S.length!==jt)throw new Error("bad n size");if(L.length!==Ke)throw new Error("bad p size");var M=new Uint8Array(Ke);return ge(M,S,L),M},t.scalarMult.base=function(S){if(kt(S),S.length!==jt)throw new Error("bad n size");var L=new Uint8Array(Ke);return tt(L,S),L},t.scalarMult.scalarLength=jt,t.scalarMult.groupElementLength=Ke,t.box=function(S,L,M,p){var U=t.box.before(M,p);return t.secretbox(S,L,U)},t.box.before=function(S,L){kt(S,L),_r(S,L);var M=new Uint8Array(Fa);return Pe(M,S,L),M},t.box.after=t.secretbox,t.box.open=function(S,L,M,p){var U=t.box.before(M,p);return t.secretbox.open(S,L,U)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var S=new Uint8Array(qe),L=new Uint8Array(rr);return Ue(S,L),{publicKey:S,secretKey:L}},t.box.keyPair.fromSecretKey=function(S){if(kt(S),S.length!==rr)throw new Error("bad secret key size");var L=new Uint8Array(qe);return tt(L,S),{publicKey:L,secretKey:new Uint8Array(S)}},t.box.publicKeyLength=qe,t.box.secretKeyLength=rr,t.box.sharedKeyLength=Fa,t.box.nonceLength=yr,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(S,L){if(kt(S,L),L.length!==rs)throw new Error("bad secret key size");var M=new Uint8Array(qt+S.length);return v(M,S,S.length,L),M},t.sign.open=function(S,L){if(kt(S,L),L.length!==Yt)throw new Error("bad public key size");var M=new Uint8Array(S.length),p=V(M,S,S.length,L);if(p<0)return null;for(var U=new Uint8Array(p),J=0;J<U.length;J++)U[J]=M[J];return U},t.sign.detached=function(S,L){for(var M=t.sign(S,L),p=new Uint8Array(qt),U=0;U<p.length;U++)p[U]=M[U];return p},t.sign.detached.verify=function(S,L,M){if(kt(S,L,M),L.length!==qt)throw new Error("bad signature size");if(M.length!==Yt)throw new Error("bad public key size");var p=new Uint8Array(qt+S.length),U=new Uint8Array(qt+S.length),J;for(J=0;J<qt;J++)p[J]=L[J];for(J=0;J<S.length;J++)p[J+qt]=S[J];return V(U,p,p.length,M)>=0},t.sign.keyPair=function(){var S=new Uint8Array(Yt),L=new Uint8Array(rs);return Xt(S,L),{publicKey:S,secretKey:L}},t.sign.keyPair.fromSecretKey=function(S){if(kt(S),S.length!==rs)throw new Error("bad secret key size");for(var L=new Uint8Array(Yt),M=0;M<L.length;M++)L[M]=S[32+M];return{publicKey:L,secretKey:new Uint8Array(S)}},t.sign.keyPair.fromSeed=function(S){if(kt(S),S.length!==ur)throw new Error("bad seed size");for(var L=new Uint8Array(Yt),M=new Uint8Array(rs),p=0;p<32;p++)M[p]=S[p];return Xt(L,M,!0),{publicKey:L,secretKey:M}},t.sign.publicKeyLength=Yt,t.sign.secretKeyLength=rs,t.sign.seedLength=ur,t.sign.signatureLength=qt,t.hash=function(S){kt(S);var L=new Uint8Array(lr);return Dt(L,S,S.length),L},t.hash.hashLength=lr,t.verify=function(S,L){return kt(S,L),S.length===0||L.length===0||S.length!==L.length?!1:O(S,0,L,0,S.length)===0},t.setPRNG=function(S){n=S},function(){var S=typeof self<"u"?self.crypto||self.msCrypto:null;if(S&&S.getRandomValues){var L=65536;t.setPRNG(function(M,p){var U,J=new Uint8Array(p);for(U=0;U<p;U+=L)S.getRandomValues(J.subarray(U,U+Math.min(p-U,L)));for(U=0;U<p;U++)M[U]=J[U];of(J)})}else typeof md<"u"&&(S=Cg,S&&S.randomBytes&&t.setPRNG(function(M,p){var U,J=S.randomBytes(p);for(U=0;U<p;U++)M[U]=J[U];of(J)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})})(mx);var ZM=ft&&ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YM=ft&&ft.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XM=ft&&ft.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ZM(t,e,r);return YM(t,e),t};Object.defineProperty(ti,"__esModule",{value:!0}),ti.getEncryptionPublicKey=ti.decryptSafely=ti.decrypt=ti.encryptSafely=ti.encrypt=void 0;const Ci=z0,Io=XM(mx.exports),Li=Qr;function bx({publicKey:e,data:t,version:r}){if((0,Li.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Li.isNullish)(t))throw new Error("Missing data parameter");if((0,Li.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");const n=Io.box.keyPair();let i;try{i=Ci.base64.decode(e)}catch{throw new Error("Bad public key")}const s=Ci.utf8.decode(t),o=Io.randomBytes(Io.box.nonceLength),a=Io.box(s,o,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Ci.base64.encode(o),ephemPublicKey:Ci.base64.encode(n.publicKey),ciphertext:Ci.base64.encode(a)}}default:throw new Error("Encryption type/version not supported")}}ti.encrypt=bx;function JM({publicKey:e,data:t,version:r}){if((0,Li.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Li.isNullish)(t))throw new Error("Missing data parameter");if((0,Li.isNullish)(r))throw new Error("Missing version parameter");const n=2**11,i=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const s={data:t,padding:""},a=ae.Buffer.byteLength(JSON.stringify(s),"utf-8")%n;let c=0;a>0&&(c=n-a-i),s.padding="0".repeat(c);const u=JSON.stringify(s);return bx({publicKey:e,data:u,version:r})}ti.encryptSafely=JM;function vx({encryptedData:e,privateKey:t}){if((0,Li.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Li.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const r=ae.Buffer.from(t,"hex"),n=Io.box.keyPair.fromSecretKey(r).secretKey,i=Ci.base64.decode(e.nonce),s=Ci.base64.decode(e.ciphertext),o=Ci.base64.decode(e.ephemPublicKey),a=Io.box.open(s,i,o,n);try{if(!a)throw new Error;const c=Ci.utf8.encode(a);if(!c)throw new Error;return c}catch(c){throw c&&typeof c.message=="string"&&c.message.length?new Error(`Decryption failed: ${c.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}ti.decrypt=vx;function QM({encryptedData:e,privateKey:t}){if((0,Li.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Li.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(vx({encryptedData:e,privateKey:t})).data}ti.decryptSafely=QM;function eN(e){const t=ae.Buffer.from(e,"hex"),r=Io.box.keyPair.fromSecretKey(t).publicKey;return Ci.base64.encode(r)}ti.getEncryptionPublicKey=eN,function(e){var t=ft&&ft.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,c)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=ft&&ft.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.normalize=e.concatSig=void 0,r(gs,e),r(j2,e),r(ti,e);var n=Qr;Object.defineProperty(e,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(e,"normalize",{enumerable:!0,get:function(){return n.normalize}})}(Qo);class _x extends Error{constructor(t,r){super(),this.code=t,this.message=r}toString(){return`${this.message} (${this.code})`}}var tN=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},rN=(e,t,r)=>(tN(e,t,"read from private field"),r?r.call(e):t.get(e)),nN=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Fp;const Oa=class{constructor(e){nN(this,Fp,["eth_newFilter","eth_newBlockFilter","eth_newPendingTransactionFilter","eth_uninstallFilter","eth_subscribe"]),this.provider=e}static isUTF8(e){try{return new TextDecoder("utf8",{fatal:!0}).decode(e),!0}catch{return!1}}static bufferToHex(e){return"0x"+ae.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ae.Buffer.from([]);try{typeof e=="string"?t=ae.Buffer.from(e.replace("0x",""),"hex"):t=ae.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}async request(e){if(rN(this,Fp).includes(e.method))return Promise.reject(new _x(4200,`EthereumProvider does not support calling ${e.method}`));switch(e.method){case"wallet_requestPermissions":return this.provider.internalRequest({method:"wallet_requestPermissions",params:e.params});case"eth_requestAccounts":return this.provider.internalRequest({method:"requestAccounts",params:{}});case"eth_sign":return this.ethSign(e.params);case"personal_sign":return this.personalSign(e.params);case"personal_ecRecover":return this.personalECRecover(e.params);case"eth_signTypedData_v3":return this.ethSignTypedData(e.params,Qo.SignTypedDataVersion.V3);case"eth_signTypedData_v4":return this.ethSignTypedData(e.params,Qo.SignTypedDataVersion.V4);case"eth_signTypedData":return this.ethSignTypedData(e.params,Qo.SignTypedDataVersion.V1);case"eth_sendTransaction":return this.provider.internalRequest({method:"signTransaction",params:e.params[0]});case"wallet_watchAsset":{const{options:t,type:r}=e.params,{address:n,symbol:i,decimals:s}=t;return this.provider.internalRequest({method:"watchAsset",params:{type:r,contract:n,symbol:i,decimals:s||0}})}case"wallet_addEthereumChain":return this.provider.internalRequest({method:"addEthereumChain",params:e.params[0]});case"wallet_switchEthereumChain":return this.provider.internalRequest({method:"switchEthereumChain",params:e.params[0]});default:return(await this.provider.getRPC().call({method:e.method,jsonrpc:"2.0",params:e.params})).result}}personalECRecover(e){return this.provider.internalRequest({method:"ecRecover",params:{signature:e[1],message:e[0]}})}async personalSign(e){const[t]=await this.provider.request({method:"eth_accounts"});if(!t)throw new Error("Unable to execute personal_sign");let[r,n]=e;typeof r=="string"&&t.toLowerCase()===r.toLowerCase()&&(r=e[1],n=e[0]);const i=Oa.messageToBuffer(r);return this.provider.internalRequest({method:"signPersonalMessage",params:{data:i.length===0?Oa.bufferToHex(r):r,address:n}})}ethSign(e){if(!e)throw new Error("Missing params");const[t,r]=e,n=Oa.messageToBuffer(r),i=Oa.bufferToHex(n);return this.provider.internalRequest({method:Oa.isUTF8(n)?"signPersonalMessage":"signMessage",params:{data:i,address:t}})}async ethSignTypedData(e,t){const[r]=await this.provider.request({method:"eth_accounts"});if(!r)throw new Error("Unable to execute ethSignTypedData, address is not present");let[n,i]=e;typeof n=="string"&&r.toLowerCase()===n.toLowerCase()&&(n=e[1],i=e[0]);const s=typeof n=="string"?JSON.parse(n):n,{chainId:o}=s.domain||{};if(typeof o<"u"&&Number(o)!==Number(this.provider.getChainId()))throw new Error("Provided chainId does not match the currently active chain");const a=t!==Qo.SignTypedDataVersion.V1?Qo.TypedDataUtils.eip712Hash(s,t):"";return this.provider.internalRequest({method:"signTypedMessage",params:{data:"0x"+a.toString("hex"),raw:typeof n=="string"?n:JSON.stringify(n),address:i,version:t}})}};let iN=Oa;Fp=new WeakMap;var sN=Object.defineProperty,xx=Object.getOwnPropertySymbols,oN=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,Ex=(e,t,r)=>t in e?sN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cN=(e,t)=>{for(var r in t||(t={}))oN.call(t,r)&&Ex(e,r,t[r]);if(xx)for(var r of xx(t))aN.call(t,r)&&Ex(e,r,t[r]);return e},Sx=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},fN=(e,t,r)=>(Sx(e,t,"read from private field"),r?r.call(e):t.get(e)),uN=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},lN=(e,t,r,n)=>(Sx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Tl;class Ax{constructor(t){uN(this,Tl,void 0),lN(this,Tl,t)}async getBlockNumber(){return(await this.call({jsonrpc:"2.0",method:"eth_blockNumber",params:[]})).result}async getBlockByNumber(t){return(await this.call({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:[t,!1]})).result}getFilterLogs(t){return this.call({jsonrpc:"2.0",method:"eth_getLogs",params:[t]})}async call(t){const r=await(await fetch(fN(this,Tl),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(cN({id:new Date().getTime()+Math.floor(Math.random()*1e3)},t))})).json();if(!r.result&&r.error)throw new Error(r.error.message||"rpc error");return r}}Tl=new WeakMap;var Bx=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},cn=(e,t,r)=>(Bx(e,t,"read from private field"),r?r.call(e):t.get(e)),Ma=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Bn=(e,t,r,n)=>(Bx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ix,pi,Na,kl,tf,$i,Pa;const Rx=class extends Pl{constructor(e){super(),Ma(this,pi,void 0),Ma(this,Na,void 0),Ma(this,kl,!1),Ma(this,tf,!0),Ma(this,$i,void 0),Ma(this,Pa,void 0),this.isOnto=!0,this.isONTO=!0,this.isTrust=!1,this.isTrustWallet=!1,this.signer={uri:((Ix=crypto.randomUUID)==null?void 0:Ix.call(crypto))||Math.random()},this.request=this.request.bind(this),e&&(e.chainId&&Bn(this,pi,e.chainId),(e.rpc||e.rpcUrl)&&Bn(this,Na,e.rpc||e.rpcUrl),e.address&&Bn(this,$i,e.address),typeof e.overwriteMetamask<"u"&&Bn(this,tf,e.overwriteMetamask),typeof e.disableMobileAdapter<"u"&&Bn(this,kl,e.disableMobileAdapter),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust),Bn(this,Pa,new Ax(cn(this,Na)))),cn(this,kl)||(this.mobileAdapter=new iN(this)),super.on("onResponseReady",this.onResponseReady.bind(this)),this.connect()}connect(){this.emit("connect",{chainId:cn(this,pi)})}enable(){return this.request({method:"eth_requestAccounts"})}sendAsync(e,t){Array.isArray(e)?Promise.all(e.map(r=>this.request(r))).then(r=>t(null,r)).catch(r=>t(r,null)):this.request(e).then(r=>t(null,r)).catch(r=>t(r,null))}_send(e){const t={jsonrpc:"2.0",result:null};switch(e.method){case"eth_accounts":case"eth_coinbase":case"net_version":case"eth_chainId":t.result=this.handleStaticRequests({method:"eth_accounts"});break;default:throw new _x(4200,`Trust does not support calling ${e.method} synchronously without a callback. Please provide a callback parameter to call ${e.method} asynchronously.`)}return t}send(e,t){if(typeof e=="string"&&(!t||Array.isArray(t))){const r=this;return new Promise((n,i)=>{try{const s=r.request({method:e,params:t});s instanceof Promise?s.then(n).catch(i):n(s)}catch(s){i(s)}})}else if(e&&typeof e=="object"&&typeof t=="function")return this.request(e).then(t);return this._send(e)}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);if(this.mobileAdapter){const r=this.handleStaticRequests(e,()=>this.mobileAdapter.request(e));return r instanceof Promise?r:Promise.resolve(r)}return this.handleStaticRequests(e,t)}handleStaticRequests(e,t){switch(e.method){case"net_version":return cn(this,pi)?parseInt(cn(this,pi)):void 0;case"eth_chainId":return cn(this,pi);case"eth_accounts":case"eth_coinbase":return cn(this,$i)?[cn(this,$i)]:[]}if(t)return t()}onResponseReady(e,t){var r,n,i,s;if(t)switch(e.method){case"eth_requestAccounts":case"requestAccounts":Bn(this,$i,t[0]);break;case"wallet_requestPermissions":Bn(this,$i,(s=(i=(n=(r=t[0])==null?void 0:r.caveats)==null?void 0:n[0])==null?void 0:i.value)==null?void 0:s[0]);break}}getNetwork(){return Rx.NETWORK}get connected(){return!0}get isMetaMask(){return cn(this,tf)}getChainId(){return cn(this,pi)}getNetworkVersion(){return this.handleStaticRequests({method:"net_version "})}get networkVersion(){return cn(this,pi)}get chainId(){return cn(this,pi)}setConfig(e){this.setChainId("0x"+parseInt(e.chainId||"1").toString(16)),e.address&&this.setAddress(e.address),e.rpcUrl&&this.setRPCUrl(e.rpcUrl)}emitChainChanged(e){this.setChainId("0x"+parseInt(e||"1").toString(16)),this.emit("chainChanged",this.getChainId()),this.emit("networkChanged",parseInt(e||"1")),this.emit("accountsChanged",[this.getAddress()])}setChainId(e){Bn(this,pi,e)}setRPCUrl(e){Bn(this,Na,e),Bn(this,Pa,new Ax(cn(this,Na)))}getRPC(){return cn(this,Pa)}setOverwriteMetamask(e){Bn(this,tf,e)}get selectedAddress(){return cn(this,$i)}getAddress(){return cn(this,$i)}setAddress(e){Bn(this,$i,e)}setRPC(e){Bn(this,Pa,e)}};let Tx=Rx;pi=new WeakMap,Na=new WeakMap,kl=new WeakMap,tf=new WeakMap,$i=new WeakMap,Pa=new WeakMap,Tx.NETWORK="ethereum";class hN{constructor(t){this.provider=t}async request(t,r){if(t.method==="getKey"){const i=await this.provider.internalRequest({method:"requestAccounts",params:t.params}),s=JSON.parse(i);return{algo:"secp256k1",address:s.address,bech32Address:s.address,pubKey:ae.Buffer.from(s.pubKey,"hex")}}const n={signAmino:"signTransaction",signDirect:"signTransaction",signArbitrary:"signMessage",sendTx:"sendTransaction"};return n[t.method]?this.provider.internalRequest({method:n[t.method],params:t.params}):r()}}var kx=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Cx=(e,t,r)=>(kx(e,t,"read from private field"),r?r.call(e):t.get(e)),dN=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},pN=(e,t,r,n)=>(kx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),rf;const nf=class extends Pl{constructor(e){super(),dN(this,rf,!1),this.isKeplr=!0,this.isTrust=!0,this.isTrustWallet=!0,e&&(typeof e.disableMobileAdapter<"u"&&pN(this,rf,e.disableMobileAdapter),typeof e.isKeplr<"u"&&(this.isKeplr=e.isKeplr),typeof e.isTrust<"u"&&(this.isTrust=e.isTrust,this.isTrustWallet=e.isTrust)),Cx(this,rf)||(this.mobileAdapter=new hN(this))}static bufferToHex(e){return"0x"+ae.Buffer.from(e).toString("hex")}getNetwork(){return nf.NETWORK}isMobileAdapterEnabled(){return!Cx(this,rf)}enable(e){return this.request({method:"enable",params:{chainIds:e}})}internalRequest(e){return super.request(e)}request(e){const t=()=>this.internalRequest(e);return this.mobileAdapter?this.mobileAdapter.request(e,t):t()}getKey(e){return this.request({method:"getKey",params:{chainId:e}})}async sendTx(e,t,r){const n=ae.Buffer.from(t).toString("base64"),i=await this.request({method:"sendTx",params:{raw:n,chainId:e,mode:r}});return ae.Buffer.from(i,"hex")}async signArbitrary(e,t,r){const n=ae.Buffer.from(r),i=nf.bufferToHex(n);return await this.request({method:"signArbitrary",params:{chainId:e,data:i,signerAddress:t}})}async signAmino(e,t,r){const n=await this.request({method:"signAmino",params:{chainId:e,sign_doc:r}}),{signed:i,signature:s}=JSON.parse(n);return{signed:i,signature:s}}async signDirect(e,t,r){const n={bodyBytes:nf.bufferToHex(r.bodyBytes),authInfoBytes:nf.bufferToHex(r.authInfoBytes)},i=await this.request({method:"signDirect",params:{signerAddress:t,chainId:e,sign_doc:n}}),{signature:s}=JSON.parse(i);return{signed:r,signature:s}}experimentalSuggestChain(){}getOfflineSignerDirect(e){return{getAccounts:async()=>[await this.getKey(e)],signDirect:async(t,r)=>{if(e!==r.chainId)throw new Error("Unmatched chain id with the offline signer");if((await this.getKey(r.chainId)).address!==t)throw new Error("Unknown signer address");return await this.signDirect(e,t,r)}}}getOfflineSigner(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAuto(e){return this.getOfflineSignerAmino(e)}getOfflineSignerAmino(e){return{getAccounts:async()=>{const t=await this.getKey(e);return[{address:t.bech32Address,algo:"secp256k1",pubkey:t.pubKey}]},sign:(t,r)=>this.signAmino(e,t,r),signAmino:(t,r)=>this.signAmino(e,t,r)}}};let Lx=nf;rf=new WeakMap,Lx.NETWORK="cosmos";var Hp={exports:{}},Ua=typeof Reflect=="object"?Reflect:null,$x=Ua&&typeof Ua.apply=="function"?Ua.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Cl;Ua&&typeof Ua.ownKeys=="function"?Cl=Ua.ownKeys:Object.getOwnPropertySymbols?Cl=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Cl=function(e){return Object.getOwnPropertyNames(e)};function gN(e){console&&console.warn&&console.warn(e)}var Ox=Number.isNaN||function(e){return e!==e};function Zt(){Zt.init.call(this)}Hp.exports=Zt,Hp.exports.once=bN,Zt.EventEmitter=Zt,Zt.prototype._events=void 0,Zt.prototype._eventsCount=0,Zt.prototype._maxListeners=void 0;var Mx=10;function Ll(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Zt,"defaultMaxListeners",{enumerable:!0,get:function(){return Mx},set:function(e){if(typeof e!="number"||e<0||Ox(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Mx=e}}),Zt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Zt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ox(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Nx(e){return e._maxListeners===void 0?Zt.defaultMaxListeners:e._maxListeners}Zt.prototype.getMaxListeners=function(){return Nx(this)},Zt.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")$x(a,this,t);else for(var c=a.length,u=Dx(a,c),r=0;r<c;++r)$x(u[r],this,t);return!0};function Px(e,t,r,n){var i,s,o;if(Ll(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),o===void 0)o=s[t]=r,++e._eventsCount;else if(typeof o=="function"?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=Nx(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,gN(a)}return e}Zt.prototype.addListener=function(e,t){return Px(this,e,t,!1)},Zt.prototype.on=Zt.prototype.addListener,Zt.prototype.prependListener=function(e,t){return Px(this,e,t,!0)};function yN(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ux(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=yN.bind(n);return i.listener=r,n.wrapFn=i,i}Zt.prototype.once=function(e,t){return Ll(t),this.on(e,Ux(this,e,t)),this},Zt.prototype.prependOnceListener=function(e,t){return Ll(t),this.prependListener(e,Ux(this,e,t)),this},Zt.prototype.removeListener=function(e,t){var r,n,i,s,o;if(Ll(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():wN(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this},Zt.prototype.off=Zt.prototype.removeListener,Zt.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),s;for(n=0;n<i.length;++n)s=i[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function Fx(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?mN(i):Dx(i,i.length)}Zt.prototype.listeners=function(e){return Fx(this,e,!0)},Zt.prototype.rawListeners=function(e){return Fx(this,e,!1)},Zt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Hx.call(e,t)},Zt.prototype.listenerCount=Hx;function Hx(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Zt.prototype.eventNames=function(){return this._eventsCount>0?Cl(this._events):[]};function Dx(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function wN(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function mN(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function bN(e,t){return new Promise(function(r,n){function i(o){e.removeListener(t,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}jx(e,t,s,{once:!0}),t!=="error"&&vN(e,i,{once:!0})})}function vN(e,t,r){typeof e.on=="function"&&jx(e,"error",t,r)}function jx(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}const qx={PROMISES:"PROMISES",CALLBACK:"CALLBACK"};class _N extends Hp.exports.EventEmitter{setAdapter(t){return this.adapter=t,this}async request(t){try{if(!this.adapter)throw new Error("No adapter set, maybe you forgot to register the provider?");const r=await this.adapter.request(t,this.getNetwork());return this.emit("onResponseReady",t,r),r}catch(r){throw r}}sendResponse(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==qx.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendResponse(t,r)}sendError(t,r){if(!this.adapter)throw new Error("Adapter not found");if(this.adapter.getStrategy()!==qx.CALLBACK)throw new Error("Trying to send callback request on promisified adapter");this.adapter.sendError(t,r)}}const $l=class extends _N{constructor(e){super(),this._isConnected=!1,this.chainId=null,this.address=null,e&&e.network&&(this._network=e.network,e.chainId&&(this.chainId=e.chainId))}static bufferToHex(e){return"0x"+ae.Buffer.from(e).toString("hex")}static messageToBuffer(e){let t=ae.Buffer.from([]);try{typeof e=="string"?t=ae.Buffer.from(e.replace("0x",""),"hex"):t=ae.Buffer.from(e)}catch(r){console.log(`messageToBuffer error: ${r}`)}return t}setConfig(e){this._network=e.network,this.address=e.address,this.chainId=e.chainId}async connect(){const e=await this.account();return this._isConnected=!0,this.emit("connect"),e}disconnect(){this._isConnected=!1,this.emit("disconnect")}isConnected(){return this._isConnected}async account(){return await this.request({method:"requestAccounts",params:{}})}network(){return this._network}getNetwork(){return $l.NETWORK}async generateTransaction(e,t,r){return t}async signMessage(e){const t="APTOS",r=(await this.account()).address;let n=t;const i=window.location.protocol+"//"+window.location.hostname;e.address&&(n+=`
address: `+r),e.application&&(n+=`
application: `+i),e.chainId&&(n+=`
chainId: `+this.chainId),n+=`
message: `+e.message,n+=`
nonce: `+e.nonce;const s=ae.Buffer.from(n),o=$l.bufferToHex(s);return this.request({method:"signMessage",params:{data:o}}).then(a=>({address:r,application:i,chainId:this.chainId,fullMessage:n,message:e.message,nonce:e.nonce,prefix:t,signature:a}))}async signAndSubmitTransaction(e){return await this.request({method:"sendTransaction",params:{tx:e}})}async signTransaction(e){const t=await this.request({method:"signTransaction",params:{data:e}});return JSON.parse($l.messageToBuffer(t).toString())}};let zx=$l;zx.NETWORK="aptos";const xN=(e,t)=>new yE({strategy:e,handler:t}),EN=e=>new su(e),SN=e=>new Lx(e),AN=e=>new Tx(e),BN=e=>new zx(e);window.trustwallet={core:xN,solana:EN,cosmos:SN,ethereum:AN,aptos:BN}});
